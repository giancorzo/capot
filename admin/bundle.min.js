!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/collection")),i=e("../models/email");t.exports=r.extend({model:i,comparator:function(e){return-1*e.get("id")}})},{"../../client/ui/collection":21,"../models/email":5,lodash:56}],2:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/collection")),i=e("../models/user");t.exports=r.extend({model:i,comparator:function(e){return-1*e.get("id")}})},{"../../client/ui/collection":21,"../models/user":6,lodash:56}],3:[function(e,t,n){var r=e("../client/couch"),i=e("../client/ui"),o=window.app=i({routePrefix:"_admin/",views:{index:e("./views/index"),signin:e("./views/signin"),users:e("./views/users"),config:e("./views/config"),emails:e("./views/emails"),header:e("./views/_header")},models:{user:e("./models/user"),config:e("./models/config"),email:e("./models/email")},collections:{users:e("./collections/users"),emails:e("./collections/emails")},templates:e("./templates").templates});o.couch=r("/_couch"),o.addRegion("header",{view:"header",prepend:!0,tagName:"header",className:"navbar navbar-inverse navbar-fixed-top"}),o.route("",o.requireAdmin(function(){o.showView("index")})),o.route("users",o.requireAdmin(function(){o.showView("users")})),o.route("config",o.requireAdmin(function(){o.showView("config")})),o.route("emails",o.requireAdmin(function(){o.showView("emails")})),o.route("signin",function(){o.account.isSignedIn()&&!o.account.isAdmin()?window.location.href="/":o.account.isSignedIn()?o.navigate("",{trigger:!0}):o.showView("signin")}),o.start()},{"../client/couch":15,"../client/ui":23,"./collections/emails":1,"./collections/users":2,"./models/config":4,"./models/email":5,"./models/user":6,"./templates":7,"./views/_header":8,"./views/config":9,"./views/emails":10,"./views/index":11,"./views/signin":12,"./views/users":13}],4:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/model"));t.exports=r.extend({defaults:{id:"config"},sync:function(e,t,n){function r(e){a(null,null,e)}var i,o=n.success||function(){},a=n.error||function(){},s=t.toJSON(),u=t.app,c=u.couch.db("app");switch(e){case"read":c.get("config").then(function(e){return i=e,u.request("GET","/_oauth/available_providers")}).then(function(e){return i.oauth=i.oauth||{},i.oauth.providers=i.oauth.providers||{},i.oauth.providers=e.reduce(function(e,t){return e[t]=i.oauth.providers[t]||{enabled:!1},e},{}),i}).then(o,r);break;case"update":c.put(s).then(function(e){s._rev=e.rev,o(s)},r);break;default:a(null,null,new Error("Unsupported sync method"))}}})},{"../../client/ui/model":24,lodash:56}],5:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/model"));t.exports=r.extend({defaults:function(){return{type:"email"}},database:"app"})},{"../../client/ui/model":24,lodash:56}],6:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/model"));t.exports=r.extend({defaults:function(){return{type:"user"}},database:"_users"})},{"../../client/ui/model":24,lodash:56}],7:[function(e,t,n){this.templates=this.templates||{},this.templates.config=Handlebars.template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return"      <fieldset>\n        <h2>"+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'</h2>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-enabled"'+(null!=(o=n["if"].call(s,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?o:"")+'> Enabled\n          </label>\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key">Client ID</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key" value="'+l((a=null!=(a=n.key||(null!=t?t.key:t))?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client ID">\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret">Client Secret</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret" value="'+l((a=null!=(a=n.secret||(null!=t?t.secret:t))?a:u,typeof a===c?a.call(s,{name:"secret",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client Secret">\n        </div>\n      </fieldset>\n'},2:function(e,t,n,r,i){return"checked"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{},s=n.helperMissing,u=e.escapeExpression,c=e.lambda;return'<h1 class="page-header">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"globe",{name:"glyphicon",hash:{},data:i}))+' General</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="app-form">\n      <div class="form-group">\n        <label for="app-name">App name</label>\n        <input type="text" class="form-control" name="app-name"\n          id="app-name" value="'+u(c(null!=(o=null!=t?t.app:t)?o.name:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="app-url">App URL</label>\n        <input type="text" class="form-control" name="app-url"\n          id="app-url" value="'+u(c(null!=(o=null!=t?t.app:t)?o.url:o,t))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"send",{name:"glyphicon",hash:{},data:i}))+' Outgoing Mail</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="mailer-form">\n      <div class="form-group">\n        <label for="mailer-from">From</label>\n        <input type="text" class="form-control" name="mailer-from"\n          id="mailer-from" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.from:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-service">Service</label>\n        '+u((n.mailerServicePicker||t&&t.mailerServicePicker||s).call(a,null!=(o=null!=t?t.mailer:t)?o.service:o,{name:"mailerServicePicker",hash:{},data:i}))+'\n      </div>\n      <div class="form-group">\n        <label for="mailer-user">Username</label>\n        <input type="text" class="form-control" name="mailer-user"\n          id="mailer-user" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.user:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-pass">Password</label>\n        <input type="password" class="form-control" name="mailer-pass"\n          id="mailer-pass" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.pass:o,t))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"lock",{name:"glyphicon",hash:{},data:i}))+' OAuth</h3>\n  </div>\n  <div class="panel-body">\n\n    <form role="form" id="oauth-form">\n'+(null!=(o=n.each.call(a,null!=(o=null!=t?t.oauth:t)?o.providers:o,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n'},useData:!0}),Handlebars.registerPartial("email",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{},s=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="panel panel-default" data-id="'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'</h3>\n  </div>\n  <div class="panel-body">\n    <p>'+c((o=null!=(o=n.description||(null!=t?t.description:t))?o:s,typeof o===u?o.call(a,{name:"description",hash:{},data:i}):o))+'</p>\n    <div class="form-group">\n      <label for="subject">Subject</label>\n      <input type="text" class="form-control" id="subject" value="'+c((o=null!=(o=n.subject||(null!=t?t.subject:t))?o:s,typeof o===u?o.call(a,{name:"subject",hash:{},data:i}):o))+'">\n    </div>\n    <div class="form-group">\n      <label for="text">Text</label>\n      <textarea class="form-control" id="text" rows="8">'+c((o=null!=(o=n.text||(null!=t?t.text:t))?o:s,typeof o===u?o.call(a,{name:"text",hash:{},data:i}):o))+'</textarea>\n    </div>\n  </div>\n  <div class="panel-footer">\n    <button type="button" class="btn btn-primary" data-action="save-email">\n      '+c((n.glyphicon||t&&t.glyphicon||s).call(a,"save",{name:"glyphicon",hash:{},data:i}))+" Save\n    </button>\n  </div>\n</div>\n\n"},useData:!0})),this.templates.emails=Handlebars.template({1:function(e,t,n,r,i){var o;return null!=(o=e.invokePartial(r.email,t,{name:"email",data:i,helpers:n,partials:r,decorators:e.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o;return'<h1 class="page-header">Email Templates</h1>\n\n'+(null!=(o=n.each.call(null!=t?t:{},null!=t?t.models:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")},usePartial:!0,useData:!0}),this.templates.header=Handlebars.template({1:function(e,t,n,r,i){return'  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu">\n    <span class="sr-only">Toggle navigation</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n  </button>\n'},3:function(e,t,n,r,i){var o=null!=t?t:{},a=n.helperMissing,s=e.escapeExpression;return'<div class="collapse navbar-collapse" id="main-menu">\n  <ul class="nav navbar-nav">\n    <li><a href="/users">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"user",{name:"glyphicon",hash:{},data:i}))+' Users</a></li>\n    <li><a href="/config">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</a></li>\n    <li><a href="/emails">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"envelope",{name:"glyphicon",hash:{},data:i}))+' Mail templates</a></li>\n    <li class="divider"></li>\n    <li><a href="#" data-action="signout">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"log-out",{name:"glyphicon",hash:{},data:i}))+" Sign Out</a></li>\n  </ul>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{};return'<div class="navbar-header">\n'+(null!=(o=n["if"].call(a,null!=(o=null!=t?t.userCtx:t)?o.name:o,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'  <a class="navbar-brand" href="/">\n    <img src="favicons/favicon-32x32.png" width="24" />\n    Capot Admin\n  </a>\n</div>\n\n'+(null!=(o=n["if"].call(a,null!=(o=null!=t?t.userCtx:t)?o.name:o,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+"\n"},useData:!0}),this.templates.index=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=e.escapeExpression,s=e.lambda;return'<h1 class="page-header">Hi Admin!</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+a((n.glyphicon||t&&t.glyphicon||n.helperMissing).call(null!=t?t:{},"info-sign",{name:"glyphicon",hash:{},data:i}))+' App Info</h3>\n  </div>\n  <div class="panel-body">\n    <h4>Capot</h4>\n    <p>\n      <strong>Version</strong>: '+a(s(null!=(o=null!=t?t.capot:t)?o.version:o,t))+"<br />\n    </p>\n    <h4>CouchDB</h4>\n    <p>\n      <strong>Version</strong>: "+a(s(null!=(o=null!=t?t.couchdb:t)?o.version:o,t))+"<br />\n      <strong>UUID</strong>: "+a(s(null!=(o=null!=t?t.couchdb:t)?o.uuid:o,t))+"<br />\n      <strong>Vendor</strong>: "+a(s(null!=(o=null!=(o=null!=t?t.couchdb:t)?o.vendor:o)?o.name:o,t))+" "+a(s(null!=(o=null!=(o=null!=t?t.couchdb:t)?o.vendor:o)?o.version:o,t))+"\n    </p>\n  </div>\n</div>\n\n"},useData:!0}),this.templates.signin=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<form id="signin-form">\n  <div class="form-group">\n    <label for="pass">Admin Password</label>\n    <input type="password" class="form-control" id="pass" />\n  </div>\n  <button type="submit" class="btn btn-default">Sign in</button>\n</form>\n'},useData:!0}),this.templates.users=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<h1 class="page-header">'+e.escapeExpression((n.glyphicon||t&&t.glyphicon||n.helperMissing).call(null!=t?t:{},"user",{name:"glyphicon",hash:{},data:i}))+" Users</h1>\n"},useData:!0})},{}],8:[function(e,t,n){var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"header",initialize:function(e){function t(){n.model=o.session,n.render()}var n=this,i=e.app,o=i.account;r.prototype.initialize.call(n,e),o.on("init",t),o.on("signin",t),o.on("signout",t),o.on("online",t),o.on("offline",t),i.on("route",function(e){n.$("#main-menu a").each(function(){var t=$(this),n=t.attr("href");"/"===n.charAt(0)&&(n=n.slice(1)),n===e?t.parents("li").addClass("active"):t.parents("li").removeClass("active")})})},events:{'click [data-action="signout"]':"signout"},signout:function(e){var t=this.app;t.account.signOut().then(function(){window.location.href="/"},function(){console.error("signout:fail",arguments)})}})},{"../../client/ui/view":26}],9:[function(e,t,n){var r=(e("lodash"),e("../../client/ui/view")),i=window.Handlebars;i.registerHelper("mailerServicePicker",function(e){var t='<select name="mailer-service" id="mailer-service" class="form-control">';return["Gmail","Mailgun","Mandrill","Postmark","SendGrid"].forEach(function(n){t+='<option name="'+n+'"',n===e&&(t+=" selected"),t+=">"+n+"</option>"}),t+="</select>",new i.SafeString(t)}),t.exports=r.extend({className:"container",templateName:"config",initialize:function(e){var t=this;r.prototype.initialize.call(t,e);var n=t.app,i=t.model=n.createModel("config");i.once("sync",function(){t.render()}),i.fetch()},events:{"submit #app-form":"save","submit #mailer-form":"save","submit #oauth-form":"save"},save:function(e){e.preventDefault();var t=this,n=t.model,r={name:t.$("#app-name").val(),url:t.$("#app-url").val()},i={from:t.$("#mailer-from").val(),service:t.$("#mailer-service").val(),user:t.$("#mailer-user").val(),pass:t.$("#mailer-pass").val()},o=n.get("oauth");return o.providers=Object.keys(o.providers).reduce(function(e,t){return e[t]={enabled:$("#"+t+"-enabled").is(":checked"),key:$("#"+t+"-key").val(),secret:$("#"+t+"-secret").val()},e},{}),n.save({app:r,mailer:i,oauth:o},{error:function(e){alert(e.reason||e.message)},success:function(){alert("Config updated!")}}),!1}})},{"../../client/ui/view":26,lodash:56}],10:[function(e,t,n){var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"emails",initialize:function(e){var t=this,n=e.app;r.prototype.initialize.call(t,e);var i=t.model=n.createCollection("emails"),o=Handlebars.partials.email;i.on("change",function(e){var n=o(e.toViewContext());t.$('[data-id="'+e.id+'"]').replaceWith(n)}),i.once("sync",function(){t.render()}),i.fetch()},events:{'click [data-action="save-email"]':"saveEmail"},saveEmail:function(e){var t=$(e.currentTarget),n=t.parents(".panel"),r=n.find("textarea"),i=n.data("id"),o=r.val(),a=this.model.get(i);a.save({text:o})}})},{"../../client/ui/view":26}],11:[function(e,t,n){var r=(e("lodash"),e("async"),e("../../client/ui/view")),i=e("../../package.json");t.exports=r.extend({className:"container",templateName:"index",initialize:function(e){var t=this,n=e.app;r.prototype.initialize.call(t,e),n.couch.get("/").then(function(e){t.model={capot:i,couchdb:e},t.render()})}})},{"../../client/ui/view":26,"../../package.json":109,async:31,lodash:56}],12:[function(e,t,n){var r=e("../../client/ui/view"),i=e("../../client/couch");t.exports=r.extend({className:"container",templateName:"signin",initialize:function(e){r.prototype.initialize.call(this,e),this.render()},events:{"submit #signin-form":"submit"},submit:function(e){e.preventDefault();var t=(this.app,{name:"admin",password:$("#pass").val()});return i("/_couch").post("/_session",t).then(function(e){window.location.href="/_admin/"},function(e){alert(e.reason)}),!1}})},{"../../client/couch":15,"../../client/ui/view":26}],13:[function(e,t,n){var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"users",initialize:function(e){r.prototype.initialize.call(this,e),this.render()}})},{"../../client/ui/view":26}],14:[function(e,t,n){function r(e){return"/_users/"+encodeURIComponent("org.couchdb.user:"+e)}function i(){return JSON.parse(window.localStorage.getItem("__capot_session"))}function o(e){window.localStorage.setItem("__capot_session",JSON.stringify(e))}var a=e("events").EventEmitter,s=e("promise"),u=e("./couch")("/_couch"),c=function(){};t.exports=function(e){function t(t){return function(){e.log("debug",t,Array.prototype.slice.call(arguments,0))}}var n=new a,l=!1;return n.id=function(){var e=((n.session||{}).userCtx||{}).roles||[];return e.reduce(function(e,t){var n=/^capot:write:user\/([a-z0-9]+)$/.exec(t);return n&&n[1]?n[1]:e},null)},n.signUp=function(t,r){return new s(function(i,o){function a(){e.request("POST","/_session",{name:t,password:r}).then(function(e){return e.roles.length?void n.init().then(i,o):setTimeout(a,1e3)},o)}return r.length<8?o(new Error("Password must be at least 8 chars long")):void e.request("POST","/_users",{email:t,password:r}).then(function(){setTimeout(a,300)},o)})},n.signIn=function(e,t){return u.post("/_session",{name:e,password:t}).then(function(){return n.init()})},n.signOut=function(){return u.del("/_session").then(function(){return n.init()})},n.changePassword=function(e,t){var i=n.session.userCtx.name,o=r(i);return t.length<8?new s(function(e,t){t(new Error("Password must be at least 8 chars long"))}):u.post("/_session",{name:i,password:e}).then(function(){return u.get(o)}).then(function(e){return e.password=t,u.put(o,e)}).then(function(){return n.signIn(i,t)})},n.changeUsername=function(e,t){throw new Error("FIXME: Unimplented!")},n.resetPassword=function(t){return e.request("POST","/_reset",{email:t,baseurl:window.location.origin})},n.destroy=function(){var t=n.session.userCtx.name,i=r(t);return e.request.del(i).then(function(){return n.init()})},n.isSignedIn=function(){var e=(n.session||{}).userCtx||{};return"string"==typeof e.name&&e.name.length>0},n.isAdmin=function(){var e=(n.session||{}).userCtx||{};return e.roles&&e.roles.indexOf("_admin")>=0},n.isOnline=function(){return n.session&&n.session.isOnline},n.isOffline=function(){return!n.isOnline()},n.init=function(t){l?e.log("info","refreshing account..."):e.log("info","initializing account..."),t=t||c;var r=n.isOnline(),a=n.isSignedIn();return new s(function(e,s){function c(){o(n.session),l?r&&n.isOffline()?n.emit("offline"):!r&&n.isOnline()?n.emit("online"):!a&&n.isSignedIn()?n.emit("signin"):a&&!n.isSignedIn()&&n.emit("signout"):(l=!0,n.emit("init"),window.setInterval(n.init.bind(n),3e4)),e(),t()}u.get("/_session").then(function(e){n.session=e,n.session.isOnline=!0,c()},function(e){n.session=i()||{},n.session.isOnline=!1,c()})})},e.settings.debug===!0&&["init","signin","signout","offline","online"].forEach(function(e){n.on(e,t(e))}),n}},{"./couch":15,events:35,promise:101}],15:[function(e,t,n){function r(e){var t=o(e);return{get:t.bind(null,"GET"),post:t.bind(null,"POST"),put:t.bind(null,"PUT"),del:t.bind(null,"DELETE")}}var i=(e("extend"),e("promise"),e("pouchdb")),o=e("./request");t.exports=function(e){"string"==typeof e&&(e={url:e}),/^https?:\/\//.test(e.url)||("/"===e.url.charAt(0)&&(e.url=e.url.slice(1)),e.url=window.location.origin+"/"+e.url);var t=r(e);return t.db=function(t){return new i(e.url+"/"+encodeURIComponent(t))},t.isAdminParty=function(e){t.get("/_users/_all_docs",function(t,n){t&&401===t.statusCode?e(null,!1):t?e(t):e(null,!0)})},t}},{"./request":18,extend:93,pouchdb:99,promise:101}],16:[function(e,t,n){var r=e("extend"),i=e("async"),o=function(){},a={remote:window.location.origin+"/_couch"};t.exports=function(t){var n=r({},a,t),s={settings:n,request:e("./request")({url:window.location.origin}),uid:e("./uid"),log:e("./log")(n)},u=s.account=e("./account")(s),c=s.store=e("./store")(s);return s.log("debug","Dependencies: jQuery "+jQuery.fn.jquery+", PouchDB "+e("pouchdb").version),s.start=function(e){e=e||o,s.log("info","Starting capot client..."),i.applyEachSeries([i.apply(u.init),i.apply(c.init)],function(t){s.log("info",t||"Capot client successfully started"),e(t)})},s}},{"./account":14,"./log":17,"./request":18,"./store":19,"./uid":27,async:31,extend:93,pouchdb:99}],17:[function(e,t,n){var r={};r.pad=function(e,t,n){var r=""+e;"number"!=typeof t&&(t=2),"undefined"==typeof n&&(n="0");var i=t-r.length;if(0>=i)return r;for(var o=0;i>o;o++)r=n+r;return r},r.formatDate=function(e){return[r.pad(e.getHours()),r.pad(e.getMinutes()),r.pad(e.getSeconds()),r.pad(e.getMilliseconds(),3)].join(":")},t.exports=function(e){return function(t,n){"undefined"!=typeof console&&"function"==typeof console.log&&("string"==typeof t&&(t=[t]),!e.debug&&t.indexOf("debug")>=0||console.log(r.formatDate(new Date),t,n))}}},{}],18:[function(e,t,n){var r=e("promise");t.exports=function(e){return function(){var t=Array.prototype.slice.call(arguments,0),n=t.shift(),i=t.shift();return"/"!==i.charAt(0)&&(i="/"+i),new r(function(r,o){var a={type:n,url:e.url+i,dataType:"json",timeout:1e4,cache:!1,error:function(e){var t,n;0===e.status?t="Request timed out":e.responseJSON&&e.responseJSON.error?(t=e.responseJSON.error,n=e.responseJSON.reason):t=e.statusText;var r=new Error(t);r.statusCode=e.status,r.reason=n,o(r)},success:r};if(e.user&&e.pass&&(a.username=e.user,a.password=e.pass),["PUT","POST"].indexOf(n)>=0){var s=t.pop();s&&(a.data=JSON.stringify(s),a.contentType="application/json")}if(t.length){var u=t.shift(),c=Object.keys(u);a.url+=c.reduce(function(e,t){var n=JSON.stringify(u[t]);return e&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n)},"?")}$.ajax(a)})}}},{promise:101}],19:[function(e,t,n){function r(e){if("string"!=typeof e)throw new Error("Model type must be a string")}function i(e){var t=e._id.split("/");return c({id:t[1],type:t[0]},l(e,["_id"]))}function o(e){return c({_id:e.type+"/"+e.id},l(e,["id"]))}var a=e("events").EventEmitter,s=e("promise"),u=e("pouchdb"),c=e("extend"),l=e("omit"),f=e("async"),d=function(){};t.exports=function(e){function t(e,t){v.emit("sync",e,t),v.emit("sync:"+e,t)}function n(t){return function(){e.log("debug",t,Array.prototype.slice.call(arguments,0))}}var h=e.settings,p=e.account,v=new a;return v.sync=function(n){return n=n||d,v.remoteUrl?e.account.isOffline()?n():void v.remote.replicate.sync(v.local,{filter:function(e){return 0!==e._id.indexOf("_design")}}).on("error",t.bind(null,"error")).on("denied",function(e){console.error("sync denied",e)}).on("paused",t.bind(null,"paused")).on("active",t.bind(null,"active")).on("change",t.bind(null,"change")).on("complete",function(e){v.lastSync=e.push.end_time,e.pull.end_time>v.lastSync&&(v.lastSync=e.pull.end_time),t("complete",e),n()}):n()},v.find=function(e,t,n){return r(e),n=n||{},new s(function(r,o){v.local.get(e+"/"+t).then(function(e){var t=i(e);return n.attachments&&e._attachments?void v.getAttachments(e).then(function(e){t._attachments=e,r(t)}):r(t)},o)})},v.findAll=function(e,t){return r(e),t=t||{},new s(function(n,r){v.local.allDocs({include_docs:!0,startkey:e+"/",endkey:e+"0"}).then(function(e){var o=e.rows.map(function(e){return i(e.doc)});return t.attachments?void f.each(o,function(e,t){v.getAttachments(e).then(function(n){e._attachments=n,t()},t)},function(e){return e?r(e):void n(o)}):n(o)},r)})},v.add=function(t,n){r(t);var o=n._attachments||{},a=Object.keys(o),u={},d=a.reduce(function(e,t){var n=o[t];return n instanceof File?u[k]=n:e[k]=n,e},{}),h=c({},l(n,["_attachments"]),{_id:t+"/"+e.uid(),createdAt:new Date,type:t});return Object.keys(d).length&&(h._attachments=d),new s(function(e,t){var n=v.local;n.put(h).then(function(r){h._rev=r.rev;var o=Object.keys(u);return o.length?void f.eachSeries(o,function(e,t){var r=h._id,i=h._rev,o=u[e],a=o.type;n.putAttachment(r,e,i,o,a,function(e,n){return e?t(e):(h._rev=n.rev,void t())})},function(n){return n?t(n):void e(i(h))}):e(i(h))},t)})},v.update=function(e,t,n){r(e)},v.remove=function(e,t){return v.find(e,t).then(function(e){return v.local.put({_deleted:!0},o(e)._id,e._rev)})},v.removeAll=function(e){},v.attach=function(e,t,n,r){},v.getAttachments=function(e){var t=o(e)._id,n=e._attachments||{},r=Object.keys(n);return new s(function(e,i){return r.length?void f.each(r,function(e,r){v.local.getAttachment(t,e,function(t,i){return t?r(t):(n[e].data=i,void r())})},function(t){return t?i(t):void e(n)}):e([])})},v.init=function(t){function n(){var n=v.local.changes({since:"now",live:!0,include_docs:!0});n.on("change",function(e){function t(e){v.emit(e,n,{local:!0}),v.emit(e+":"+r,n,{local:!0})}var n=i(e.doc),r=n.type;r&&(t(e.deleted||n._deleted?"remove":/^1-/.test(n._rev)?"add":"update"),t("change"),v.sync())}),e.log("info","capot.store init ok"),v.emit("init"),t()}e.log("info","capot.store init start"),t=t||d;var r=p.id()||"__capot_anon";v.local=new u(r,{auto_compaction:!0}),p.isSignedIn()&&!p.isAdmin()?(v.remoteUrl=h.remote+"/"+encodeURIComponent("user/"+r),v.remote=new u(v.remoteUrl),v.sync(n)):n()},["signin","signout"].forEach(function(e){p.on(e,v.init.bind(v))}),e.settings.debug===!0&&["init","add","update","remove","change","sync"].forEach(function(e){v.on(e,n(e))}),v}},{async:31,events:35,extend:93,omit:96,pouchdb:99,promise:101}],20:[function(e,t,n){var r=e("lodash"),i=e("backbone");t.exports=i.View.extend({el:"body",regions:{},events:{"click a":"overrideLink"},initialize:function(e){e=e||{},i.View.prototype.initialize.call(this,e),this.options=e,this.addRegion("main",{view:null,prepend:!0}),this.addRegion("notifications",{view:null}),$("html").removeClass("no-js")},addRegion:function(e,t){var n=r.extend({id:e},t||{});if(!n.$el){var i=t.tagName||"div";n.$el=$("<"+i+' id="'+n.id+'">'),t.className&&n.$el.addClass(t.className)}if(n.$el.attr("data-app-region",e),"main"===e)this.$el.prepend(n.$el);else{var o=n.prepend?"before":"after";this.regions.main.$el[o](n.$el)}this.regions[e]=n,n.view&&this.setRegionView(e,n.view)},setRegionView:function(e,t){var n=this.regions[e],r=n.$el[0];if(!n)throw new Error("Unknown region: "+e);if(!t)throw new Error("No view passed to AppView.setRegionView()");"string"==typeof t&&(t=this.model.createView(t)),t.$el&&!$.contains(r,t.$el)&&n.$el.html(t.$el),n.view=t,this.trigger("region:view",n)},overrideLink:function(e){var t=this.model,n=$(e.currentTarget).attr("href"),i=n.substr(1);if("#"!==n.charAt(0)){var o=r.find(r.keys(t.routes),function(e){return t._routeToRegExp(e).test(i)});"string"==typeof o&&(e.preventDefault(),t.navigate(i,{trigger:!0}))}}})},{backbone:32,lodash:56}],21:[function(e,t,n){function r(e,t,n){return app.couch.db(t.database).allDocs({include_docs:!0,startkey:n+"/",endkey:n+"0"}).then(function(e){return _.pluck(e.rows,"doc").map(function(e){var t=e._id.split("/");return e.id=t[1],delete e._id,e})})}function i(e,t,n){return e.app.store.findAll(n)}var o=e("backbone"),a=e("./model"),s=function(){};t.exports=o.Collection.extend({model:a,initialize:function(e,t){this.app=t.app,o.Collection.prototype.initialize.call(this,e,t)},comparator:function(e){return-1*e.get("createdAt")},toViewContext:function(){return{models:this.map(function(e){return e.toViewContext?e.toViewContext():e})}},sync:function(e,t,n){var o=n.success||s,a=n.error||s,u=new t.model,c=u.get("type");"read"!==e&&a(null,null,new Error("Sync method not supported"));var l=u.database?r:i;l(t,u,c).then(o,function(e){a(null,null,e)})}})},{"./model":24,backbone:32}],22:[function(e,t,n){var r=e("handlebars");r.registerHelper("log",function(e){console.log(e)}),r.registerHelper("formatDate",function(e,t){return 2===arguments.length&&(t="lll"),new r.SafeString(moment(e).format(t))}),r.registerHelper("fromNow",function(e){return new r.SafeString(moment(e).fromNow())}),r.registerHelper("glyphicon",function(e){var t='<span class="glyphicon glyphicon-'+e+'"> </span>';return new r.SafeString(t)})},{handlebars:54}],23:[function(e,t,n){var r=window.jQuery||window.$,i=(window._=e("lodash"),window.Backbone=e("backbone"));window.Handlebars=e("handlebars"),window.moment=e("moment");i.$=r;var o=e("./router");t.exports=function(e){return new o(e)}},{"./router":25,backbone:32,handlebars:54,lodash:56,moment:98}],24:[function(e,t,n){function r(e){var t=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;return"string"==typeof e&&t.test(e)}function i(e,t){var n=(t.get("type"),this.app||this.collection.app),r=n.couch.db("app"),i=t.toJSON(),o=a.omit(i,["id"]);if(o._id=i.type+"/"+i.id,"create"===e)return r.put(o).then(function(e){return i._rev=e.rev,i});if("read"===e)return r.get(o._id).then(function(e){return e.id=e._id.split("/")[1],delete e._id,e});if("update"===e)return r.put(o).then(function(e){return i._rev=e.rev,i});if("delete"===e)return r.remove(o);throw new Error("Unsupported model sync method")}function o(e,t){var n=t.get("type"),r=(this.app||this.collection.app).store;if("create"===e)return r.add(n,t.toJSON());if("read"===e)return r.find(n,t.id);if("update"!==e){if("delete"===e)return r.remove(n,t.id);throw new Error("Unsupported model sync method")}}var a=e("lodash"),s=e("backbone"),u=e("moment"),c=function(){};t.exports=s.Model.extend({initialize:function(e,t){s.Model.prototype.initialize.call(this,e,t),t&&t.app&&(this.app=t.app)},toViewContext:function(){return a.extend({},this.attributes)},parse:function(e){return a.reduce(e,function(e,t,n){return e[n]=r(t)?u(t).toDate():t,e},{})},toJSON:function(){return this.attributes},sync:function(e,t,n){var r=n.success||c,a=n.error||c,s=this.database?i:o;s(e,t).then(r,function(e){a(null,null,e)})}})},{backbone:32,lodash:56,moment:98}],25:[function(e,t,n){function r(e,t){if(!t)return e;var n=t.split("/"),o=n.shift();return e&&e.hasOwnProperty(o)?i.isObject(e[o])?r(e[o],n.join("/")):e[o]:null}var i=e("lodash"),o=e("backbone"),a=e("./app-view"),s=e("./view"),u=["routePrefix","collections","models","views","templates"];t.exports=o.Router.extend({routePrefix:"",collections:{},models:{},views:{},templates:null,initialize:function(t){var n=this,r=t.capot||e("../")(i.omit(t,u)),s=r.start.bind(r);r.log("debug","Dependencies: Lodash: "+i.VERSION+", Backbone "+o.VERSION+", Handlebars: "+Handlebars.VERSION),o.Router.prototype.initialize.call(n,t),u.forEach(function(e){"undefined"!=typeof t[e]&&(n[e]=t[e])}),i.extend(n,r,{view:new a({model:n}),start:function(){s(function(e){if(e)throw e;o.history.start({pushState:!0})})}}),n.routes||(n.routes={}),n.view.on("region:view",function(e){$("html").attr("class",e.view.templateName)})},route:function(e,t,n){var r=this.routePrefix||"";return 2===arguments.length&&(n=t,t=e),this.routes[e]=n,o.Router.prototype.route.call(this,r+e,t,n)},
navigate:function(e,t){var n=this.routePrefix||"";return o.Router.prototype.navigate.call(this,n+e,t)},addRegion:function(e,t){this.view.addRegion(e,t)},setMainView:function(e){var t=(this.view.regions.main||{}).view;t&&t.unsubscribeFromGlobalEvents&&t.unsubscribeFromGlobalEvents(),this.view.setRegionView("main",e),e.subscribeToGlobalEvents()},showView:function(e,t){var n;if(i.isFunction(e)&&e instanceof n)n=e;else if(i.isString(e)&&(n=r(this.views,e),!n))throw new Error('Unknown view: "'+e+'"');var o=new n(i.extend({app:this},t));return this.setMainView(o),o},showTemplate:function(e){var t=this,n=s.extend({templateName:e}),r=new n({app:t});t.setMainView(r),r.render()},requireCondition:function(e,t,n){var r=this;return function(){return e()?void n.apply(this,Array.prototype.slice.call(arguments,0)):r.navigate(t,{trigger:!0})}},requireSignIn:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="signin"),n.requireCondition(function(){return n.account.isSignedIn()},e,t)},requireSignOut:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="dashboard"),n.requireCondition(function(){return n.account.isSignedIn()!==!0},e,t)},requireAdmin:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="signin"),n.requireCondition(function(){return n.account.isAdmin()},e,t)},createView:function(e,t){var n=this.views[e];return new n(i.extend({},t,{app:this}))},createCollection:function(e,t,n){var r=this.collections[e];return new r(t,i.extend({},n,{app:this}))},createModel:function(e,t,n){var r=this.models[e];return new r(t,i.extend({},n,{app:this}))}})},{"../":16,"./app-view":20,"./view":26,backbone:32,lodash:56}],26:[function(e,t,n){function r(e,t){if(!t)return e;var n=t.split("/"),o=n.shift();return e&&e.hasOwnProperty(o)?i.isObject(e[o])?r(e[o],n.join("/")):e[o]:null}var i=e("lodash"),o=e("backbone");e("handlebars");e("./helpers"),t.exports=o.View.extend({templateName:null,template:null,locals:{},initialize:function(e){o.View.prototype.initialize.call(this,e),this.app=e.app,this.render=i.debounce(this.render,100),this.locals=i.extend(this.locals,e.locals||{})},render:function(e){var t=this.templateName,n=this.app;if(t){var o=r(n.templates,t);return i.isFunction(o)?(e=e||this.model||{},i.isFunction(e.toViewContext)?e=e.toViewContext():e.attributes?e=e.attributes:i.isArray(e)&&(e={models:i.map(e,function(e){return e.toViewContext?e.toViewContext():e})}),this.$el.html($.trim(o(i.extend({},this.locals,e)))),this.trigger("render"),this):(n.log("error","Template "+t+" not loaded!"),this)}},back:function(e){e.preventDefault(),e.stopPropagation(),window.history.back()},subscribeToGlobalEvents:function(){var e=this;i.each(e._getGlobalEventsHandlers(e.cid),function(e){e.src.on(e.name,e.fn),console.log("View subscribing to global event "+e.name)})},unsubscribeFromGlobalEvents:function(){i.each(this._getGlobalEventsHandlers(this.cid),function(e){e.src.removeListener(e.name,e.fn),console.log("View unsubscribing from global event "+e.name)})},_getGlobalEventsHandlers:i.memoize(function(){var e=this;return i.reduce(e.globalEvents,function(t,n,r){var o=r.split(" "),a=o[0],s=e[n],u={name:o[1]};return i.isFunction(s)?(u.fn=s.bind(e),"account"===a?(u.src=e.app.account,t.push(u)):"store"===a?(u.src=e.app.store,t.push(u)):"task"===a&&(u.src=e.app.task,t.push(u)),t):void 0},[])})})},{"./helpers":22,backbone:32,handlebars:54,lodash:56}],27:[function(e,t,n){var r="0123456789abcdefghijklmnopqrstuvwxyz".split("");t.exports=function(e){var t="",n=r.length;void 0===e&&(e=7);for(var i=0;e>i;i++){var o=Math.random()*n,a=r[Math.floor(o)];t+=String(a).charAt(0)}return t}},{}],28:[function(e,t,n){"use strict";function r(){if(u.length)throw u.shift()}function i(e){var t;t=s.length?s.pop():new o,t.task=e,a(t)}function o(){this.task=null}var a=e("./raw"),s=[],u=[],c=a.makeRequestCallFromTimer(r);t.exports=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(u.push(e),c())}finally{this.task=null,s[s.length]=this}}},{"./raw":29}],29:[function(e,t,n){(function(e){"use strict";function n(e){s.length||(a(),u=!0),s[s.length]=e}function r(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>l){for(var t=0,n=s.length-c;n>t;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=n;var a,s=[],u=!1,c=0,l=1024,f=e.MutationObserver||e.WebKitMutationObserver;a="function"==typeof f?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,n){(function(n){"use strict";function r(e){u.length||(o(),c=!0),u[u.length]=e}function i(){for(;l<u.length;){var e=l;if(l+=1,u[e].call(),l>f){for(var t=0,n=u.length-l;n>t;t++)u[t]=u[t+l];u.length-=l,l=0}}u.length=0,l=0,c=!1}function o(){var t=n.domain;t&&(a||(a=e("domain")),a.active=n.domain=null),c&&s?setImmediate(i):n.nextTick(i),t&&(a.active=n.domain=t)}var a,s="function"==typeof setImmediate;t.exports=r;var u=[],c=!1,l=0,f=1024;r.requestFlush=o}).call(this,e("_process"))},{_process:100,domain:34}],31:[function(e,t,n){(function(e,n){!function(){function r(){}function i(e){return e}function o(e){return!!e}function a(e){return!e}function s(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function u(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function c(e){return U(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function l(e,t){return c(e)?f(e,t):v(e,t)}function f(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function d(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e){return d(Array(e),function(e,t){return t})}function p(e,t,n){return f(e,function(e,r,i){n=t(n,e,r,i)}),n}function v(e,t){f(Y(e),function(n){t(e[n],n)})}function m(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function g(e){var t,n,r=-1;return c(e)?(t=e.length,function(){return r++,t>r?r:null}):(n=Y(e),t=n.length,function(){return r++,t>r?n[r]:null})}function y(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;n>i;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function _(e){return function(t,n,r){return e(t,r)}}function b(e){return function(t,n,i){i=u(i||r),t=t||[];var o=g(t);if(0>=e)return i(null);var a=!1,c=0,l=!1;!function f(){if(a&&0>=c)return i(null);for(;e>c&&!l;){var r=o();if(null===r)return a=!0,void(0>=c&&i(null));c+=1,n(t[r],r,s(function(e){c-=1,e?(i(e),l=!0):f()}))}}()}}function w(e){return function(t,n,r){return e(L.eachOf,t,n,r)}}function x(e){return function(t,n,r,i){return e(b(n),t,r,i)}}function S(e){return function(t,n,r){return e(L.eachOfSeries,t,n,r)}}function E(e,t,n,i){i=u(i||r);var o=[];e(t,function(e,t,r){n(e,function(e,n){o[t]=n,r(e)})},function(e){i(e,o)})}function k(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n){n&&i.push({index:t,value:e}),r()})},function(){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function O(e,t,n,r){k(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function T(e,t,n){return function(r,i,o,a){function s(){a&&a(n(!1,void 0))}function u(e,r,i){return a?void o(e,function(r){a&&t(r)&&(a(n(!0,e)),a=o=!1),i()}):i()}arguments.length>3?e(r,i,u,s):(a=o,o=i,e(r,u,s))}}function A(e,t){return t}function D(e,t,n){n=n||r;var i=c(t)?[]:{};e(t,function(e,t,n){e(y(function(e,r){r.length<=1&&(r=r[0]),i[t]=r,n(e)}))},function(e){n(e,i)})}function j(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function C(e,t,n){function i(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return e.started=!0,U(t)||(t=[t]),0===t.length&&e.idle()?L.setImmediate(function(){e.drain()}):(f(t,function(t){var o={data:t,callback:i||r};n?e.tasks.unshift(o):e.tasks.push(o),e.tasks.length===e.concurrency&&e.saturated()}),void L.setImmediate(e.process))}function o(e,t){return function(){a-=1;var n=arguments;f(t,function(e){e.callback.apply(e,n)}),e.tasks.length+a===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=0,u={tasks:[],concurrency:t,payload:n,saturated:r,empty:r,drain:r,started:!1,paused:!1,push:function(e,t){i(u,e,!1,t)},kill:function(){u.drain=r,u.tasks=[]},unshift:function(e,t){i(u,e,!0,t)},process:function(){if(!u.paused&&a<u.concurrency&&u.tasks.length)for(;a<u.concurrency&&u.tasks.length;){var t=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),n=d(t,function(e){return e.data});0===u.tasks.length&&u.empty(),a+=1;var r=s(o(u,t));e(n,r)}},length:function(){return u.tasks.length},running:function(){return a},idle:function(){return u.tasks.length+a===0},pause:function(){u.paused=!0},resume:function(){if(u.paused!==!1){u.paused=!1;for(var e=Math.min(u.concurrency,u.tasks.length),t=1;e>=t;t++)L.setImmediate(u.process)}}};return u}function I(e){return y(function(t,n){t.apply(null,n.concat([y(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&f(n,function(t){console[e](t)}))})]))})}function R(e){return function(t,n,r){e(h(t),n,r)}}function M(e){return y(function(t,n){var r=y(function(n){var r=this,i=n.pop();return e(t,function(e,t,i){e.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function q(e){return y(function(t){var n=t.pop();t.push(function(){var e=arguments;r?L.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}var N,L={},P="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this;null!=P&&(N=P.async),L.noConflict=function(){return P.async=N,L};var F=Object.prototype.toString,U=Array.isArray||function(e){return"[object Array]"===F.call(e)},B=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},Y=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},H="function"==typeof setImmediate&&setImmediate,W=H?function(e){H(e)}:function(e){setTimeout(e,0)};"object"==typeof e&&"function"==typeof e.nextTick?L.nextTick=e.nextTick:L.nextTick=W,L.setImmediate=H?W:L.nextTick,L.forEach=L.each=function(e,t,n){return L.eachOf(e,_(t),n)},L.forEachSeries=L.eachSeries=function(e,t,n){return L.eachOfSeries(e,_(t),n)},L.forEachLimit=L.eachLimit=function(e,t,n,r){return b(t)(e,_(n),r)},L.forEachOf=L.eachOf=function(e,t,n){function i(e){e?n(e):(a+=1,a>=o&&n(null))}n=u(n||r),e=e||[];var o=c(e)?e.length:Y(e).length,a=0;return o?void l(e,function(n,r){t(e[r],r,s(i))}):n(null)},L.forEachOfSeries=L.eachOfSeries=function(e,t,n){function i(){var r=!0;return null===a?n(null):(t(e[a],a,s(function(e){if(e)n(e);else{if(a=o(),null===a)return n(null);r?L.nextTick(i):i()}})),void(r=!1))}n=u(n||r),e=e||[];var o=g(e),a=o();i()},L.forEachOfLimit=L.eachOfLimit=function(e,t,n,r){b(t)(e,n,r)},L.map=w(E),L.mapSeries=S(E),L.mapLimit=x(E),L.inject=L.foldl=L.reduce=function(e,t,n,r){L.eachOfSeries(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e||null,t)})},L.foldr=L.reduceRight=function(e,t,n,r){var o=d(e,i).reverse();L.reduce(o,t,n,r)},L.select=L.filter=w(k),L.selectLimit=L.filterLimit=x(k),L.selectSeries=L.filterSeries=S(k),L.reject=w(O),L.rejectLimit=x(O),L.rejectSeries=S(O),L.any=L.some=T(L.eachOf,o,i),L.someLimit=T(L.eachOfLimit,o,i),L.all=L.every=T(L.eachOf,a,a),L.everyLimit=T(L.eachOfLimit,a,a),L.detect=T(L.eachOf,i,A),L.detectSeries=T(L.eachOfSeries,i,A),L.detectLimit=T(L.eachOfLimit,i,A),L.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0}L.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,d(t.sort(r),function(e){return e.value}))})},L.auto=function(e,t){function n(e){l.unshift(e)}function i(e){var t=m(l,e);t>=0&&l.splice(t,1)}function o(){s--,f(l.slice(0),function(e){e()})}t=u(t||r);var a=Y(e),s=a.length;if(!s)return t(null);var c={},l=[];n(function(){s||t(null,c)}),f(a,function(r){function a(){return p(d,function(e,t){return e&&c.hasOwnProperty(t)},!0)&&!c.hasOwnProperty(r)}function s(){a()&&(i(s),l[l.length-1](f,c))}for(var u,l=U(e[r])?e[r]:[e[r]],f=y(function(e,n){if(n.length<=1&&(n=n[0]),e){var i={};v(c,function(e,t){i[t]=e}),i[r]=n,t(e,i)}else c[r]=n,L.setImmediate(o)}),d=l.slice(0,l.length-1),h=d.length;h--;){if(!(u=e[d[h]]))throw new Error("Has inexistant dependency");if(U(u)&&m(u,r)>=0)throw new Error("Has cyclic dependencies")}a()?l[l.length-1](f,c):n(s)})},L.retry=function(e,t,n){function r(e,t){if("number"==typeof t)e.times=parseInt(t,10)||o;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||o,e.interval=parseInt(t.interval,10)||a}}function i(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;u.times;){var i=!(u.times-=1);s.push(n(u.task,i)),!i&&u.interval>0&&s.push(r(u.interval))}L.series(s,function(t,n){n=n[n.length-1],(e||u.callback)(n.err,n.result)})}var o=5,a=0,s=[],u={times:o,interval:a},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&r(u,e),u.callback=n,u.task=t,u.callback?i():i},L.waterfall=function(e,t){function n(e){return y(function(r,i){if(r)t.apply(null,[r].concat(i));else{var o=e.next();o?i.push(n(o)):i.push(t),q(e).apply(null,i)}})}if(t=u(t||r),!U(e)){var i=new Error("First argument to waterfall must be an array of functions");return t(i)}return e.length?void n(L.iterator(e))():t()},L.parallel=function(e,t){D(L.eachOf,e,t)},L.parallelLimit=function(e,t,n){D(b(t),e,n)},L.series=function(e,t){D(L.eachOfSeries,e,t)},L.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},L.apply=y(function(e,t){return y(function(n){return e.apply(null,t.concat(n))})}),L.concat=w(j),L.concatSeries=S(j),L.whilst=function(e,t,n){if(n=n||r,e()){var i=y(function(r,o){r?n(r):e.apply(this,o)?t(i):n(null)});t(i)}else n(null)},L.doWhilst=function(e,t,n){var r=0;return L.whilst(function(){return++r<=1||t.apply(this,arguments)},e,n)},L.until=function(e,t,n){return L.whilst(function(){return!e.apply(this,arguments)},t,n)},L.doUntil=function(e,t,n){return L.doWhilst(e,function(){return!t.apply(this,arguments)},n)},L.during=function(e,t,n){n=n||r;var i=y(function(t,r){t?n(t):(r.push(o),e.apply(this,r))}),o=function(e,r){e?n(e):r?t(i):n(null)};e(o)},L.doDuring=function(e,t,n){var r=0;L.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,n)},L.queue=function(e,t){var n=C(function(t,n){e(t[0],n)},t,1);return n},L.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;i>r;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function o(e,t,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return e.started=!0,U(t)||(t=[t]),0===t.length?L.setImmediate(function(){e.drain()}):void f(t,function(t){var s={data:t,priority:o,callback:"function"==typeof a?a:r};e.tasks.splice(i(e.tasks,s,n)+1,0,s),e.tasks.length===e.concurrency&&e.saturated(),L.setImmediate(e.process)})}var a=L.queue(e,t);return a.push=function(e,t,n){o(a,e,t,n)},delete a.unshift,a},L.cargo=function(e,t){return C(e,1,t)},L.log=I("log"),L.dir=I("dir"),L.memoize=function(e,t){var n={},r={};t=t||i;var o=y(function(i){var o=i.pop(),a=t.apply(null,i);a in n?L.nextTick(function(){o.apply(null,n[a])}):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([y(function(e){n[a]=e;var t=r[a];delete r[a];for(var i=0,o=t.length;o>i;i++)t[i].apply(null,e)})])))});return o.memo=n,o.unmemoized=e,o},L.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},L.times=R(L.map),L.timesSeries=R(L.mapSeries),L.timesLimit=function(e,t,n,r){return L.mapLimit(h(e),t,n,r)},L.seq=function(){var e=arguments;return y(function(t){var n=this,i=t[t.length-1];"function"==typeof i?t.pop():i=r,L.reduce(e,t,function(e,t,r){t.apply(n,e.concat([y(function(e,t){r(e,t)})]))},function(e,t){i.apply(n,[e].concat(t))})})},L.compose=function(){return L.seq.apply(null,Array.prototype.reverse.call(arguments))},L.applyEach=M(L.eachOf),L.applyEachSeries=M(L.eachOfSeries),L.forever=function(e,t){function n(e){return e?i(e):void o(n)}var i=s(t||r),o=q(e);n()},L.ensureAsync=q,L.constant=y(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),L.wrapSync=L.asyncify=function(e){return y(function(t){var n,r=t.pop();try{n=e.apply(this,t)}catch(i){return r(i)}B(n)&&"function"==typeof n.then?n.then(function(e){r(null,e)})["catch"](function(e){r(e.message?e:new Error(e))}):r(null,n)})},"object"==typeof t&&t.exports?t.exports=L:"function"==typeof define&&define.amd?define([],function(){return L}):P.async=L}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:100}],32:[function(e,t,n){(function(t){!function(r){var i="object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,n){i.Backbone=r(i,n,e,t)});else if("undefined"!=typeof n){var o,a=e("underscore");try{o=e("jquery")}catch(s){}r(i,n,a,o)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],u(e,this),i)};case 4:return function(e,i,o){return n[t](this[r],u(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},s=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=a(t,i,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},f=/\s+/,d=function(e,t,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)t=d(e,t,a[s],r[a[s]],o)}else if(r&&f.test(r))for(a=r.split(f);s<a.length;s++)t=e(t,a[s],i,o);else t=e(t,r,i,o);return t};l.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,r,i){if(e._events=d(p,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){var o=e._listeners||(e._listeners={});o[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:e,objId:i,id:s,listeningTo:o,count:0}}return h(e,t,r,this,a),this};var p=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return e};l.off=function(e,t,n){return this._events?(this._events=d(v,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var v=function(e,t,r,i){if(e){var o,a=0,s=i.context,u=i.listeners;if(t||r||s){for(var c=t?[t]:n.keys(e);a<c.length;a++){t=c[a];var l=e[t];if(!l)break;for(var f=[],d=0;d<l.length;d++){var h=l[d];r&&r!==h.callback&&r!==h.callback._callback||s&&s!==h.context?f.push(h):(o=h.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}f.length?e[t]=f:delete e[t]}return n.size(e)?e:void 0}for(var p=n.keys(u);a<p.length;a++)o=u[p[a]],delete u[o.id],delete o.listeningTo[o.objId]}};l.once=function(e,t,r){var i=d(m,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},l.listenToOnce=function(e,t,r){var i=d(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;t>r;r++)n[r]=arguments[r+1];return d(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var _=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var d in i)t=i[d],n.isEqual(c[d],t)||s.push(d),n.isEqual(f[d],t)?delete l[d]:l[d]=t,o?delete c[d]:c[d]=t;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=r);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,c[s[h]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var o=e[i];n.isEqual(t[i],o)||(r[i]=o)}return n.size(r)?r:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;return t.set(i,e)?(r&&r.call(e.context,t,n,e),void t.trigger("sync",t,n,e)):!1},B(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(e){a.attributes=u;var t=r.parse?a.parse(e,r):e;return o&&(t=n.extend({},i,t)),t&&!a.set(t,r)?!1:(s&&s.call(r.context,a,e,r),void a.trigger("sync",a,e,r))},B(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(B(this,e),a=this.sync("delete",this,e)),i||o(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(_,b,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},x={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},E=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),i=t.length,o=0;o<r.length;o++)r[o]=e[o+n];for(o=0;i>o;o++)e[o+n]=t[o];for(o=0;o<r.length;o++)e[o+i+n]=r[o]};n.extend(w.prototype,l,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){t=n.defaults({},t,x),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),0>i&&(i+=this.length+1);for(var o,a=[],s=[],u=[],c={},l=t.add,f=t.merge,d=t.remove,h=!1,p=this.comparator&&null==i&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=0;m<e.length;m++){o=e[m];var g=this.get(o);if(g){if(f&&o!==g){var y=this._isModel(o)?o.attributes:o;t.parse&&(y=g.parse(y,t)),g.set(y,t),p&&!h&&(h=g.hasChanged(v))}c[g.cid]||(c[g.cid]=!0,a.push(g)),e[m]=g}else l&&(o=e[m]=this._prepareModel(o,t),o&&(s.push(o),this._addReference(o,t),c[o.cid]=!0,a.push(o)))}if(d){for(m=0;m<this.length;m++)o=this.models[m],c[o.cid]||u.push(o);u.length&&this._removeModels(u,t)}var _=!1,b=!p&&l&&d;if(a.length&&b?(_=this.length!=a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,E(this.models,a,0),this.length=this.models.length):s.length&&(p&&(h=!0),E(this.models,s,null==i?this.length:i),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(m=0;m<s.length;m++)null!=i&&(t.index=i+m),o=s[m],o.trigger("add",o,this,t);(h||_)&&this.trigger("sort",this,t),(s.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null==e)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},B(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(e=this._prepareModel(e,t),!e)return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n.length?n:!1},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};s(w,k,"models");var O=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,A)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(O.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();
for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(T);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var o=D[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||U()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,u&&u.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var j=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,R=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(j.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(C,"(?:$1)?").replace(I,function(e,t){return t?e:"([^/?]+)"}).replace(R,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var q=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,P=/#.*$/;q.started=!1,n.extend(q.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(q.started)throw new Error("Backbone.history has already been started");if(q.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),q.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!q.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(P,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new q;var F=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};_.extend=w.extend=j.extend=O.extend=q.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},B=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:33,underscore:108}],33:[function(e,t,n){},{}],34:[function(e,t,n){t.exports=function(){var t=e("events"),n={};return n.createDomain=n.create=function(){function e(e){n.emit("error",e)}var n=new t.EventEmitter;return n.add=function(t){t.on("error",e)},n.remove=function(t){t.removeListener("error",e)},n.bind=function(t){return function(){var n=Array.prototype.slice.call(arguments);try{t.apply(null,n)}catch(r){e(r)}}},n.intercept=function(t){return function(n){if(n)e(n);else{var r=Array.prototype.slice.call(arguments,1);try{t.apply(null,r)}catch(n){e(n)}}}},n.run=function(t){try{t()}catch(n){e(n)}return this},n.dispose=function(){return this.removeAllListeners(),this},n.enter=n.exit=function(){return this},n},n}.call(this)},{events:35}],35:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(){var e=new s.HandlebarsEnvironment;return h.extend(e,s),e.SafeString=c["default"],e.Exception=f["default"],e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}n.__esModule=!0;var a=e("./handlebars/base"),s=i(a),u=e("./handlebars/safe-string"),c=r(u),l=e("./handlebars/exception"),f=r(l),d=e("./handlebars/utils"),h=i(d),p=e("./handlebars/runtime"),v=i(p),m=e("./handlebars/no-conflict"),g=r(m),y=o();y.create=o,g["default"](y),y["default"]=y,n["default"]=y,t.exports=n["default"]},{"./handlebars/base":37,"./handlebars/exception":40,"./handlebars/no-conflict":50,"./handlebars/runtime":51,"./handlebars/safe-string":52,"./handlebars/utils":53}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},u.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}n.__esModule=!0,n.HandlebarsEnvironment=i;var o=e("./utils"),a=e("./exception"),s=r(a),u=e("./helpers"),c=e("./decorators"),l=e("./logger"),f=r(l),d="4.0.3";n.VERSION=d;var h=7;n.COMPILER_REVISION=h;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=p;var v="[object Object]";i.prototype={constructor:i,logger:f["default"],log:f["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===v)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=f["default"].log;n.log=m,n.createFrame=o.createFrame,n.logger=f["default"]},{"./decorators":38,"./exception":40,"./helpers":41,"./logger":49,"./utils":53}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){a["default"](e)}n.__esModule=!0,n.registerDefaultDecorators=i;var o=e("./decorators/inline"),a=r(o)},{"./decorators/inline":39}],39:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerDecorator("inline",function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o})},t.exports=n["default"]},{"../utils":53}],40:[function(e,t,n){"use strict";function r(e,t){var n=t&&t.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),u=0;u<i.length;u++)this[i[u]]=s[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r),n&&(this.lineNumber=o,this.column=a)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n["default"]=r,t.exports=n["default"]},{}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){a["default"](e),u["default"](e),l["default"](e),d["default"](e),p["default"](e),m["default"](e),y["default"](e)}n.__esModule=!0,n.registerDefaultHelpers=i;var o=e("./helpers/block-helper-missing"),a=r(o),s=e("./helpers/each"),u=r(s),c=e("./helpers/helper-missing"),l=r(c),f=e("./helpers/if"),d=r(f),h=e("./helpers/log"),p=r(h),v=e("./helpers/lookup"),m=r(v),g=e("./helpers/with"),y=r(g)},{"./helpers/block-helper-missing":42,"./helpers/each":43,"./helpers/helper-missing":44,"./helpers/if":45,"./helpers/log":46,"./helpers/lookup":47,"./helpers/with":48}],42:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},t.exports=n["default"]},{"../utils":53}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../utils"),o=e("../exception"),a=r(o);n["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,l&&(c.contextPath=l+t)),u+=r(e[t],{data:c,blockParams:i.blockParams([e[t],t],[l+t,null])})}if(!t)throw new a["default"]("Must pass iterator to #each");var r=t.fn,o=t.inverse,s=0,u="",c=void 0,l=void 0;if(t.data&&t.ids&&(l=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(c=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var f=e.length;f>s;s++)s in e&&n(s,s,s===e.length-1);else{var d=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==d&&n(d,s-1),d=h,s++);void 0!==d&&n(d,s-1,!0)}return 0===s&&(u=o(this)),u})},t.exports=n["default"]},{"../exception":40,"../utils":53}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../exception"),o=r(i);n["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=n["default"]},{"../exception":40}],45:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=n["default"]},{"../utils":53}],46:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},t.exports=n["default"]},{}],47:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},t.exports=n["default"]},{"../utils":53}],49:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./utils"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};n["default"]=i,t.exports=n["default"]},{"./utils":53}],50:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n["default"]=function(t){var n="undefined"!=typeof e?e:window,r=n.Handlebars;t.noConflict=function(){n.Handlebars===t&&(n.Handlebars=r)}},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){var t=e&&e[0]||1,n=g.COMPILER_REVISION;if(t!==n){if(n>t){var r=g.REVISION_CHANGES[n],i=g.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function n(n,r,i){i.hash&&(r=p.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,i);var o=t.VM.invokePartial.call(this,n,r,i);if(null==o&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),s=0,u=a.length;u>s&&(a[s]||s+1!==u);s++)a[s]=i.indent+a[s];o=a.join("\n")}return o}throw new m["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(t){function n(t){return""+e.main(i,t,i.helpers,i.partials,a,u,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;r._setup(o),!o.partial&&e.useData&&(a=f(t,a));var s=void 0,u=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=d(e.main,n,i,o.depths||[],a,u))(t,o)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],a=this.fn(e);return t||i||r||n?o=s(this,e,a,t,n,r,i):o||(o=this.programs[e]=s(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=p.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},r._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new m["default"]("must pass block params");if(e.useDepths&&!o)throw new m["default"]("must pass parent depths");return s(i,t,e[t],n,0,r,o)},r}function s(e,t,n,r,i,o,a){function s(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!==a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return s=d(n,s,e,a,r,o),s.program=t,s.depth=a?a.length:0,s.blockParams=i||0,s}function u(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function c(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&(n.data=g.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=p.extend({},n.partials,r.partials))),void 0===e&&r&&(e=r),void 0===e)throw new m["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function f(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function d(e,t,n,r,i,o){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],i,o,r),p.extend(t,a)}return t}n.__esModule=!0,n.checkRevision=o,n.template=a,n.wrapProgram=s,n.resolvePartial=u,n.invokePartial=c,n.noop=l;var h=e("./utils"),p=i(h),v=e("./exception"),m=r(v),g=e("./base")},{"./base":37,"./exception":40,"./utils":53}],52:[function(e,t,n){"use strict";function r(e){this.string=e}n.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},n["default"]=r,t.exports=n["default"]},{}],53:[function(e,t,n){"use strict";function r(e){return f[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,r):e}function s(e){return e||0===e?m(e)&&0===e.length?!0:!1:!0}function u(e){var t=i({},e);return t._parent=e,t}function c(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}n.__esModule=!0,n.extend=i,n.indexOf=o,n.escapeExpression=a,n.isEmpty=s,n.createFrame=u,n.blockParams=c,n.appendContextPath=l;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;n.toString=p;var v=function(e){return"function"==typeof e};v(/x/)&&(n.isFunction=v=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),n.isFunction=v;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};n.isArray=m},{}],54:[function(e,t,n){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":36}],55:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(i);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var i="Expected a function",o=Math.max;t.exports=r},{}],56:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===k,i=e===e,o=null===t,a=t===k,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return m(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function a(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function u(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function f(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c){if(i>=u)return c;var l=n[i];return c*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function d(e){return We[e]}function h(e){return Ge[e]}function p(e,t,n){return t?e=ze[e]:n&&(e=Je[e]),"\\"+e}function v(e){return"\\"+Je[e]}function m(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function g(e){return!!e&&"object"==typeof e}function y(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function _(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=W,o[++i]=n);return o}function b(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function w(e){for(var t=-1,n=e.length;++t<n&&y(e.charCodeAt(t)););return t}function x(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function S(e){return Ve[e]}function E(e){function t(e){if(g(e)&&!Ds(e)&&!(e instanceof K)){if(e instanceof y)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return hr(e)}return new y(e)}function n(){}function y(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Aa,this.__views__=[]}function te(){var e=new K(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function re(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function We(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ds(e),r=0>t,i=n?e.length:0,o=Vn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=Sa(u,this.__takeCount__);if(!n||U>i||i==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h>d;){c+=t;for(var v=-1,m=e[c];++v<f;){var g=l[v],y=g.iteratee,_=g.type,b=y(m);if(_==Y)m=b;else if(!b){if(_==B)continue e;break e}}p[d++]=m}return p}function Ge(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function $e(e){return"__proto__"==e?k:this.__data__[e]}function ze(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Je(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Qe(e){var t=e?e.length:0;for(this.data={hash:ga(null),set:new fa};t--;)this.push(e[t])}function Ke(e,t){var n=e.data,r="string"==typeof t||Mi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Xe(e){var t=this.data;"string"==typeof e||Mi(e)?t.set.add(e):t.hash[e]=!0}function Ze(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Bo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=Bo(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],c=+t(u);n(c,a)&&(a=c,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ut(e,t){for(var n=-1,r=e.length,i=Bo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===k?t:e}function vt(e,t,n,r){return e!==k&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=Us(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==k||a in e)||(e[a]=u)}return e}function gt(e,t){return null==t?e:_t(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Kn(e),o=i?e.length:0,a=t.length,s=Bo(a);++n<a;){var u=t[n];i?s[n]=Xn(u,o)?e[u]:k:s[n]=r?k:e[u]}return s}function _t(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function bt(e,t,n){var r=typeof e;return"function"==r?t===k?e:an(e,t,n):null==e?Ao:"object"==r?Ft(e):t===k?Mo(e):Ut(e,t)}function wt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==k)return s;
if(!Mi(e))return e;var u=Ds(e);if(u){if(s=$n(e),!t)return et(e,s)}else{var c=ra.call(e),l=c==Q;if(c!=Z&&c!=G&&(!l||i))return He[c]?Jn(e,c,t):i?e:{};if(s=zn(l?{}:e),!t)return gt(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(u?tt:Ct)(e,function(r,i){s[i]=wt(r,t,n,i,e,o,a)}),s}function xt(e,t,n){if("function"!=typeof e)throw new Qo(H);return da(function(){e.apply(k,n)},t)}function St(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=Hn(),s=a==o,u=s&&t.length>=U?vn(t):null,c=t.length;u&&(a=Ke,s=!1,t=u);e:for(;++i<n;){var l=e[i];if(s&&l===l){for(var f=c;f--;)if(t[f]===l)continue e;r.push(l)}else a(t,l,0)<0&&r.push(l)}return r}function Et(e,t){var n=!0;return Na(e,function(e,r,i){return n=!!t(e,r,i)}),n}function kt(e,t,n,r){var i=r,o=i;return Na(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Ot(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===k||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Tt(e,t){var n=[];return Na(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function At(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Dt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];g(a)&&Kn(a)&&(n||Ds(a)||ki(a))?t?Dt(a,t,n,r):ct(r,a):n||(r[r.length]=a)}return r}function jt(e,t){return Pa(e,t,eo)}function Ct(e,t){return Pa(e,t,Us)}function It(e,t){return Fa(e,t,Us)}function Rt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Ri(e[a])&&(o[++i]=a)}return o}function Mt(e,t,n){if(null!=e){n!==k&&n in fr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:k}}function qt(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Mi(e)&&!g(t)?e!==e&&t!==t:Nt(e,t,qt,n,r,i,o)}function Nt(e,t,n,r,i,o,a){var s=Ds(e),u=Ds(t),c=V,l=V;s||(c=ra.call(e),c==G?c=Z:c!=Z&&(s=Hi(e))),u||(l=ra.call(t),l==G?l=Z:l!=Z&&(u=Hi(t)));var f=c==Z,d=l==Z,h=c==l;if(h&&!s&&!f)return Fn(e,t,c);if(!i){var p=f&&ta.call(e,"__wrapped__"),v=d&&ta.call(t,"__wrapped__");if(p||v)return n(p?e.value():e,v?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var g=(s?Pn:Un)(e,t,n,r,i,o,a);return o.pop(),a.pop(),g}function Lt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=fr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(u===k&&!(s in e))return!1}else{var l=n?n(u,c,s):k;if(!(l===k?qt(c,u,n,!0):l))return!1}}return!0}function Pt(e,t){var n=-1,r=Kn(e)?Bo(e.length):[];return Na(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ft(e){var t=Wn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==k||n in fr(e))}}return function(e){return Lt(e,t)}}function Ut(e,t){var n=Ds(e),r=er(e)&&rr(t),i=e+"";return e=dr(e),function(o){if(null==o)return!1;var a=i;if(o=fr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:Mt(o,zt(e,0,-1)),null==o)return!1;a=Or(e),o=fr(o)}return o[a]===t?t!==k||a in o:qt(t,o[a],k,!0)}}function Bt(e,t,n,r,i){if(!Mi(e))return e;var o=Kn(t)&&(Ds(t)||Hi(t)),a=o?k:Us(t);return tt(a||t,function(s,u){if(a&&(u=s,s=t[u]),g(s))r||(r=[]),i||(i=[]),Yt(e,t,u,Bt,n,r,i);else{var c=e[u],l=n?n(c,s,u,e,t):k,f=l===k;f&&(l=s),l===k&&(!o||u in e)||!f&&(l===l?l===c:c!==c)||(e[u]=l)}}),e}function Yt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var c=e[n],l=i?i(c,u,n,e,t):k,f=l===k;f&&(l=u,Kn(u)&&(Ds(u)||Hi(u))?l=Ds(c)?c:Kn(c)?et(c):[]:Ui(u)||ki(u)?l=ki(c)?zi(c):Ui(c)?c:{}:f=!1),o.push(u),a.push(l),f?e[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(e[n]=l)}function Ht(e){return function(t){return null==t?k:t[e]}}function Wt(e){var t=e+"";return e=dr(e),function(n){return Mt(n,e,t)}}function Gt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Xn(r)){var i=r;ha.call(e,r,1)}}return e}function Vt(e,t){return e+ya(Oa()*(t-e+1))}function $t(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function zt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===k||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Bo(i);++r<i;)o[r]=e[r+t];return o}function Jt(e,t){var n;return Na(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Qt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Kt(e,t,n){var r=Bn(),i=-1;t=ut(t,function(e){return r(e)});var o=Pt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Qt(o,function(e,t){return f(e,t,n)})}function Xt(e,t){var n=0;return Na(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Zt(e,t){var n=-1,r=Hn(),i=e.length,a=r==o,s=a&&i>=U,u=s?vn():null,c=[];u?(r=Ke,a=!1):(s=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],f=t?t(l,n,e):l;if(a&&l===l){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),c.push(l)}else r(u,f,0)<0&&((t||s)&&u.push(f),c.push(l))}return c}function en(e,t){for(var n=-1,r=t.length,i=Bo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?zt(e,r?0:o,r?o+1:i):zt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof K&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,ct([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ca>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return on(e,t,Ao,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===k;o>i;){var c=ya((i+o)/2),l=n(e[c]),f=l!==k,d=l===l;if(a)var h=d||r;else h=s?d&&f&&(r||null!=l):u?d&&(r||f):null==l?!1:r?t>=l:t>l;h?i=c+1:o=c}return Sa(o,ja)}function an(e,t,n){if("function"!=typeof e)return Ao;if(t===k)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new pa(t);return n.set(new pa(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=xa(e.length-r,0),a=-1,s=t.length,u=Bo(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function cn(e,t,n){for(var r=-1,i=n.length,o=-1,a=xa(e.length-i,0),s=-1,u=t.length,c=Bo(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=Bn(r,i,3),Ds(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Na(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function fn(e){return gi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:k,a=i>2?n[2]:k,s=i>1?n[i-1]:k;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:k,i-=o?1:0),a&&Zn(n[0],n[1],a)&&(o=3>i?k:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function dn(e,t){return function(n,r){var i=n?Ya(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=fr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=fr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==nt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=gn(e);return n}function vn(e){return ga&&fa?new Qe(e):null}function mn(e){return function(t){for(var n=-1,r=ko(lo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qa(e.prototype),r=e.apply(n,t);return Mi(r)?r:n}}function yn(e){function t(n,r,i){i&&Zn(n,r,i)&&(r=k);var o=Ln(n,e,k,k,k,k,k,r);return o.placeholder=t.placeholder,o}return t}function _n(e,t){return gi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(k,n))})}function bn(e,t){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=k),r=Bn(r,i,3),1==r.length){n=Ds(n)?n:lr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return kt(n,r,e,t)}}function wn(e,t){return function(n,r,o){if(r=Bn(r,o,3),Ds(n)){var a=i(n,r,t);return a>-1?n[a]:k}return At(n,r,e)}}function xn(e){return function(t,n,r){return t&&t.length?(n=Bn(n,r,3),i(t,n,e)):-1}}function Sn(e){return function(t,n,r){return n=Bn(n,r,3),At(t,n,e,!0)}}function En(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Bo(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Qo(H);!t&&y.prototype.thru&&"wrapper"==Yn(a)&&(t=new y([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=Yn(a),u="wrapper"==s?Ba(a):k;t=u&&tr(u[0])&&u[1]==(M|j|I|q)&&!u[4].length&&1==u[9]?t[Yn(u[0])].apply(t,u[3]):1==a.length&&tr(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ds(r)&&r.length>=U)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function kn(e,t){return function(n,r,i){return"function"==typeof r&&i===k&&Ds(n)?e(n,r):t(n,an(r,i,3))}}function On(e){return function(t,n,r){return("function"!=typeof n||r!==k)&&(n=an(n,r,3)),e(t,n,eo)}}function Tn(e){return function(t,n,r){return("function"!=typeof n||r!==k)&&(n=an(n,r,3)),e(t,n)}}function An(e){return function(t,n,r){var i={};return n=Bn(n,r,3),Ct(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Dn(e){return function(t,n,r){return t=s(t),(e?t:"")+Rn(t,n,r)+(e?"":t)}}function jn(e){var t=gi(function(n,r){var i=_(r,t.placeholder);return Ln(n,e,k,r,i)});return t}function Cn(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===k&&Ds(n)?e(n,r,i,a):$t(n,Bn(r,o,4),i,a,t)}}function In(e,t,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,b=y,w=Bo(y);b--;)w[b]=arguments[b];if(r&&(w=un(w,r,i)),o&&(w=cn(w,o,a)),p||m){var x=l.placeholder,S=_(w,x);if(y-=S.length,c>y){var E=s?et(s):k,O=xa(c-y,0),D=p?S:k,j=p?k:S,C=p?w:k,M=p?k:w;t|=p?I:R,t&=~(p?R:I),v||(t&=~(T|A));var q=[e,t,n,C,D,M,j,E,u,O],N=In.apply(k,q);return tr(e)&&Ha(N,q),N.placeholder=x,N}}var L=d?n:this,P=h?L[e]:e;return s&&(w=ur(w,s)),f&&u<w.length&&(w.length=u),this&&this!==nt&&this instanceof l&&(P=g||gn(e)),P.apply(L,w)}var f=t&M,d=t&T,h=t&A,p=t&j,v=t&D,m=t&C,g=h?k:gn(e);return l}function Rn(e,t,n){var r=e.length;if(t=+t,r>=t||!ba(t))return"";var i=t-r;return n=null==n?" ":n+"",go(n,ma(i/n.length)).slice(0,i)}function Mn(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=Bo(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];var f=this&&this!==nt&&this instanceof i?a:e;return f.apply(o?n:this,l)}var o=t&T,a=gn(e);return i}function qn(e){var t=Go[e];return function(e,n){return n=n===k?0:+n||0,n?(n=ca(10,n),t(e*n)/n):t(e)}}function Nn(e){return function(t,n,r,i){var o=Bn(r);return null==r&&o===bt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Ln(e,t,n,r,i,o,a,s){var u=t&A;if(!u&&"function"!=typeof e)throw new Qo(H);var c=r?r.length:0;if(c||(t&=~(I|R),r=i=k),c-=i?i.length:0,t&R){var l=r,f=i;r=i=k}var d=u?k:Ba(e),h=[e,t,n,r,i,l,f,o,a,s];if(d&&(ir(h,d),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:xa(s-c,0)||0,t==T)var p=pn(h[0],h[2]);else p=t!=I&&t!=(T|I)||h[4].length?In.apply(k,h):Mn.apply(k,h);var v=d?Ua:Ha;return v(p,h)}function Pn(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],f=t[s],d=r?r(i?f:l,i?l:f,s):k;if(d!==k){if(d)continue;return!1}if(i){if(!dt(t,function(e){return l===e||n(l,e,r,i,o,a)}))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function Fn(e,t,n){switch(n){case $:case z:return+e==+t;case J:return e.name==t.name&&e.message==t.message;case X:return e!=+e?t!=+t:e==+t;case ee:case ne:return e==t+""}return!1}function Un(e,t,n,r,i,o,a){var s=Us(e),u=s.length,c=Us(t),l=c.length;if(u!=l&&!i)return!1;for(var f=u;f--;){var d=s[f];if(!(i?d in t:ta.call(t,d)))return!1}for(var h=i;++f<u;){d=s[f];var p=e[d],v=t[d],m=r?r(i?v:p,i?p:v,d):k;if(!(m===k?n(p,v,r,i,o,a):m))return!1;h||(h="constructor"==d)}if(!h){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function Bn(e,n,r){var i=t.callback||Oo;return i=i===Oo?bt:i,r?i(e,n,r):i}function Yn(e){for(var t=e.name,n=Ma[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Hn(e,n,r){var i=t.indexOf||Er;return i=i===Er?o:i,e?i(e,n,r):i}function Wn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Gn(e,t){var n=null==e?k:e[t];return Li(n)?n:k}function Vn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Sa(t,e+a);break;case"takeRight":e=xa(e,t-a)}}return{start:e,end:t}}function $n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function zn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=$o),new t}function Jn(e,t,n){var r=e.constructor;switch(t){case ie:return sn(e);case $:case z:return new r(+e);case oe:case ae:case se:case ue:case ce:case le:case fe:case de:case he:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case X:case ne:return new r(e);case ee:var o=new r(e.source,Ie.exec(e));o.lastIndex=e.lastIndex}return o}function Qn(e,t,n){null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Mt(e,zt(t,0,-1)),t=Or(t));var r=null==e?e:e[t];return null==r?k:r.apply(e,n)}function Kn(e){return null!=e&&nr(Ya(e))}function Xn(e,t){return e="number"==typeof e||qe.test(e)?+e:-1,t=null==t?Ia:t,e>-1&&e%1==0&&t>e}function Zn(e,t,n){if(!Mi(n))return!1;var r=typeof t;if("number"==r?Kn(n)&&Xn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&ke.test(e)||"number"==n)return!0;if(Ds(e))return!1;var r=!Ee.test(e);return r||null!=t&&e in fr(t)}function tr(e){var n=Yn(e);if(!(n in K.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Ba(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ia>=e}function rr(e){return e===e&&!Mi(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=M>i,a=r==M&&n==j||r==M&&n==q&&e[7].length<=t[8]||r==(M|q)&&n==j;if(!o&&!a)return e;r&T&&(e[2]=t[2],i|=n&T?0:D);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?_(e[3],W):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?cn(u,s,t[6]):et(s),e[6]=u?_(e[5],W):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&M&&(e[8]=null==e[8]?t[8]:Sa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===k?t:js(e,t,or)}function ar(e,t){e=fr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return jt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=Sa(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Xn(o,n)?i[o]:k}return e}function cr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ds(e)||ki(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Xn(s,r)||ta.call(e,s))&&a.push(s)}return a}function lr(e){return null==e?[]:Kn(e)?Mi(e)?e:$o(e):oo(e)}function fr(e){return Mi(e)?e:$o(e)}function dr(e){if(Ds(e))return e;var t=[];return s(e).replace(Oe,function(e,n,r,i){t.push(r?i.replace(je,"$1"):n||e)}),t}function hr(e){return e instanceof K?e.clone():new y(e.__wrapped__,e.__chain__,et(e.__actions__))}function pr(e,t,n){t=(n?Zn(e,t,n):null==t)?1:xa(ya(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Bo(ma(i/t));i>r;)a[++o]=zt(e,r,r+=t);return a}function vr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),zt(e,0>t?0:t)):[]}function gr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),zt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,Bn(t,n,3),!0,!0):[]}function _r(e,t,n){return e&&e.length?tn(e,Bn(t,n,3),!0):[]}function br(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,r=i),Ot(e,t,n,r)):[]}function wr(e){return e?e[0]:k}function xr(e,t,n){var r=e?e.length:0;return n&&Zn(e,t,n)&&(t=!1),r?Dt(e,t):[]}function Sr(e){var t=e?e.length:0;return t?Dt(e,!0):[]}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xa(r+n,0):n;else if(n){var i=rn(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return o(e,t,n||0)}function kr(e){return gr(e,1)}function Or(e){var t=e?e.length:0;return t?e[t-1]:k}function Tr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?xa(r+n,0):Sa(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return m(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ar(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)ha.call(t,o,1);return t}function Dr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Bn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Gt(e,o),r}function jr(e){return mr(e,1)}function Cr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Zn(e,t,n)&&(t=0,n=r),zt(e,t,n)):[]}function Ir(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),zt(e,0,0>t?0:t)):[]}function Rr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),zt(e,0>t?0:t)):[]}function Mr(e,t,n){return e&&e.length?tn(e,Bn(t,n,3),!1,!0):[]}function qr(e,t,n){return e&&e.length?tn(e,Bn(t,n,3)):[]}function Nr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Zn(e,t,r)?k:t,t=!1);var a=Bn();return(null!=n||a!==bt)&&(n=a(n,r,3)),t&&Hn()==o?b(e,n):Zt(e,n)}function Lr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Kn(e)?(n=xa(e.length,n),!0):void 0});for(var r=Bo(n);++t<n;)r[t]=ut(e,Ht(t));return r}function Pr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Lr(e);return null==t?i:(t=an(t,n,4),ut(i,function(e){return lt(e,t,k,!0)}))}function Fr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n))var r=r?ct(St(r,n),St(n,r)):n}return r?Zt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ds(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Br(e){var n=t(e);return n.__chain__=!0,n}function Yr(e,t,n){return t.call(n,e),e}function Hr(e,t,n){return t.call(n,e)}function Wr(){return Br(this)}function Gr(){return new y(this.value(),this.__chain__)}function Vr(e){for(var t,r=this;r instanceof n;){var i=hr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function $r(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof K){var n=e;return this.__actions__.length&&(n=new K(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[t],thisArg:k}),new y(n,this.__chain__)}return this.thru(t)}function zr(){return this.value()+""}function Jr(){return nn(this.__wrapped__,this.__actions__)}function Qr(e,t,n){var r=Ds(e)?ot:Et;return n&&Zn(e,t,n)&&(t=k),("function"!=typeof t||n!==k)&&(t=Bn(t,n,3)),r(e,t)}function Kr(e,t,n){var r=Ds(e)?st:Tt;return t=Bn(t,n,3),r(e,t)}function Xr(e,t){return is(e,Ft(t))}function Zr(e,t,n,r){var i=e?Ya(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Zn(t,n,r)?0:0>n?xa(i+n,0):n||0,"string"==typeof e||!Ds(e)&&Yi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Hn(e,t,n)>-1}function ei(e,t,n){var r=Ds(e)?ut:Pt;return t=Bn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Mo(t))}function ni(e,t,n){var r=Ds(e)?st:Tt;return t=Bn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Zn(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[Vt(0,r-1)]:k}var i=-1,o=$i(e),r=o.length,a=r-1;for(t=Sa(0>t?0:+t||0,r);++i<t;){var s=Vt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,Aa)}function oi(e){var t=e?Ya(e):0;return nr(t)?t:Us(e).length}function ai(e,t,n){var r=Ds(e)?dt:Jt;return n&&Zn(e,t,n)&&(t=k),("function"!=typeof t||n!==k)&&(t=Bn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Zn(e,t,n)&&(t=k);var r=-1;t=Bn(t,n,3);var i=Pt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Qt(i,l)}function ui(e,t,n,r){return null==e?[]:(r&&Zn(t,n,r)&&(n=k),Ds(t)||(t=null==t?[]:[t]),Ds(n)||(n=null==n?[]:[n]),Kt(e,t,n))}function ci(e,t){return Kr(e,Ft(t))}function li(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Qo(H);var n=e;e=t,t=n}return e=ba(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function fi(e,t,n){return n&&Zn(e,t,n)&&(t=k),t=e&&null==t?e.length:xa(+t||0,0),Ln(e,M,k,k,k,k,t)}function di(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Qo(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=k),n}}function hi(e,t,n){function r(){h&&sa(h),c&&sa(c),v=0,c=h=p=k}function i(t,n){n&&sa(n),c=h=p=k,t&&(v=vs(),l=e.apply(d,u),h||c||(u=d=k))}function o(){var e=t-(vs()-f);0>=e||e>t?i(p,c):h=da(o,e)}function a(){i(g,h)}function s(){if(u=arguments,f=vs(),d=this,p=g&&(h||!y),m===!1)var n=y&&!h;else{c||y||(v=f);var r=m-(f-v),i=0>=r||r>m;i?(c&&(c=sa(c)),v=f,l=e.apply(d,u)):c||(c=da(a,r))}return i&&h?h=sa(h):h||t===m||(h=da(o,t)),n&&(i=!0,l=e.apply(d,u)),!i||h||c||(u=d=k),l}var u,c,l,f,d,h,p,v=0,m=!1,g=!0;if("function"!=typeof e)throw new Qo(H);if(t=0>t?0:+t||0,n===!0){var y=!0;g=!1}else Mi(n)&&(y=!!n.leading,m="maxWait"in n&&xa(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Qo(H);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function vi(e){if("function"!=typeof e)throw new Qo(H);return function(){return!e.apply(this,arguments)}}function mi(e){return di(2,e)}function gi(e,t){if("function"!=typeof e)throw new Qo(H);return t=xa(t===k?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=xa(n.length-t,0),o=Bo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Bo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function yi(e){if("function"!=typeof e)throw new Qo(H);return function(t){return e.apply(this,t)}}function _i(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Qo(H);return n===!1?r=!1:Mi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function bi(e,t){return t=null==t?Ao:t,Ln(t,I,k,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Zn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function xi(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function Si(e,t){return e>t}function Ei(e,t){return e>=t}function ki(e){return g(e)&&Kn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function Oi(e){return e===!0||e===!1||g(e)&&ra.call(e)==$}function Ti(e){return g(e)&&ra.call(e)==z}function Ai(e){return!!e&&1===e.nodeType&&g(e)&&!Ui(e)}function Di(e){return null==e?!0:Kn(e)&&(Ds(e)||Yi(e)||ki(e)||g(e)&&Ri(e.splice))?!e.length:!Us(e).length}function ji(e,t,n,r){n="function"==typeof n?an(n,r,3):k;var i=n?n(e,t):k;return i===k?qt(e,t,n):!!i}function Ci(e){return g(e)&&"string"==typeof e.message&&ra.call(e)==J}function Ii(e){return"number"==typeof e&&ba(e)}function Ri(e){return Mi(e)&&ra.call(e)==Q}function Mi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function qi(e,t,n,r){return n="function"==typeof n?an(n,r,3):k,Lt(e,Wn(t),n)}function Ni(e){return Fi(e)&&e!=+e}function Li(e){return null==e?!1:Ri(e)?oa.test(ea.call(e)):g(e)&&Me.test(e)}function Pi(e){return null===e}function Fi(e){return"number"==typeof e||g(e)&&ra.call(e)==X}function Ui(e){var t;if(!g(e)||ra.call(e)!=Z||ki(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return jt(e,function(e,t){n=t}),n===k||ta.call(e,n)}function Bi(e){return Mi(e)&&ra.call(e)==ee}function Yi(e){return"string"==typeof e||g(e)&&ra.call(e)==ne}function Hi(e){return g(e)&&nr(e.length)&&!!Ye[ra.call(e)]}function Wi(e){return e===k}function Gi(e,t){return t>e}function Vi(e,t){return t>=e}function $i(e){var t=e?Ya(e):0;return nr(t)?t?et(e):[]:oo(e)}function zi(e){return _t(e,eo(e))}function Ji(e,t,n){var r=qa(e);return n&&Zn(e,t,n)&&(t=k),t?gt(r,t):r}function Qi(e){return Rt(e,eo(e))}function Ki(e,t,n){var r=null==e?k:Mt(e,dr(t),t+"");return r===k?n:r}function Xi(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=dr(t),e=1==t.length?e:Mt(e,zt(t,0,-1)),null==e)return!1;t=Or(t),n=ta.call(e,t)}return n||nr(e.length)&&Xn(t,e.length)&&(Ds(e)||ki(e))}function Zi(e,t,n){n&&Zn(e,t,n)&&(t=k);for(var r=-1,i=Us(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function eo(e){if(null==e)return[];Mi(e)||(e=$o(e));var t=e.length;t=t&&nr(t)&&(Ds(e)||ki(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Bo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Xn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=fr(e);for(var t=-1,n=Us(e),r=n.length,i=Bo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?k:e[t];return r===k&&(null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Mt(e,zt(t,0,-1)),r=null==e?k:e[Or(t)]),r=r===k?n:r),Ri(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:dr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Mi(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Xn(t[i+1])?[]:{})),s=s[u]}return e}function io(e,t,n,r){var i=Ds(e)||Hi(e);if(t=Bn(t,r,4),null==n)if(i||Mi(e)){var o=e.constructor;n=i?Ds(e)?new o:[]:qa(Ri(o)?o.prototype:k)}else n={};return(i?tt:Ct)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,Us(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===k?(n=t,t=0):n=+n||0,e>=Sa(t,n)&&e<xa(t,n)}function uo(e,t,n){n&&Zn(e,t,n)&&(t=n=k);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Oa();return Sa(e+o*(t-e+ua("1e-"+((o+"").length-1))),t)}return Vt(e,t)}function co(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=s(e),e&&e.replace(Ne,d).replace(De,"")}function fo(e,t,n){e=s(e),t+="";var r=e.length;return n=n===k?r:Sa(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ho(e){return e=s(e),e&&be.test(e)?e.replace(ye,h):e}function po(e){return e=s(e),e&&Ae.test(e)?e.replace(Te,p):e||"(?:)"}function vo(e,t,n){e=s(e),t=+t;var r=e.length;if(r>=t||!ba(t))return e;var i=(t-r)/2,o=ya(i),a=ma(i);return n=Rn("",a,n),n.slice(0,o)+e+n}function mo(e,t,n){return(n?Zn(e,t,n):null==t)?t=0:t&&(t=+t),e=bo(e),ka(e,t||(Re.test(e)?16:10))}function go(e,t){var n="";if(e=s(e),t=+t,1>t||!e||!ba(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=s(e),n=null==n?0:Sa(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function _o(e,n,r){var i=t.templateSettings;r&&Zn(e,n,r)&&(n=r=k),e=s(e),n=mt(gt({},r||n),i,vt);var o,a,u=mt(gt({},n.imports),i.imports,vt),c=Us(u),l=en(u,c),f=0,d=n.interpolate||Le,h="__p += '",p=zo((n.escape||Le).source+"|"+d.source+"|"+(d===Se?Ce:Le).source+"|"+(n.evaluate||Le).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Be+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(f,u).replace(Pe,v),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t}),h+="';\n";var g=n.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(pe,""):h).replace(ve,"$1").replace(me,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Ks(function(){return Wo(c,m+"return "+h).apply(k,l)});if(y.source=h,Ci(y))throw y;return y}function bo(e,t,n){var r=e;return(e=s(e))?(n?Zn(r,t,n):null==t)?e.slice(w(e),x(e)+1):(t+="",e.slice(u(e,t),c(e,t)+1)):e}function wo(e,t,n){var r=e;return e=s(e),e?(n?Zn(r,t,n):null==t)?e.slice(w(e)):e.slice(u(e,t+"")):e}function xo(e,t,n){var r=e;return e=s(e),e?(n?Zn(r,t,n):null==t)?e.slice(0,x(e)+1):e.slice(0,c(e,t+"")+1):e}function So(e,t,n){n&&Zn(e,t,n)&&(t=k);var r=N,i=L;if(null!=t)if(Mi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?s(t.omission):i}else r=+t||0;if(e=s(e),r>=e.length)return e;var a=r-i.length;if(1>a)return i;var u=e.slice(0,a);if(null==o)return u+i;if(Bi(o)){if(e.slice(a).search(o)){var c,l,f=e.slice(0,a);for(o.global||(o=zo(o.source,(Ie.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(f);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(e.indexOf(o,a)!=a){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+i}function Eo(e){return e=s(e),e&&_e.test(e)?e.replace(ge,S):e}function ko(e,t,n){return n&&Zn(e,t,n)&&(t=k),e=s(e),e.match(t||Fe)||[]}function Oo(e,t,n){return n&&Zn(e,t,n)&&(t=k),g(e)?Do(e):bt(e,t)}function To(e){return function(){return e}}function Ao(e){return e}function Do(e){return Ft(wt(e,!0))}function jo(e,t){return Ut(e,wt(t,!0))}function Co(e,t,n){if(null==n){var r=Mi(t),i=r?Us(t):k,o=i&&i.length?Rt(t,i):k;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Rt(t,Us(t)));var a=!0,s=-1,u=Ri(e),c=o.length;n===!1?a=!1:Mi(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],f=t[l];e[l]=f,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ct([this.value()],arguments))}}(f))}return e}function Io(){return nt._=ia,this}function Ro(){}function Mo(e){return er(e)?Ht(e):Wt(e)}function qo(e){return function(t){return Mt(e,dr(t),t+"")}}function No(e,t,n){n&&Zn(e,t,n)&&(t=n=k),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=xa(ma((t-e)/(n||1)),0),o=Bo(i);++r<i;)o[r]=e,e+=n;return o}function Lo(e,t,n){if(e=ya(e),1>e||!ba(e))return[];var r=-1,i=Bo(Sa(e,Da));for(t=an(t,n,1);++r<e;)Da>r?i[r]=t(r):t(r);return i}function Po(e){var t=++na;return s(e)+t}function Fo(e,t){return(+e||0)+(+t||0)}function Uo(e,t,n){return n&&Zn(e,t,n)&&(t=k),t=Bn(t,n,3),1==t.length?ht(Ds(e)?e:lr(e),t):Xt(e,t)}e=e?rt.defaults(nt.Object(),e,rt.pick(nt,Ue)):nt;var Bo=e.Array,Yo=e.Date,Ho=e.Error,Wo=e.Function,Go=e.Math,Vo=e.Number,$o=e.Object,zo=e.RegExp,Jo=e.String,Qo=e.TypeError,Ko=Bo.prototype,Xo=$o.prototype,Zo=Jo.prototype,ea=Wo.prototype.toString,ta=Xo.hasOwnProperty,na=0,ra=Xo.toString,ia=nt._,oa=zo("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ua=e.parseFloat,ca=Go.pow,la=Xo.propertyIsEnumerable,fa=Gn(e,"Set"),da=e.setTimeout,ha=Ko.splice,pa=e.Uint8Array,va=Gn(e,"WeakMap"),ma=Go.ceil,ga=Gn($o,"create"),ya=Go.floor,_a=Gn(Bo,"isArray"),ba=e.isFinite,wa=Gn($o,"keys"),xa=Go.max,Sa=Go.min,Ea=Gn(Yo,"now"),ka=e.parseInt,Oa=Go.random,Ta=Vo.NEGATIVE_INFINITY,Aa=Vo.POSITIVE_INFINITY,Da=4294967295,ja=Da-1,Ca=Da>>>1,Ia=9007199254740991,Ra=va&&new va,Ma={};t.support={};t.templateSettings={escape:we,evaluate:xe,interpolate:Se,variable:"",imports:{_:t}};var qa=function(){function e(){}return function(t){if(Mi(t)){e.prototype=t;var n=new e;e.prototype=k}return n||{}}}(),Na=dn(Ct),La=dn(It,!0),Pa=hn(),Fa=hn(!0),Ua=Ra?function(e,t){return Ra.set(e,t),e}:Ao,Ba=Ra?function(e){return Ra.get(e);
}:Ro,Ya=Ht("length"),Ha=function(){var e=0,t=0;return function(n,r){var i=vs(),o=F-(i-t);if(t=i,o>0){if(++e>=P)return n}else e=0;return Ua(n,r)}}(),Wa=gi(function(e,t){return g(e)&&Kn(e)?St(e,Dt(t,!1,!0)):[]}),Ga=xn(),Va=xn(!0),$a=gi(function(e){for(var t=e.length,n=t,r=Bo(f),i=Hn(),a=i==o,s=[];n--;){var u=e[n]=Kn(u=e[n])?u:[];r[n]=a&&u.length>=120?vn(n&&u):null}var c=e[0],l=-1,f=c?c.length:0,d=r[0];e:for(;++l<f;)if(u=c[l],(d?Ke(d,u):i(s,u,0))<0){for(var n=t;--n;){var h=r[n];if((h?Ke(h,u):i(e[n],u,0))<0)continue e}d&&d.push(u),s.push(u)}return s}),za=gi(function(e,t){t=Dt(t);var n=yt(e,t);return Gt(e,t.sort(r)),n}),Ja=Nn(),Qa=Nn(!0),Ka=gi(function(e){return Zt(Dt(e,!1,!0))}),Xa=gi(function(e,t){return Kn(e)?St(e,t):[]}),Za=gi(Lr),es=gi(function(e){var t=e.length,n=t>2?e[t-2]:k,r=t>1?e[t-1]:k;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):k,r=k),e.length=t,Pr(e,n,r)}),ts=gi(function(e){return e=Dt(e),this.thru(function(t){return Ze(Ds(t)?t:[fr(t)],e)})}),ns=gi(function(e,t){return yt(e,Dt(t))}),rs=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=wn(Na),os=wn(La,!0),as=kn(tt,Na),ss=kn(it,La),us=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),cs=ln(function(e,t,n){e[n]=t}),ls=gi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Kn(e)?Bo(e.length):[];return Na(e,function(e){var s=i?t:o&&null!=e?e[t]:k;a[++r]=s?s.apply(e,n):Qn(e,t,n)}),a}),fs=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ds=Cn(lt,Na),hs=Cn(ft,La),ps=gi(function(e,t){if(null==e)return[];var n=t[2];return n&&Zn(t[0],t[1],n)&&(t.length=1),Kt(e,Dt(t),[])}),vs=Ea||function(){return(new Yo).getTime()},ms=gi(function(e,t,n){var r=T;if(n.length){var i=_(n,ms.placeholder);r|=I}return Ln(e,r,t,n,i)}),gs=gi(function(e,t){t=t.length?Dt(t):Qi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Ln(e[i],T,e)}return e}),ys=gi(function(e,t,n){var r=T|A;if(n.length){var i=_(n,ys.placeholder);r|=I}return Ln(t,r,e,n,i)}),_s=yn(j),bs=yn(C),ws=gi(function(e,t){return xt(e,1,t)}),xs=gi(function(e,t,n){return xt(e,t,n)}),Ss=En(),Es=En(!0),ks=gi(function(e,t){if(t=Dt(t),"function"!=typeof e||!ot(t,a))throw new Qo(H);var n=t.length;return gi(function(r){for(var i=Sa(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Os=jn(I),Ts=jn(R),As=gi(function(e,t){return Ln(e,q,k,k,k,Dt(t))}),Ds=_a||function(e){return g(e)&&nr(e.length)&&ra.call(e)==V},js=fn(Bt),Cs=fn(function(e,t,n){return n?mt(e,t,n):gt(e,t)}),Is=_n(Cs,pt),Rs=_n(js,or),Ms=Sn(Ct),qs=Sn(It),Ns=On(Pa),Ls=On(Fa),Ps=Tn(Ct),Fs=Tn(It),Us=wa?function(e){var t=null==e?k:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Kn(e)?cr(e):Mi(e)?wa(e):[]}:cr,Bs=An(!0),Ys=An(),Hs=gi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Dt(t),Jo);return ar(e,St(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Ws=gi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,Dt(t))}),Gs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Vs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),$s=Dn(),zs=Dn(!0),Js=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Qs=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ks=gi(function(e,t){try{return e.apply(k,t)}catch(n){return Ci(n)?n:new Ho(n)}}),Xs=gi(function(e,t){return function(n){return Qn(n,e,t)}}),Zs=gi(function(e,t){return function(n){return Qn(e,n,t)}}),eu=qn("ceil"),tu=qn("floor"),nu=bn(Si,Ta),ru=bn(Gi,Aa),iu=qn("round");return t.prototype=n.prototype,y.prototype=qa(n.prototype),y.prototype.constructor=y,K.prototype=qa(n.prototype),K.prototype.constructor=K,Ge.prototype["delete"]=Ve,Ge.prototype.get=$e,Ge.prototype.has=ze,Ge.prototype.set=Je,Qe.prototype.push=Xe,pi.Cache=Ge,t.after=li,t.ary=fi,t.assign=Cs,t.at=ns,t.before=di,t.bind=ms,t.bindAll=gs,t.bindKey=ys,t.callback=Oo,t.chain=Br,t.chunk=pr,t.compact=vr,t.constant=To,t.countBy=rs,t.create=Ji,t.curry=_s,t.curryRight=bs,t.debounce=hi,t.defaults=Is,t.defaultsDeep=Rs,t.defer=ws,t.delay=xs,t.difference=Wa,t.drop=mr,t.dropRight=gr,t.dropRightWhile=yr,t.dropWhile=_r,t.fill=br,t.filter=Kr,t.flatten=xr,t.flattenDeep=Sr,t.flow=Ss,t.flowRight=Es,t.forEach=as,t.forEachRight=ss,t.forIn=Ns,t.forInRight=Ls,t.forOwn=Ps,t.forOwnRight=Fs,t.functions=Qi,t.groupBy=us,t.indexBy=cs,t.initial=kr,t.intersection=$a,t.invert=Zi,t.invoke=ls,t.keys=Us,t.keysIn=eo,t.map=ei,t.mapKeys=Bs,t.mapValues=Ys,t.matches=Do,t.matchesProperty=jo,t.memoize=pi,t.merge=js,t.method=Xs,t.methodOf=Zs,t.mixin=Co,t.modArgs=ks,t.negate=vi,t.omit=Hs,t.once=mi,t.pairs=to,t.partial=Os,t.partialRight=Ts,t.partition=fs,t.pick=Ws,t.pluck=ti,t.property=Mo,t.propertyOf=qo,t.pull=Ar,t.pullAt=za,t.range=No,t.rearg=As,t.reject=ni,t.remove=Dr,t.rest=jr,t.restParam=gi,t.set=ro,t.shuffle=ii,t.slice=Cr,t.sortBy=si,t.sortByAll=ps,t.sortByOrder=ui,t.spread=yi,t.take=Ir,t.takeRight=Rr,t.takeRightWhile=Mr,t.takeWhile=qr,t.tap=Yr,t.throttle=_i,t.thru=Hr,t.times=Lo,t.toArray=$i,t.toPlainObject=zi,t.transform=io,t.union=Ka,t.uniq=Nr,t.unzip=Lr,t.unzipWith=Pr,t.values=oo,t.valuesIn=ao,t.where=ci,t.without=Xa,t.wrap=bi,t.xor=Fr,t.zip=Za,t.zipObject=Ur,t.zipWith=es,t.backflow=Es,t.collect=ei,t.compose=Es,t.each=as,t.eachRight=ss,t.extend=Cs,t.iteratee=Oo,t.methods=Qi,t.object=Ur,t.select=Kr,t.tail=jr,t.unique=Nr,Co(t,t),t.add=Fo,t.attempt=Ks,t.camelCase=Gs,t.capitalize=co,t.ceil=eu,t.clone=wi,t.cloneDeep=xi,t.deburr=lo,t.endsWith=fo,t.escape=ho,t.escapeRegExp=po,t.every=Qr,t.find=is,t.findIndex=Ga,t.findKey=Ms,t.findLast=os,t.findLastIndex=Va,t.findLastKey=qs,t.findWhere=Xr,t.first=wr,t.floor=tu,t.get=Ki,t.gt=Si,t.gte=Ei,t.has=Xi,t.identity=Ao,t.includes=Zr,t.indexOf=Er,t.inRange=so,t.isArguments=ki,t.isArray=Ds,t.isBoolean=Oi,t.isDate=Ti,t.isElement=Ai,t.isEmpty=Di,t.isEqual=ji,t.isError=Ci,t.isFinite=Ii,t.isFunction=Ri,t.isMatch=qi,t.isNaN=Ni,t.isNative=Li,t.isNull=Pi,t.isNumber=Fi,t.isObject=Mi,t.isPlainObject=Ui,t.isRegExp=Bi,t.isString=Yi,t.isTypedArray=Hi,t.isUndefined=Wi,t.kebabCase=Vs,t.last=Or,t.lastIndexOf=Tr,t.lt=Gi,t.lte=Vi,t.max=nu,t.min=ru,t.noConflict=Io,t.noop=Ro,t.now=vs,t.pad=vo,t.padLeft=$s,t.padRight=zs,t.parseInt=mo,t.random=uo,t.reduce=ds,t.reduceRight=hs,t.repeat=go,t.result=no,t.round=iu,t.runInContext=E,t.size=oi,t.snakeCase=Js,t.some=ai,t.sortedIndex=Ja,t.sortedLastIndex=Qa,t.startCase=Qs,t.startsWith=yo,t.sum=Uo,t.template=_o,t.trim=bo,t.trimLeft=wo,t.trimRight=xo,t.trunc=So,t.unescape=Eo,t.uniqueId=Po,t.words=ko,t.all=Qr,t.any=ai,t.contains=Zr,t.eq=ji,t.detect=is,t.foldl=ds,t.foldr=hs,t.head=wr,t.include=Zr,t.inject=ds,Co(t,function(){var e={};return Ct(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=O,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){K.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new K(this);n=null==n?1:xa(ya(n)||0,0);var i=this.clone();return r?i.__takeCount__=Sa(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},K.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=Y;K.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Bn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ft:Mo;K.prototype[e]=function(e){return this[n](r(e))}}),K.prototype.compact=function(){return this.filter(Ao)},K.prototype.reject=function(e,t){return e=Bn(e,t,1),this.filter(function(t){return!e(t)})},K.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new K(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==k&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},K.prototype.toArray=function(){return this.take(Aa)},Ct(K.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n];o&&(t.prototype[n]=function(){var t=i?[1]:arguments,n=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof K,c=t[0],l=u||Ds(a);l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=function(e){return i&&n?o(e,1)[0]:o.apply(k,ct([e],t))},d={func:Hr,args:[f],thisArg:k},h=u&&!s;if(i&&!n)return h?(a=a.clone(),a.__actions__.push(d),e.call(a)):o.call(k,this.value())[0];if(!i&&l){a=h?a:new K(this);var p=e.apply(a,t);return p.__actions__.push(d),new y(p,n)}return this.thru(f)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Zo:Ko)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Ct(K.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Ma[i]||(Ma[i]=[]);o.push({name:n,func:r})}}),Ma[In(k,A).name]=[{name:"wrapper",func:k}],K.prototype.clone=te,K.prototype.reverse=re,K.prototype.value=We,t.prototype.chain=Wr,t.prototype.commit=Gr,t.prototype.concat=ts,t.prototype.plant=Vr,t.prototype.reverse=$r,t.prototype.toString=zr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Jr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var k,O="3.10.1",T=1,A=2,D=4,j=8,C=16,I=32,R=64,M=128,q=256,N=30,L="...",P=150,F=16,U=200,B=1,Y=2,H="Expected a function",W="__lodash_placeholder__",G="[object Arguments]",V="[object Array]",$="[object Boolean]",z="[object Date]",J="[object Error]",Q="[object Function]",K="[object Map]",X="[object Number]",Z="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",ae="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39|#96);/g,ye=/[&<>"'`]/g,_e=RegExp(ge.source),be=RegExp(ye.source),we=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ke=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Te=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ae=RegExp(Te.source),De=/[\u0300-\u036f\ufe20-\ufe23]/g,je=/\\(\\)?/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Re=/^0[xX]/,Me=/^\[object .+?Constructor\]$/,qe=/^\d+$/,Ne=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Pe=/['\n\r\u2028\u2029\\]/g,Fe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ue=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Be=-1,Ye={};Ye[oe]=Ye[ae]=Ye[se]=Ye[ue]=Ye[ce]=Ye[le]=Ye[fe]=Ye[de]=Ye[he]=!0,Ye[G]=Ye[V]=Ye[ie]=Ye[$]=Ye[z]=Ye[J]=Ye[Q]=Ye[K]=Ye[X]=Ye[Z]=Ye[ee]=Ye[te]=Ye[ne]=Ye[re]=!1;var He={};He[G]=He[V]=He[ie]=He[$]=He[z]=He[oe]=He[ae]=He[se]=He[ue]=He[ce]=He[X]=He[Z]=He[ee]=He[ne]=He[le]=He[fe]=He[de]=He[he]=!0,He[J]=He[Q]=He[K]=He[te]=He[re]=!1;var We={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ve={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$e={"function":!0,object:!0},ze={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=$e[typeof n]&&n&&!n.nodeType&&n,Ke=$e[typeof t]&&t&&!t.nodeType&&t,Xe=Qe&&Ke&&"object"==typeof e&&e&&e.Object&&e,Ze=$e[typeof self]&&self&&self.Object&&self,et=$e[typeof window]&&window&&window.Object&&window,tt=Ke&&Ke.exports===Qe&&Qe,nt=Xe||et!==(this&&this.window)&&et||Ze||this,rt=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=rt,define(function(){return rt})):Qe&&Ke?tt?(Ke.exports=rt)._=rt:Qe._=rt:nt._=rt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(e,t,n){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var i=e("./cachePush"),o=e("./getNative"),a=o(n,"Set"),s=o(Object,"create");r.prototype.push=i,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":71,"./getNative":76}],58:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}t.exports=r},{}],59:[function(e,t,n){function r(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}t.exports=r},{}],60:[function(e,t,n){function r(e,t,n){for(var r=-1,o=i(t),a=o.length;++r<a;){var s=o[r],u=e[s],c=n(u,t[s],s,e,t);(c===c?c===u:u!==u)&&(void 0!==u||s in e)||(e[s]=c)}return e}var i=e("../object/keys");t.exports=r},{"../object/keys":94}],61:[function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=e("./baseCopy"),o=e("../object/keys");t.exports=r},{"../object/keys":94,"./baseCopy":62}],62:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=r},{}],63:[function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var u=-1,c=i,l=!0,f=l&&t.length>=s?a(t):null,d=t.length;f&&(c=o,l=!1,t=f);e:for(;++u<n;){var h=e[u];if(l&&h===h){for(var p=d;p--;)if(t[p]===h)continue e;r.push(h)}else c(t,h,0)<0&&r.push(h)}return r}var i=e("./baseIndexOf"),o=e("./cacheIndexOf"),a=e("./createCache"),s=200;t.exports=r},{"./baseIndexOf":67,"./cacheIndexOf":70,"./createCache":74}],64:[function(e,t,n){function r(e,t,n,c){c||(c=[]);for(var l=-1,f=e.length;++l<f;){var d=e[l];u(d)&&s(d)&&(n||a(d)||o(d))?t?r(d,t,n,c):i(c,d):n||(c[c.length]=d)}return c}var i=e("./arrayPush"),o=e("../lang/isArguments"),a=e("../lang/isArray"),s=e("./isArrayLike"),u=e("./isObjectLike");t.exports=r},{"../lang/isArguments":87,"../lang/isArray":88,"./arrayPush":59,"./isArrayLike":78,"./isObjectLike":82}],65:[function(e,t,n){var r=e("./createBaseFor"),i=r();t.exports=i},{"./createBaseFor":73}],66:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e("./baseFor"),o=e("../object/keysIn");t.exports=r},{"../object/keysIn":95,"./baseFor":65}],67:[function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=e("./indexOfNaN");t.exports=r},{"./indexOfNaN":77}],68:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],69:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=r},{"../utility/identity":97}],70:[function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||i(t)?n.set.has(t):n.hash[t];return r?0:-1}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":91}],71:[function(e,t,n){function r(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":91}],72:[function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++r<a;){var l=n[r];l&&e(t,l,s)}return t})}var i=e("./bindCallback"),o=e("./isIterateeCall"),a=e("../function/restParam");t.exports=r},{"../function/restParam":55,"./bindCallback":69,"./isIterateeCall":80}],73:[function(e,t,n){function r(e){return function(t,n,r){for(var o=i(t),a=r(t),s=a.length,u=e?s:-1;e?u--:++u<s;){var c=a[u];if(n(o[c],c,o)===!1)break}return t}}var i=e("./toObject");t.exports=r},{"./toObject":86}],74:[function(e,t,n){(function(n){function r(e){return s&&a?new i(e):null}var i=e("./SetCache"),o=e("./getNative"),a=o(n,"Set"),s=o(Object,"create");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":57,"./getNative":76}],75:[function(e,t,n){var r=e("./baseProperty"),i=r("length");t.exports=i},{"./baseProperty":68}],76:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e("../lang/isNative");t.exports=r},{"../lang/isNative":90}],77:[function(e,t,n){function r(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}t.exports=r},{}],78:[function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=e("./getLength"),o=e("./isLength");t.exports=r},{"./getLength":75,"./isLength":81}],79:[function(e,t,n){function r(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,o=9007199254740991;t.exports=r},{}],80:[function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=e("./isArrayLike"),o=e("./isIndex"),a=e("../lang/isObject");t.exports=r},{"../lang/isObject":91,"./isArrayLike":78,"./isIndex":79}],81:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],82:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],83:[function(e,t,n){function r(e,t){e=i(e);for(var n=-1,r=t.length,o={};++n<r;){var a=t[n];a in e&&(o[a]=e[a])}return o}var i=e("./toObject");t.exports=r},{"./toObject":86}],84:[function(e,t,n){function r(e,t){var n={};return i(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}var i=e("./baseForIn");t.exports=r},{"./baseForIn":66}],85:[function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,c=!!r&&s(r)&&(o(e)||i(e)),f=-1,d=[];++f<n;){var h=t[f];(c&&a(h,r)||l.call(e,h))&&d.push(h)}return d}var i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("./isIndex"),s=e("./isLength"),u=e("../object/keysIn"),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},{"../lang/isArguments":87,"../lang/isArray":88,"../object/keysIn":95,"./isIndex":79,"./isLength":81}],86:[function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":91}],87:[function(e,t,n){function r(e){return o(e)&&i(e)&&s.call(e,"callee")&&!u.call(e,"callee")}var i=e("../internal/isArrayLike"),o=e("../internal/isObjectLike"),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;t.exports=r},{"../internal/isArrayLike":78,"../internal/isObjectLike":82}],88:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isLength"),o=e("../internal/isObjectLike"),a="[object Array]",s=Object.prototype,u=s.toString,c=r(Array,"isArray"),l=c||function(e){return o(e)&&i(e.length)&&u.call(e)==a};t.exports=l},{"../internal/getNative":76,"../internal/isLength":81,"../internal/isObjectLike":82}],89:[function(e,t,n){function r(e){return i(e)&&s.call(e)==o}var i=e("./isObject"),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},{"./isObject":91}],90:[function(e,t,n){function r(e){return null==e?!1:i(e)?l.test(u.call(e)):o(e)&&a.test(e)}var i=e("./isFunction"),o=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{"../internal/isObjectLike":82,"./isFunction":89}],91:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],92:[function(e,t,n){var r=e("../internal/assignWith"),i=e("../internal/baseAssign"),o=e("../internal/createAssigner"),a=o(function(e,t,n){return n?r(e,t,n):i(e,t)});t.exports=a},{"../internal/assignWith":60,"../internal/baseAssign":61,"../internal/createAssigner":72}],93:[function(e,t,n){t.exports=e("./assign")},{"./assign":92}],94:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isArrayLike"),o=e("../lang/isObject"),a=e("../internal/shimKeys"),s=r(Object,"keys"),u=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):o(e)?s(e):[]}:a;t.exports=u},{"../internal/getNative":76,"../internal/isArrayLike":78,"../internal/shimKeys":85,"../lang/isObject":91}],95:[function(e,t,n){function r(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,c="function"==typeof n&&n.prototype===e,f=Array(t),d=t>0;++r<t;)f[r]=r+"";for(var h in e)d&&a(h,t)||"constructor"==h&&(c||!l.call(e,h))||f.push(h);return f}var i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("../internal/isIndex"),s=e("../internal/isLength"),u=e("../lang/isObject"),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},{"../internal/isIndex":79,"../internal/isLength":81,"../lang/isArguments":87,"../lang/isArray":88,"../lang/isObject":91}],96:[function(e,t,n){var r=e("../internal/arrayMap"),i=e("../internal/baseDifference"),o=e("../internal/baseFlatten"),a=e("../internal/bindCallback"),s=e("./keysIn"),u=e("../internal/pickByArray"),c=e("../internal/pickByCallback"),l=e("../function/restParam"),f=l(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=r(o(t),String);return u(e,i(s(e),t))}var n=a(t[0],t[1],3);return c(e,function(e,t,r){return!n(e,t,r)})});t.exports=f},{"../function/restParam":55,"../internal/arrayMap":58,"../internal/baseDifference":63,"../internal/baseFlatten":64,"../internal/bindCallback":69,"../internal/pickByArray":83,"../internal/pickByCallback":84,"./keysIn":95}],97:[function(e,t,n){function r(e){return e}t.exports=r},{}],98:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return Nn.apply(null,arguments)}function r(e){Nn=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return je(e,t,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function f(e){return null==e._pf&&(e._pf=l()),e._pf}function d(e){if(null==e._isValid){var t=f(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=c(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function p(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=f(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pn.length>0)for(n in Pn)r=Pn[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function v(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Fn===!1&&(Fn=!0,n.updateOffset(this),Fn=!1)}function m(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&a++;return a+o}function b(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){for(var t,n,r,i,o=0;o<e.length;){for(i=w(e[o]).split("-"),t=i.length,n=w(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=S(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return null}function S(n){var r=null;if(!Un[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Ln._abbr,e("./locale/"+n),E(r)}catch(i){}return Un[n]}function E(e,t){var n;return e&&(n="undefined"==typeof t?O(e):k(e,t),n&&(Ln=n)),Ln._abbr}function k(e,t){return null!==t?(t.abbr=e,Un[e]=Un[e]||new b,Un[e].set(t),E(e),Un[e]):(delete Un[e],null)}function O(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ln;if(!i(e)){if(t=S(e))return t;e=[e]}return x(e)}function T(e,t){var n=e.toLowerCase();Bn[n]=Bn[n+"s"]=Bn[t]=e}function A(e){return"string"==typeof e?Bn[e]||Bn[e.toLowerCase()]:void 0}function D(e){var t,n,r={};for(n in e)s(e,n)&&(t=A(n),t&&(r[t]=e[n]));return r}function j(e,t){return function(r){return null!=r?(I(this,e,r),n.updateOffset(this,t),this):C(this,e)}}function C(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function I(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function R(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=A(e),"function"==typeof this[e])return this[e](t);return this}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Gn[e]=i),t&&(Gn[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(Gn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,r=e.match(Yn);for(t=0,n=r.length;n>t;t++)Gn[r[t]]?r[t]=Gn[r[t]]:r[t]=N(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function P(e,t){return e.isValid()?(t=F(t,e.localeData()),Wn[t]=Wn[t]||L(t),Wn[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hn.lastIndex=0;r>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,r-=1;return e}function U(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function B(e,t,n){ar[e]=U(t)?t:function(e){return e&&n?n:t}}function Y(e,t){return s(ar,e)?ar[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)sr[e[n]]=r}function G(e,t){W(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function V(e,t,n){null!=t&&s(sr,e)&&sr[e](t,n._a,n,e)}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function z(e){return this._months[e.month()]}function J(e){return this._monthsShort[e.month()]}function Q(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function X(e){return null!=e?(K(this,e),n.updateOffset(this,!0),this):C(this,"Month")}function Z(){return $(this.year(),this.month())}function ee(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[cr]<0||n[cr]>11?cr:n[lr]<1||n[lr]>$(n[ur],n[cr])?lr:n[fr]<0||n[fr]>24||24===n[fr]&&(0!==n[dr]||0!==n[hr]||0!==n[pr])?fr:n[dr]<0||n[dr]>59?dr:n[hr]<0||n[hr]>59?hr:n[pr]<0||n[pr]>999?pr:-1,f(e)._overflowDayOfYear&&(ur>t||t>lr)&&(t=lr),f(e).overflow=t),e}function te(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function ne(e,t){var n=!0;return u(function(){return n&&(te(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function re(e,t){gr[e]||(te(t),gr[e]=!0)}function ie(e){var t,n,r=e._i,i=yr.exec(r);if(i){for(f(e).iso=!0,t=0,n=_r.length;n>t;t++)if(_r[t][1].exec(r)){e._f=_r[t][0];break}for(t=0,n=br.length;n>t;t++)if(br[t][1].exec(r)){e._f+=(i[6]||" ")+br[t][0];break}r.match(rr)&&(e._f+="Z"),Se(e)}else e._isValid=!1}function oe(e){var t=wr.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(ie(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function ae(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ue(e){return ce(e)?366:365}function ce(e){return e%4===0&&e%100!==0||e%400===0}function le(){return ce(this.year())}function fe(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=Ce(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function de(e){return fe(e,this._week.dow,this._week.doy).week}function he(){return this._week.dow}function pe(){return this._week.doy}function ve(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function me(e){var t=fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ge(e,t,n,r,i){var o,a=6+i-r,s=se(e,0,1+a),u=s.getUTCDay();return i>u&&(u+=7),n=null!=n?1*n:i,o=1+a+7*(t-1)-u+n,{year:o>0?e:e-1,dayOfYear:o>0?o:ue(e-1)+o}}function ye(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;
return null==e?t:this.add(e-t,"d")}function _e(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function we(e){var t,n,r,i,o=[];if(!e._d){for(r=be(e),e._w&&null==e._a[lr]&&null==e._a[cr]&&xe(e),e._dayOfYear&&(i=_e(e._a[ur],r[ur]),e._dayOfYear>ue(i)&&(f(e)._overflowDayOfYear=!0),n=se(i,0,e._dayOfYear),e._a[cr]=n.getUTCMonth(),e._a[lr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fr]&&0===e._a[dr]&&0===e._a[hr]&&0===e._a[pr]&&(e._nextDay=!0,e._a[fr]=0),e._d=(e._useUTC?se:ae).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fr]=24)}}function xe(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=_e(t.GG,e._a[ur],fe(Ce(),1,4).year),r=_e(t.W,1),i=_e(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=_e(t.gg,e._a[ur],fe(Ce(),o,a).year),r=_e(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=ge(n,r,i,a,o),e._a[ur]=s.year,e._dayOfYear=s.dayOfYear}function Se(e){if(e._f===n.ISO_8601)return void ie(e);e._a=[],f(e).empty=!0;var t,r,i,o,a,s=""+e._i,u=s.length,c=0;for(i=F(e._f,e._locale).match(Yn)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(Y(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&f(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Gn[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),V(o,r,e)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=u-c,s.length>0&&f(e).unusedInput.push(s),f(e).bigHour===!0&&e._a[fr]<=12&&e._a[fr]>0&&(f(e).bigHour=void 0),e._a[fr]=Ee(e._locale,e._a[fr],e._meridiem),we(e),ee(e)}function Ee(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function ke(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Se(t),d(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||r>o)&&(r=o,n=t));u(e,n||t)}function Oe(e){if(!e._d){var t=D(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],we(e)}}function Te(e){var t=new v(ee(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ae(e){var t=e._i,n=e._f;return e._locale=e._locale||O(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new v(ee(t)):(i(n)?ke(e):n?Se(e):o(t)?e._d=t:De(e),e))}function De(e){var t=e._i;void 0===t?e._d=new Date:o(t)?e._d=new Date(+t):"string"==typeof t?oe(e):i(t)?(e._a=a(t.slice(0),function(e){return parseInt(e,10)}),we(e)):"object"==typeof t?Oe(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function je(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Te(o)}function Ce(e,t,n,r){return je(e,t,n,r,!1)}function Ie(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ce();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Re(){var e=[].slice.call(arguments,0);return Ie("isBefore",e)}function Me(){var e=[].slice.call(arguments,0);return Ie("isAfter",e)}function qe(e){var t=D(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=O(),this._bubble()}function Ne(e){return e instanceof qe}function Le(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)})}function Pe(e){var t=(e||"").match(rr)||[],n=t[t.length-1]||[],r=(n+"").match(Or)||["-",0,0],i=+(60*r[1])+y(r[2]);return"+"===r[0]?i:-i}function Fe(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(m(e)||o(e)?+e:+Ce(e))-+r,r._d.setTime(+r._d+i),n.updateOffset(r,!1),r):Ce(e).local()}function Ue(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Be(e,t){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Pe(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(r=Ue(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?rt(this,Xe(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ue(this)}function Ye(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function We(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ue(this),"m")),this}function Ge(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pe(this._i)),this}function Ve(e){return e=e?Ce(e).utcOffset():0,(this.utcOffset()-e)%60===0}function $e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ze(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=Ae(e),e._a){var t=e._isUTC?c(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Je(){return!this._isUTC}function Qe(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Xe(e,t){var n,r,i,o=e,a=null;return Ne(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[lr])*n,h:y(a[fr])*n,m:y(a[dr])*n,s:y(a[hr])*n,ms:y(a[pr])*n}):(a=Ar.exec(e))?(n="-"===a[1]?-1:1,o={y:Ze(a[2],n),M:Ze(a[3],n),d:Ze(a[4],n),h:Ze(a[5],n),m:Ze(a[6],n),s:Ze(a[7],n),w:Ze(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=tt(Ce(o.from),Ce(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new qe(o),Ne(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Ze(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function et(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tt(e,t){var n;return t=Fe(t,e),e.isBefore(t)?n=et(e,t):(n=et(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(re(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Xe(n,r),rt(this,i,e),this}}function rt(e,t,r,i){var o=t._milliseconds,a=t._days,s=t._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),a&&I(e,"Date",C(e,"Date")+a*r),s&&K(e,C(e,"Month")+s*r),i&&n.updateOffset(e,a||s)}function it(e,t){var n=e||Ce(),r=Fe(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Ce(n)))}function ot(){return new v(this)}function at(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ce(e),+this>+e):(n=m(e)?+e:+Ce(e),n<+this.clone().startOf(t))}function st(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ce(e),+e>+this):(n=m(e)?+e:+Ce(e),+this.clone().endOf(t)<n)}function ut(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ct(e,t){var n;return t=A(t||"millisecond"),"millisecond"===t?(e=m(e)?e:Ce(e),+this===+e):(n=+Ce(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function lt(e,t,n){var r,i,o=Fe(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=A(t),"year"===t||"month"===t||"quarter"===t?(i=ft(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:g(i)}function ft(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ht(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pt(e){var t=P(this,e||n.defaultFormat);return this.localeData().postformat(t)}function vt(e,t){return this.isValid()?Xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.from(Ce(),e)}function gt(e,t){return this.isValid()?Xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yt(e){return this.to(Ce(),e)}function _t(e){var t;return void 0===e?this._locale._abbr:(t=O(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function wt(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function xt(e){return e=A(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function St(){return+this._d-6e4*(this._offset||0)}function Et(){return Math.floor(+this/1e3)}function kt(){return this._offset?new Date(+this):this._d}function Ot(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function At(){return d(this)}function Dt(){return u({},f(this))}function jt(){return f(this).overflow}function Ct(e,t){q(0,[e,e.length],0,t)}function It(e,t,n){return fe(Ce([e,11,31+t-n]),t,n).week}function Rt(e){var t=fe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Mt(e){var t=fe(this,1,4).year;return null==e?t:this.add(e-t,"y")}function qt(){return It(this.year(),1,4)}function Nt(){var e=this.localeData()._week;return It(this.year(),e.dow,e.doy)}function Lt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Pt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ft(e){return this._weekdays[e.day()]}function Ut(e){return this._weekdaysShort[e.day()]}function Bt(e){return this._weekdaysMin[e.day()]}function Yt(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Ce([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Vt(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $t(e,t){return t._meridiemParse}function zt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Jt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qt(e,t){t[pr]=y(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Xt(){return this._isUTC?"Coordinated Universal Time":""}function Zt(e){return Ce(1e3*e)}function en(){return Ce.apply(null,arguments).parseZone()}function tn(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function nn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rn(){return this._invalidDate}function on(e){return this._ordinal.replace("%d",e)}function an(e){return e}function sn(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function un(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function cn(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(e,t,n,r){var i=O(),o=c().set(r,t);return i[n](o,e)}function fn(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ln(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=ln(e,o,n,i);return a}function dn(e,t){return fn(e,t,"months",12,"month")}function hn(e,t){return fn(e,t,"monthsShort",12,"month")}function pn(e,t){return fn(e,t,"weekdays",7,"day")}function vn(e,t){return fn(e,t,"weekdaysShort",7,"day")}function mn(e,t){return fn(e,t,"weekdaysMin",7,"day")}function gn(){var e=this._data;return this._milliseconds=Kr(this._milliseconds),this._days=Kr(this._days),this._months=Kr(this._months),e.milliseconds=Kr(e.milliseconds),e.seconds=Kr(e.seconds),e.minutes=Kr(e.minutes),e.hours=Kr(e.hours),e.months=Kr(e.months),e.years=Kr(e.years),this}function yn(e,t,n,r){var i=Xe(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _n(e,t){return yn(this,e,t,1)}function bn(e,t){return yn(this,e,t,-1)}function wn(e){return 0>e?Math.floor(e):Math.ceil(e)}function xn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*wn(En(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=g(o/1e3),u.seconds=e%60,t=g(e/60),u.minutes=t%60,n=g(t/60),u.hours=n%24,a+=g(n/24),i=g(Sn(a)),s+=i,a-=wn(En(i)),r=g(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Sn(e){return 4800*e/146097}function En(e){return 146097*e/4800}function kn(e){var t,n,r=this._milliseconds;if(e=A(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Sn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function On(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Tn(e){return function(){return this.as(e)}}function An(e){return e=A(e),this[e+"s"]()}function Dn(e){return function(){return this._data[e]}}function jn(){return g(this.days()/7)}function Cn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function In(e,t,n){var r=Xe(e).abs(),i=hi(r.as("s")),o=hi(r.as("m")),a=hi(r.as("h")),s=hi(r.as("d")),u=hi(r.as("M")),c=hi(r.as("y")),l=i<pi.s&&["s",i]||1===o&&["m"]||o<pi.m&&["mm",o]||1===a&&["h"]||a<pi.h&&["hh",a]||1===s&&["d"]||s<pi.d&&["dd",s]||1===u&&["M"]||u<pi.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,Cn.apply(null,l)}function Rn(e,t){return void 0===pi[e]?!1:void 0===t?pi[e]:(pi[e]=t,!0)}function Mn(e){var t=this.localeData(),n=In(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function qn(){var e,t,n,r=vi(this._milliseconds)/1e3,i=vi(this._days),o=vi(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(o/12),o%=12;var a=n,s=o,u=i,c=t,l=e,f=r,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(c||l||f?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var Nn,Ln,Pn=n.momentProperties=[],Fn=!1,Un={},Bn={},Yn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Gn={},Vn=/\d/,$n=/\d\d/,zn=/\d{3}/,Jn=/\d{4}/,Qn=/[+-]?\d{6}/,Kn=/\d\d?/,Xn=/\d{1,3}/,Zn=/\d{1,4}/,er=/[+-]?\d{1,6}/,tr=/\d+/,nr=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,ir=/[+-]?\d+(\.\d{1,3})?/,or=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ar={},sr={},ur=0,cr=1,lr=2,fr=3,dr=4,hr=5,pr=6;q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),B("M",Kn),B("MM",Kn,$n),B("MMM",or),B("MMMM",or),W(["M","MM"],function(e,t){t[cr]=y(e)-1}),W(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[cr]=i:f(n).invalidMonth=e});var vr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gr={};n.suppressDeprecationWarnings=!1;var yr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],br=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wr=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),T("year","y"),B("Y",nr),B("YY",Kn,$n),B("YYYY",Zn,Jn),B("YYYYY",er,Qn),B("YYYYYY",er,Qn),W(["YYYYY","YYYYYY"],ur),W("YYYY",function(e,t){t[ur]=2===e.length?n.parseTwoDigitYear(e):y(e)}),W("YY",function(e,t){t[ur]=n.parseTwoDigitYear(e)}),n.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var xr=j("FullYear",!1);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),B("w",Kn),B("ww",Kn,$n),B("W",Kn),B("WW",Kn,$n),G(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=y(e)});var Sr={dow:0,doy:6};q("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),B("DDD",Xn),B("DDDD",zn),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),n.ISO_8601=function(){};var Er=ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ce.apply(null,arguments);return this>e?this:e}),kr=ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ce.apply(null,arguments);return e>this?this:e});Le("Z",":"),Le("ZZ",""),B("Z",rr),B("ZZ",rr),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pe(e)});var Or=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Tr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ar=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xe.fn=qe.prototype;var Dr=nt(1,"add"),jr=nt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cr=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ct("gggg","weekYear"),Ct("ggggg","weekYear"),Ct("GGGG","isoWeekYear"),Ct("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),B("G",nr),B("g",nr),B("GG",Kn,$n),B("gg",Kn,$n),B("GGGG",Zn,Jn),B("gggg",Zn,Jn),B("GGGGG",er,Qn),B("ggggg",er,Qn),G(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=y(e)}),G(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),q("Q",0,0,"quarter"),T("quarter","Q"),B("Q",Vn),W("Q",function(e,t){t[cr]=3*(y(e)-1)}),q("D",["DD",2],"Do","date"),T("date","D"),B("D",Kn),B("DD",Kn,$n),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],lr),W("Do",function(e,t){t[lr]=y(e.match(Kn)[0],10)});var Ir=j("Date",!0);q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),B("d",Kn),B("e",Kn),B("E",Kn),B("dd",or),B("ddd",or),B("dddd",or),G(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:f(n).invalidWeekday=e}),G(["d","e","E"],function(e,t,n,r){t[r]=y(e)});var Rr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");q("H",["HH",2],0,"hour"),q("h",["hh",2],0,function(){return this.hours()%12||12}),Vt("a",!0),Vt("A",!1),T("hour","h"),B("a",$t),B("A",$t),B("H",Kn),B("h",Kn),B("HH",Kn,$n),B("hh",Kn,$n),W(["H","HH"],fr),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[fr]=y(e),f(n).bigHour=!0});var Nr=/[ap]\.?m?\.?/i,Lr=j("Hours",!0);q("m",["mm",2],0,"minute"),T("minute","m"),B("m",Kn),B("mm",Kn,$n),W(["m","mm"],dr);var Pr=j("Minutes",!1);q("s",["ss",2],0,"second"),T("second","s"),B("s",Kn),B("ss",Kn,$n),W(["s","ss"],hr);var Fr=j("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),B("S",Xn,Vn),B("SS",Xn,$n),B("SSS",Xn,zn);var Ur;for(Ur="SSSS";Ur.length<=9;Ur+="S")B(Ur,tr);for(Ur="S";Ur.length<=9;Ur+="S")W(Ur,Qt);var Br=j("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Yr=v.prototype;Yr.add=Dr,Yr.calendar=it,Yr.clone=ot,Yr.diff=lt,Yr.endOf=xt,Yr.format=pt,Yr.from=vt,Yr.fromNow=mt,Yr.to=gt,Yr.toNow=yt,Yr.get=R,Yr.invalidAt=jt,Yr.isAfter=at,Yr.isBefore=st,Yr.isBetween=ut,Yr.isSame=ct,Yr.isValid=At,Yr.lang=Cr,Yr.locale=_t,Yr.localeData=bt,Yr.max=kr,Yr.min=Er,Yr.parsingFlags=Dt,Yr.set=R,Yr.startOf=wt,Yr.subtract=jr,Yr.toArray=Ot,Yr.toObject=Tt,Yr.toDate=kt,Yr.toISOString=ht,Yr.toJSON=ht,Yr.toString=dt,Yr.unix=Et,Yr.valueOf=St,Yr.year=xr,Yr.isLeapYear=le,Yr.weekYear=Rt,Yr.isoWeekYear=Mt,Yr.quarter=Yr.quarters=Lt,Yr.month=X,Yr.daysInMonth=Z,Yr.week=Yr.weeks=ve,Yr.isoWeek=Yr.isoWeeks=me,Yr.weeksInYear=Nt,Yr.isoWeeksInYear=qt,Yr.date=Ir,Yr.day=Yr.days=Ht,Yr.weekday=Wt,Yr.isoWeekday=Gt,Yr.dayOfYear=ye,Yr.hour=Yr.hours=Lr,Yr.minute=Yr.minutes=Pr,Yr.second=Yr.seconds=Fr,Yr.millisecond=Yr.milliseconds=Br,Yr.utcOffset=Be,Yr.utc=He,Yr.local=We,Yr.parseZone=Ge,Yr.hasAlignedHourOffset=Ve,Yr.isDST=$e,Yr.isDSTShifted=ze,Yr.isLocal=Je,Yr.isUtcOffset=Qe,Yr.isUtc=Ke,Yr.isUTC=Ke,Yr.zoneAbbr=Kt,Yr.zoneName=Xt,Yr.dates=ne("dates accessor is deprecated. Use date instead.",Ir),Yr.months=ne("months accessor is deprecated. Use month instead",X),Yr.years=ne("years accessor is deprecated. Use year instead",xr),Yr.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ye);var Hr=Yr,Wr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Gr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Vr="Invalid date",$r="%d",zr=/\d{1,2}/,Jr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Qr=b.prototype;Qr._calendar=Wr,Qr.calendar=tn,Qr._longDateFormat=Gr,Qr.longDateFormat=nn,Qr._invalidDate=Vr,Qr.invalidDate=rn,Qr._ordinal=$r,Qr.ordinal=on,Qr._ordinalParse=zr,Qr.preparse=an,Qr.postformat=an,Qr._relativeTime=Jr,Qr.relativeTime=sn,Qr.pastFuture=un,Qr.set=cn,Qr.months=z,Qr._months=vr,Qr.monthsShort=J,Qr._monthsShort=mr,Qr.monthsParse=Q,Qr.week=de,Qr._week=Sr,Qr.firstDayOfYear=pe,Qr.firstDayOfWeek=he,Qr.weekdays=Ft,Qr._weekdays=Rr,Qr.weekdaysMin=Bt,Qr._weekdaysMin=qr,Qr.weekdaysShort=Ut,Qr._weekdaysShort=Mr,Qr.weekdaysParse=Yt,Qr.isPM=zt,Qr._meridiemParse=Nr,Qr.meridiem=Jt,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=ne("moment.lang is deprecated. Use moment.locale instead.",E),n.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",O);var Kr=Math.abs,Xr=Tn("ms"),Zr=Tn("s"),ei=Tn("m"),ti=Tn("h"),ni=Tn("d"),ri=Tn("w"),ii=Tn("M"),oi=Tn("y"),ai=Dn("milliseconds"),si=Dn("seconds"),ui=Dn("minutes"),ci=Dn("hours"),li=Dn("days"),fi=Dn("months"),di=Dn("years"),hi=Math.round,pi={s:45,m:45,h:22,d:26,M:11},vi=Math.abs,mi=qe.prototype;mi.abs=gn,mi.add=_n,mi.subtract=bn,mi.as=kn,mi.asMilliseconds=Xr,mi.asSeconds=Zr,mi.asMinutes=ei,mi.asHours=ti,mi.asDays=ni,mi.asWeeks=ri,mi.asMonths=ii,mi.asYears=oi,mi.valueOf=On,mi._bubble=xn,mi.get=An,mi.milliseconds=ai,mi.seconds=si,mi.minutes=ui,mi.hours=ci,mi.days=li,mi.weeks=jn,mi.months=fi,mi.years=di,mi.humanize=Mn,mi.toISOString=qn,mi.toString=qn,mi.toJSON=qn,mi.locale=_t,mi.localeData=bt,mi.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qn),mi.lang=Cr,q("X",0,0,"unix"),q("x",0,0,"valueOf"),B("x",nr),B("X",ir),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(y(e))}),n.version="2.10.6",r(Ce),n.fn=Hr,n.min=Re,n.max=Me,n.utc=c,n.unix=Zt,n.months=dn,n.isDate=o,n.locale=E,n.invalid=h,n.duration=Xe,n.isMoment=m,n.weekdays=pn,n.parseZone=en,n.localeData=O,n.isDuration=Ne,n.monthsShort=hn,n.weekdaysMin=mn,n.defineLocale=k,n.weekdaysShort=vn,n.normalizeUnits=A,n.relativeTimeThreshold=Rn;var gi=n;return gi})},{}],99:[function(require,module,exports){(function(global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PouchDB=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n];return!1}function i(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=d.pick(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function a(e,t){var n=d.compare(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return d.compare(r,i)}function s(e){var t={},n=[];return b(e,function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function u(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var i={offset:t.skip};return g.all(r.map(function(n){var r=d.extend({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new g(function(t,o){e._allDocs(r,function(e,r){return e?o(e):(i.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return i.rows=e,i})}function c(e){var t=e._compactionQueue[0],r=t.opts,i=t.callback;e.get("_local/compaction")["catch"](function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?i(t):i(null,r),n.nextTick(function(){e._compactionQueue.shift(),e._compactionQueue.length&&c(e)})})})}function l(e){return"_"===e.charAt(0)?e+"is not a valid attachment name, attachment names cannot start with '_'":!1}function f(){p.call(this)}var d=e(84),h=e(48),p=e(87).EventEmitter,v=e(64),m=e(14),g=d.Promise,y=e(38),_=e(39),b=e(56),w=e(52),x=e(55),S=e(51);d.inherits(f,p),t.exports=f,f.prototype.post=d.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(h.error(h.NOT_AN_OBJECT)):void this.bulkDocs({docs:[e]},t,i(n))}),f.prototype.put=d.adapterFun("put",d.getArguments(function(e){var t,n,r,o,a=e.shift(),s="_id"in a;if("object"!=typeof a||Array.isArray(a))return(o=e.pop())(h.error(h.NOT_AN_OBJECT));for(a=d.clone(a);;)if(t=e.shift(),n=typeof t,"string"!==n||s?"string"!==n||!s||"_rev"in a?"object"===n?r=t:"function"===n&&(o=t):a._rev=t:(a._id=t,s=!0),!e.length)break;r=r||{};var u=d.invalidIdError(a._id);return u?o(u):_(a._id)&&"function"==typeof this._putLocal?a._deleted?this._removeLocal(a,o):this._putLocal(a,o):void this.bulkDocs({docs:[a]},r,i(o))})),f.prototype.putAttachment=d.adapterFun("putAttachment",function(e,t,n,r,i,o){function a(e){return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r},s.put(e)}var s=this;return"function"==typeof i&&(o=i,i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),s.get(e).then(function(e){if(e._rev!==n)throw h.error(h.REV_CONFLICT);return a(e)},function(t){if(t.reason===h.MISSING_DOC.message)return a({_id:e});throw t})}),f.prototype.removeAttachment=d.adapterFun("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,o){return e?void r(e):o._rev!==n?void r(h.error(h.REV_CONFLICT)):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),f.prototype.remove=d.adapterFun("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=d.clone(n||{}),n.was_delete=!0;var a={_id:o._id,_rev:o._rev||n.rev};return a._deleted=!0,_(a._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,r):void this.bulkDocs({docs:[a]},n,i(r))}),f.prototype.revsDiff=d.adapterFun("revsDiff",function(e,t,n){function r(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}function i(t,n){var i=e[t].slice(0);b(n,function(e,n,o,a,s){var u=n+"-"+o,c=i.indexOf(u);-1!==c&&(i.splice(c,1),"available"!==s.status&&r(t,u))}),i.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={}),t=d.clone(t);var o=Object.keys(e);if(!o.length)return n(null,{});var a=0,s=new d.Map;o.map(function(t){this._getRevisionTree(t,function(r,u){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]
});else{if(r)return n(r);i(t,u)}if(++a===o.length){var c={};return s.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),f.prototype.compactDocument=d.adapterFun("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,o){if(i)return n(i);var a=s(o),u=[],c=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),b(o,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==u.indexOf(o)&&c.push(o)}),r._doCompaction(e,c,n)})}),f.prototype.compact=d.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=d.clone(e||{}),n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&c(n)}),f.prototype._compact=function(e,t){function n(e){a.push(i.compactDocument(e.id,0))}function r(e){var n=e.last_seq;g.all(a).then(function(){return v(i,"_local/compaction",function(e){return!e.last_seq||e.last_seq<n?(e.last_seq=n,e):!1})}).then(function(){t(null,{ok:!0})})["catch"](t)}var i=this,o={returnDocs:!1,last_seq:e.last_seq||0},a=[];i.changes(o).on("change",n).on("complete",r).on("error",t)},f.prototype.get=d.adapterFun("get",function(e,t,n){function i(){var r=[],i=o.length;return i?void o.forEach(function(o){a.get(e,{rev:o,revs:t.revs,attachments:t.attachments},function(e,t){e?r.push({missing:o}):r.push({ok:t}),i--,i||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(h.error(h.INVALID_ID));if(_(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],a=this;if(!t.open_revs)return this._get(e,t,function(e,i){if(t=d.clone(t),e)return n(e);var o=i.doc,s=i.metadata,u=i.ctx;if(t.conflicts){var c=S(s);c.length&&(o._conflicts=c)}if(y(s,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){var l=x(s.rev_tree),f=r(l,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])}),h=f.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,p=f.ids.length-h;if(f.ids.splice(h,p),f.ids.reverse(),t.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map(function(e){return e.id})}),t.revs_info){var v=f.pos+f.ids.length;o._revs_info=f.ids.map(function(e){return v--,{rev:v+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var m=o._attachments,g=Object.keys(m).length;if(0===g)return n(null,o);Object.keys(m).forEach(function(e){this._getAttachment(m[e],{binary:t.binary,ctx:u},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--g||n(null,o)})},a)}else{if(o._attachments)for(var _ in o._attachments)o._attachments.hasOwnProperty(_)&&(o._attachments[_].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(o=w(t).map(function(e){return e.rev}),void i())});else{if(!Array.isArray(t.open_revs))return n(h.error(h.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var s=0;s<o.length;s++){var u=o[s];if("string"!=typeof u||!/^\d+-/.test(u))return n(h.error(h.INVALID_REV))}i()}}),f.prototype.getAttachment=d.adapterFun("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),n=d.clone(n),this._get(e,n,function(e,o){return e?r(e):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,i._getAttachment(o.doc._attachments[t],n,r),void 0):r(h.error(h.MISSING_DOC))})}),f.prototype.allDocs=d.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e=d.clone(e),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(h.error(h.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return u(this,e,t)}return this._allDocs(e,t)}),f.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new m(this,e,t)},f.prototype.close=d.adapterFun("close",function(e){return this._closed=!0,this._close(e)}),f.prototype.info=d.adapterFun("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t._db_name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),f.prototype.id=d.adapterFun("id",function(e){return this._id(e)}),f.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},f.prototype.bulkDocs=d.adapterFun("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=d.clone(t||{}),Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(h.error(h.MISSING_BULK_DOCS));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(h.error(h.NOT_AN_OBJECT));var i;return e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(e){i=i||l(e)})}),i?n(h.error(h.BAD_REQUEST,i)):(e=d.clone(e),"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0),t.new_edits||"http"===this.type()||e.docs.sort(a),o(e.docs),this._bulkDocs(e,t,function(e,r){return e?n(e):(t.new_edits||(r=r.filter(function(e){return e.error})),void n(null,r))}))}),f.prototype.registerDependentDatabase=d.adapterFun("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},t.dependentDbs[e]?!1:(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);v(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})})["catch"](t)}),f.prototype.destroy=d.adapterFun("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,i="use_prefix"in r?r.use_prefix:!0;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,o){if(e)return 404!==e.status?t(e):n();var a=o.dependentDbs,s=r.constructor,u=Object.keys(a).map(function(e){var t=i?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,r.__opts).destroy()});g.all(u).then(n,function(e){t(e)})})})}).call(this,e(88))},{14:14,38:38,39:39,48:48,51:51,52:52,55:55,56:56,64:64,84:84,87:87,88:88}],2:[function(e,t,n){"use strict";t.exports={idb:e(8),websql:e(12)}},{12:12,8:8}],3:[function(e,t,n){"use strict";function r(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=h(n.data,n.content_type)})}function i(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function o(e){return e._attachments&&Object.keys(e._attachments)?v.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];return n.data&&"string"!=typeof n.data?S(n.data).then(function(e){n.data=e}):void 0})):v.resolve()}function a(e,t){var n=p.parseUri(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var r=n.path.replace(/(^\/|\/$)/g,"").split("/");if(n.db=r.pop(),n.path=r.join("/"),t=t||{},t=m(t),n.headers=t.headers||t.ajax&&t.ajax.headers||{},t.auth||n.auth){var i=t.auth||n.auth,o=y(i.username+":"+i.password);n.headers.Authorization="Basic "+o}return t.headers&&(n.headers=t.headers),n}function s(e,t){return u(e,e.db+"/"+t)}function u(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+t}function c(e,t){function n(e,t){var n=p.extend(m(D),e);return w(n.method+" "+n.url),p.ajax(n,t)}function c(e){return new v(function(t,r){n(e,function(e,n){return e?r(e):void t(n)})})}function h(e,t){return p.adapterFun(e,p.getArguments(function(e){g().then(function(n){return t.apply(this,e)})["catch"](function(t){var n=e.pop();n(t)})}))}function g(){if(e.skipSetup)return v.resolve();if(j)return j;var t={headers:m(T.headers),method:"GET",url:A},n={headers:m(T.headers),method:"PUT",url:A};return j=c(t)["catch"](function(e){return e&&e.status&&404===e.status?(p.explain404("PouchDB is just detecting if the remote exists."),c(n)):v.reject(e)})["catch"](function(e){return e&&e.status&&401===e.status?c(t):e&&e.status&&412===e.status?!0:v.reject(e)}),j["catch"](function(){j=null}),j}function y(e){return e.split("/").map(encodeURIComponent).join("/")}var k=this,O=a;e.getHost&&(O=e.getHost);var T=O(e.name,e),A=s(T,"");k.getUrl=function(){return A},k.getHeaders=function(){return m(T.headers)};var D=e.ajax||{};e=m(e);var j;setTimeout(function(){t(null,k)}),k.type=function(){return"http"},k.id=h("id",function(e){n({headers:m(T.headers),method:"GET",url:u(T,"")},function(t,n){var r=n&&n.uuid?n.uuid+T.db:s(T,"");e(null,r)})}),k.request=h("request",function(e,t){e.headers=T.headers,e.url=s(T,e.url),n(e,t)}),k.compact=h("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=m(e),n({headers:m(T.headers),url:s(T,"_compact"),method:"POST"},function(){function n(){k.info(function(r,i){i.compact_running?setTimeout(n,e.interval||200):t(null,{ok:!0})})}n()})}),k._info=function(e){g().then(function(){n({headers:m(T.headers),method:"GET",url:s(T,"")},function(t,n){return t?e(t):(n.host=s(T,""),void e(null,n))})})},k.get=h("get",function(e,t,n){function r(e){var n=e._attachments,r=n&&Object.keys(n);return n&&r.length?v.all(r.map(function(r){var o=n[r],a=i(e._id)+"/"+y(r)+"?rev="+e._rev;return c({headers:m(T.headers),method:"GET",url:s(T,a),binary:!0}).then(function(e){return t.binary?e:S(e)}).then(function(e){delete o.stub,delete o.length,o.data=e})})):void 0}function o(e){return Array.isArray(e)?v.all(e.map(function(e){return e.ok?r(e.ok):void 0})):r(e)}"function"==typeof t&&(n=t,t={}),t=m(t);var a=[];t.revs&&a.push("revs=true"),t.revs_info&&a.push("revs_info=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.push("open_revs="+t.open_revs)),t.rev&&a.push("rev="+t.rev),t.conflicts&&a.push("conflicts="+t.conflicts),a=a.join("&"),a=""===a?"":"?"+a,e=i(e);var u={headers:m(T.headers),method:"GET",url:s(T,e+a)},l=t.ajax||{};p.extend(u,l),c(u).then(function(e){return v.resolve().then(function(){return t.attachments?o(e):void 0}).then(function(){n(null,e)})})["catch"](n)}),k.remove=h("remove",function(e,t,r,o){var a;"string"==typeof t?(a={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(a=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var u=a._rev||r.rev;n({headers:m(T.headers),method:"DELETE",url:s(T,i(a._id))+"?rev="+u},o)}),k.getAttachment=h("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var a=r.rev?"?rev="+r.rev:"",u=s(T,i(e))+"/"+y(t)+a;n({headers:m(T.headers),method:"GET",url:u,binary:!0},o)}),k.removeAttachment=h("removeAttachment",function(e,t,r,o){var a=s(T,i(e)+"/"+y(t))+"?rev="+r;n({headers:m(T.headers),method:"DELETE",url:a},o)}),k.putAttachment=h("putAttachment",function(e,t,r,o,a,u){"function"==typeof a&&(u=a,a=o,o=r,r=null);var c=i(e)+"/"+y(t),l=s(T,c);if(r&&(l+="?rev="+r),"string"==typeof o){var f;try{f=_(o)}catch(h){return u(b.error(b.BAD_ARG,"Attachments need to be base64 encoded"))}o=f?d(f,a):""}var p={headers:m(T.headers),method:"PUT",url:l,processData:!1,body:o,timeout:D.timeout||6e4};p.headers["Content-Type"]=a,n(p,u)}),k.put=h("put",p.getArguments(function(e){var t,n,r,a=e.shift(),u=e.pop();if("object"!=typeof a||Array.isArray(a))return u(b.error(b.NOT_AN_OBJECT));var l="_id"in a;a=m(a),o(a).then(function(){for(;;)if(t=e.shift(),n=typeof t,"string"!==n||l?"string"!==n||!l||"_rev"in a?"object"===n&&(r=m(t)):a._rev=t:(a._id=t,l=!0),!e.length)break;r=r||{},E.invalidIdError(a._id);var o=[];r&&"undefined"!=typeof r.new_edits&&o.push("new_edits="+r.new_edits),o=o.join("&"),""!==o&&(o="?"+o);var f={headers:m(T.headers),method:"PUT",url:s(T,i(a._id))+o,body:a};return v.resolve().then(function(){var e=a._attachments&&Object.keys(a._attachments).filter(function(e){return!a._attachments[e].stub}).length;if(e){var t=x(a);f.body=t.body,f.processData=!1,f.headers=p.extend(f.headers,t.headers)}})["catch"](function(){throw new Error("Did you forget to base64-encode an attachment?")}).then(function(){return c(f)}).then(function(e){e.ok=!0,u(null,e)})})["catch"](u)})),k.post=h("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=m(t),"object"!=typeof e?n(b.error(b.NOT_AN_OBJECT)):("_id"in e||(e._id=p.uuid()),void k.put(e,t,function(e,t){return e?n(e):(t.ok=!0,void n(null,t))}))}),k._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,g().then(function(){return v.all(e.docs.map(o))}).then(function(){n({headers:m(T.headers),method:"POST",url:s(T,"_bulk_docs"),body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})})["catch"](r)},k.allDocs=h("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=m(e);var n,i=[],o="GET";if(e.conflicts&&i.push("conflicts=true"),e.descending&&i.push("descending=true"),e.include_docs&&i.push("include_docs=true"),e.attachments&&i.push("attachments=true"),e.key&&i.push("key="+encodeURIComponent(JSON.stringify(e.key))),e.start_key&&(e.startkey=e.start_key),e.startkey&&i.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.end_key&&(e.endkey=e.end_key),e.endkey&&i.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),"undefined"!=typeof e.inclusive_end&&i.push("inclusive_end="+!!e.inclusive_end),"undefined"!=typeof e.limit&&i.push("limit="+e.limit),"undefined"!=typeof e.skip&&i.push("skip="+e.skip),i=i.join("&"),""!==i&&(i="?"+i),"undefined"!=typeof e.keys){var a="keys="+encodeURIComponent(JSON.stringify(e.keys));a.length+i.length+1<=f?i+=(-1!==i.indexOf("?")?"&":"?")+a:(o="POST",n={keys:e.keys})}c({headers:m(T.headers),method:o,url:s(T,"_all_docs"+i),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(r),t(null,n)})["catch"](t)}),k._changes=function(e){var t="batch_size"in e?e.batch_size:l;e=m(e),e.timeout=e.timeout||D.timeout||3e4;var i,o={timeout:e.timeout-5e3},a="undefined"!=typeof e.limit?e.limit:!1;i="returnDocs"in e?e.returnDocs:!0;var u=a;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(o.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)e.query_params.hasOwnProperty(c)&&(o[c]=e.query_params[c]);var d,h="GET";if(e.doc_ids){o.filter="_doc_ids";var v=JSON.stringify(e.doc_ids);v.length<f?o.doc_ids=v:(h="POST",d={doc_ids:e.doc_ids})}var y,_,w=function(r,i){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?a&&(o.limit=u):o.limit=!a||u>t?t:u;var c="?"+Object.keys(o).map(function(e){return e+"="+encodeURIComponent(o[e])}).join("&"),l={headers:m(T.headers),method:h,url:s(T,"_changes"+c),timeout:e.timeout,body:d};_=r,e.aborted||g().then(function(){y=n(l,i)})}},x=10,S=0,E={results:[]},k=function(n,o){if(!e.aborted){var s=0;if(o&&o.results){s=o.results.length,E.last_seq=o.last_seq;var c={};c.query=e.query_params,o.results=o.results.filter(function(t){u--;var n=p.filterChange(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&r(t),i&&E.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);o&&o.last_seq&&(_=o.last_seq);var l=a&&0>=u||o&&t>s||e.descending;if((!e.continuous||a&&0>=u)&&l)e.complete(null,E);else{n?S+=1:S=0;var f=1<<S,d=x*f,h=e.maximumWait||3e4;if(d>h)return void e.complete(n||b.error(b.UNKNOWN_ERROR));setTimeout(function(){w(_,k)},d)}}};return w(e.since||0,k),{cancel:function(){e.aborted=!0,y&&y.abort()}}},k.revsDiff=h("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n({headers:m(T.headers),method:"POST",url:s(T,"_revs_diff"),body:e},r)}),k._close=function(e){e()},k._destroy=function(t,r){g().then(function(){n({url:s(T,""),method:"DELETE",headers:m(T.headers)},function(t,n){return t?(k.emit("error",t),r(t)):(k.emit("destroyed"),k.constructor.emit("destroyed",e.name),void r(null,n))})})}}var l=25,f=1800,d=e(31),h=e(29),p=e(84),v=p.Promise,m=p.clone,g=e(28),y=g.btoa,_=g.atob,b=e(48),w=e(89)("pouchdb:http"),x=e(24),S=e(33),E=e(42);c.valid=function(){return!0},t.exports=c},{24:24,28:28,29:29,31:31,33:33,42:42,48:48,84:84,89:89}],4:[function(e,t,n){"use strict";function r(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function i(e,t,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void r(a.error(a.IDB_ERROR,n.name,n.message))}function o(e,t,n,o){function a(e,o){function a(t,n,r){var i=t.id+"::"+r;M.get(i).onsuccess=function(r){n.doc=h(r.target.result),e.conflicts&&(n.doc._conflicts=c(t)),v(n.doc,e,j)}}function s(t,n,r){var i={id:r.id,key:r.id,value:{rev:n}},o=r.deleted;if("ok"===e.deleted)q.push(i),o?(i.value.deleted=!0,i.doc=null):e.include_docs&&a(r,i,n);else if(!o&&S--<=0&&(q.push(i),e.include_docs&&a(r,i,n),0===--E))return;t["continue"]()}function u(e){N=t._meta.docCount;var n=e.target.result;if(n){var r=p(n.value),i=r.winningRev;s(n,i,r)}}function y(){o(null,{total_rows:N,offset:e.skip,rows:q})}function _(){e.attachments?m(q,e.binary).then(y):y()}var b="startkey"in e?e.startkey:!1,w="endkey"in e?e.endkey:!1,x="key"in e?e.key:!1,S=e.skip||0,E="number"==typeof e.limit?e.limit:-1,k=e.inclusive_end!==!1,O="descending"in e&&e.descending?"prev":null,T=r(b,w,k,x,O);if(T&&T.error)return i(t,e,T.error,o);var A=[d,f];e.attachments&&A.push(l);var D=g(n,A,"readonly");if(D.error)return o(D.error);var j=D.txn,C=j.objectStore(d),I=j.objectStore(f),R=O?C.openCursor(T,O):C.openCursor(T),M=I.index("_doc_id_rev"),q=[],N=0;j.oncomplete=_,R.onsuccess=u}function s(e,n){return 0===e.limit?n(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void a(e,n)}s(e,o)}var a=e(48),s=e(9),u=e(7),c=e(51),l=u.ATTACH_STORE,f=u.BY_SEQ_STORE,d=u.DOC_STORE,h=s.decodeDoc,p=s.decodeMetadata,v=s.fetchAttachmentsIfNecessary,m=s.postProcessAttachments,g=s.openTransactionSafely;t.exports=o},{48:48,51:51,7:7,9:9}],5:[function(e,t,n){"use strict";function r(e,t){return new i.Promise(function(n,r){var a=o([""],{type:"image/png"});e.objectStore(s).put(a,"key"),e.oncomplete=function(){var e=t.transaction([s],"readwrite"),o=e.objectStore(s).get("key");o.onerror=r,o.onsuccess=function(e){var t=e.target.result,r=URL.createObjectURL(t);i.ajax({url:r,cache:!0,binary:!0},function(e,t){e&&405===e.status?n(!0):(n(!(!t||"image/png"!==t.type)),e&&404===e.status&&i.explain404("PouchDB is just detecting blob URL support.")),URL.revokeObjectURL(r)})}}})["catch"](function(){return!1})}var i=e(84),o=e(32),a=e(7),s=a.DETECT_BLOB_SUPPORT_STORE;t.exports=r},{32:32,7:7,84:84}],6:[function(e,t,n){"use strict";function r(e,t,n,r,c,l){function x(){var e=[p,h,d,m,v,f],t=w(r,e,"readwrite");return t.error?l(t.error):(M=t.txn,M.onerror=b(l),M.ontimeout=b(l),M.oncomplete=k,q=M.objectStore(p),N=M.objectStore(h),L=M.objectStore(d),P=M.objectStore(f),void T(function(e){return e?($=!0,l(e)):void E()}))}function S(){s(U,n,V,M,G,A,t)}function E(){function e(){++n===U.length&&S()}function t(t){var n=y(t.target.result);n&&V.set(n.id,n),e()}if(U.length)for(var n=0,r=0,i=U.length;i>r;r++){var o=U[r];if(o._id&&u(o._id))e();else{var a=q.get(o.metadata.id);a.onsuccess=t}}}function k(){$||(c.notify(n._meta.name),n._meta.docCount+=B,l(null,G))}function O(e,t){var n=L.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=o.error(o.MISSING_STUB,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function T(e){function t(){++i===n.length&&e(r)}var n=[];if(U.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){O(e,function(e){e&&!r&&(r=e),t()})})}function A(e,t,n,r,i,o,a,s){B+=o,e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;return c?C(e,t,n,i,a,s):void j(e,t,n,i,a,s)}function D(e){var t=i.compactTree(e.metadata);g(t,e.metadata.id,M)}function j(e,t,r,i,o,a){function s(o){i&&n.auto_compaction&&D(e),f.seq=o.target.result,delete f.rev;var a=_(f,t,r),s=q.put(a);s.onsuccess=c}function u(e){e.preventDefault(),e.stopPropagation();var t=N.index("_doc_id_rev"),n=t.getKey(l._doc_id_rev);n.onsuccess=function(e){var t=N.put(l,e.target.result);t.onsuccess=s}}function c(){G[o]={ok:!0,id:f.id,rev:t},V.set(e.metadata.id,e.metadata),I(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=N.put(l);d.onsuccess=s,d.onerror=u}function C(e,t,n,r,i,o){function a(){c===l.length&&j(e,t,n,r,i,o)}function s(){c++,a()}var u=e.data,c=0,l=Object.keys(u._attachments);l.forEach(function(t){var n=e.data._attachments[t];if(n.stub)c++,a();else{var r=n.data;delete n.data;var i=n.digest;R(i,r,s)}})}function I(e,t,n){function r(){++o===a.length&&n()}function i(n){var i=e.data._attachments[n].digest,o=P.put({seq:t,digestSeq:i+"::"+t});o.onsuccess=r,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var o=0,a=Object.keys(e.data._attachments||{});if(!a.length)return n();for(var s=0;s<a.length;s++)i(a[s])}function R(e,t,n){var r=L.count(e);r.onsuccess=function(r){var i=r.target.result;if(i)return n();var o={digest:e,body:t},a=L.put(o);a.onsuccess=n}}for(var M,q,N,L,P,F,U=e.docs,B=0,Y=0,H=U.length;H>Y;Y++){var W=U[Y];W._id&&u(W._id)||(W=U[Y]=i.parseDoc(W,t.new_edits),W.error&&!F&&(F=W))}if(F)return l(F);var G=new Array(U.length),V=new i.Map,$=!1,z=n._meta.blobSupport?"blob":"base64";a(U,z,function(e){return e?l(e):void x()})}var i=e(84),o=e(48),a=e(43),s=e(44),u=e(39),c=e(9),l=e(7),f=l.ATTACH_AND_SEQ_STORE,d=l.ATTACH_STORE,h=l.BY_SEQ_STORE,p=l.DOC_STORE,v=l.LOCAL_STORE,m=l.META_STORE,g=c.compactRevs,y=c.decodeMetadata,_=c.encodeMetadata,b=c.idbError,w=c.openTransactionSafely;t.exports=r},{39:39,43:43,44:44,48:48,7:7,84:84,9:9}],7:[function(e,t,n){"use strict";n.ADAPTER_VERSION=5,n.DOC_STORE="document-store",n.BY_SEQ_STORE="by-sequence",n.ATTACH_STORE="attach-store",n.ATTACH_AND_SEQ_STORE="attach-seq-store",n.META_STORE="meta-store",n.LOCAL_STORE="local-store",n.DETECT_BLOB_SUPPORT_STORE="detect-blob-support"},{}],8:[function(e,t,n){(function(n){"use strict";function r(e,t){var n=this;q.queue.push({action:function(t){i(n,e,t)},callback:t}),O()}function i(e,t,i){function l(e){var t=e.createObjectStore(S,{keyPath:"id"});e.createObjectStore(w,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(b,{keyPath:"digest"}),e.createObjectStore(k,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(x),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(E,{keyPath:"_id"});var n=e.createObjectStore(_,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function f(e,t){var n=e.objectStore(S);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=s(i);i.deletedOrLocal=o?"1":"0",n.put(i),r["continue"]()}else t()}}function O(e){e.createObjectStore(E,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function q(e,t){var n=e.objectStore(E),r=e.objectStore(S),i=e.objectStore(w),o=r.openCursor();o.onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,s=a.id,c=u(s),l=m(a);if(c){var f=s+"::"+l,d=s+"::",h=s+"::~",p=i.index("_doc_id_rev"),v=IDBKeyRange.bound(d,h,!1,!1),g=p.openCursor(v);g.onsuccess=function(e){if(g=e.target.result){var t=g.value;t._doc_id_rev===f&&n.put(t),i["delete"](g.primaryKey),g["continue"]()}else r["delete"](o.primaryKey),o["continue"]()}}else o["continue"]()}else t&&t()}}function P(e){var t=e.createObjectStore(_,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function F(e,t){var n=e.objectStore(w),r=e.objectStore(b),i=e.objectStore(_),o=r.count();o.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),s={},u=0;u<a.length;u++){var c=r._attachments[a[u]];s[c.digest]=!0}var l=Object.keys(s);for(u=0;u<l.length;u++){var f=l[u];i.put({seq:o,digestSeq:f+"::"+o})}n["continue"]()}):t()}}function U(e){function t(e){return e.data?D(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(w),r=e.objectStore(S),i=r.openCursor();i.onsuccess=function(e){function i(){var e=s.id+"::",t=s.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t["continue"]()}}function o(){var e=j(s,s.winningRev,s.deleted),t=r.put(e);t.onsuccess=function(){a["continue"]()}}var a=e.target.result;if(a){var s=t(a.value);return s.winningRev=s.winningRev||m(s),s.seq?o():void i()}}}var B=t.name,Y=null;e._meta=null,e.type=function(){return"idb"},e._id=a.toPromise(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(t,n,i){d(t,n,e,Y,r.Changes,i)},e._get=function(e,t,n){function r(){n(a,{doc:i,metadata:o,ctx:u})}var i,o,a,u=t.ctx;if(!u){var l=N(Y,[S,w,b],"readonly");if(l.error)return n(l.error);u=l.txn}u.objectStore(S).get(e).onsuccess=function(e){if(o=D(e.target.result),!o)return a=c.error(c.MISSING_DOC,"missing"),r();if(s(o)&&!t.rev)return a=c.error(c.MISSING_DOC,"deleted"),r();var n=u.objectStore(w),l=t.rev||o.winningRev,f=o.id+"::"+l;n.index("_doc_id_rev").get(f).onsuccess=function(e){return i=e.target.result,i&&(i=A(i)),i?void r():(a=c.error(c.MISSING_DOC,"missing"),r())}}},e._getAttachment=function(e,t,n){var r;if(t.ctx)r=t.ctx;else{var i=N(Y,[S,w,b],"readonly");if(i.error)return n(i.error);r=i.txn}var o=e.digest,a=e.content_type;r.objectStore(b).get(o).onsuccess=function(e){var r=e.target.result.body;M(r,a,t.binary,function(e){n(null,e)})}},e._info=function(t){if(null===Y||!L[B]){var n=new Error("db isn't open");return n.id="idbNull",t(n)}var r,i,o=N(Y,[w],"readonly");if(o.error)return t(o.error);var a=o.txn,s=a.objectStore(w).openCursor(null,"prev");s.onsuccess=function(t){var n=t.target.result;r=n?n.key:0,i=e._meta.docCount},a.oncomplete=function(){t(null,{doc_count:i,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(t,n){h(t,e,Y,n)},e._changes=function(t){function n(e){function n(){return s.seq!==a?e["continue"]():(l=a,s.winningRev===o._rev?i(o):void r())}function r(){var e=o._id+"::"+s.winningRev,t=m.get(e);t.onsuccess=function(e){i(A(e.target.result))}}function i(n){var r=t.processChange(n,s,t);r.seq=s.seq;var i=_(r);return"object"==typeof i?t.complete(i):(i&&(y++,d&&g.push(r),t.attachments&&t.include_docs?C(n,t,h,function(){R([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r)),void(y!==f&&e["continue"]()))}var o=A(e.value),a=e.key;if(c&&!c.has(o._id))return e["continue"]();var s;return(s=x.get(o._id))?n():void(v.get(o._id).onsuccess=function(e){s=D(e.target.result),x.set(o._id,s),n()})}function i(e){var t=e.target.result;t&&n(t)}function o(){var e=[S,w];t.attachments&&e.push(b);var n=N(Y,e,"readonly");if(n.error)return t.complete(n.error);h=n.txn,h.onerror=I(t.complete),h.oncomplete=s,p=h.objectStore(w),v=h.objectStore(S),m=p.index("_doc_id_rev");var r;r=t.descending?p.openCursor(null,"prev"):p.openCursor(IDBKeyRange.lowerBound(t.since,!0)),r.onsuccess=i}function s(){function e(){t.complete(null,{results:g,last_seq:l})}!t.continuous&&t.attachments?R(g).then(e):e()}if(t=a.clone(t),t.continuous){var u=B+":"+a.uuid();return r.Changes.addListener(B,u,e,t),r.Changes.notify(B),{cancel:function(){r.Changes.removeListener(B,u)}}}var c=t.doc_ids&&new a.Set(t.doc_ids);t.since=t.since||0;var l=t.since,f="limit"in t?t.limit:-1;0===f&&(f=1);var d;d="returnDocs"in t?t.returnDocs:!0;var h,p,v,m,g=[],y=0,_=a.filterChange(t),x=new a.Map;o()},e._close=function(e){return null===Y?e(c.error(c.NOT_OPEN)):(Y.close(),delete L[B],Y=null,void e())},e._getRevisionTree=function(e,t){var n=N(Y,[S],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore(S).get(e);i.onsuccess=function(e){var n=D(e.target.result);n?t(null,n.rev_tree):t(c.error(c.MISSING_DOC))}},e._doCompaction=function(e,t,n){var r=[S,w,b,_],i=N(Y,r,"readwrite");if(i.error)return n(i.error);var o=i.txn,a=o.objectStore(S);a.get(e).onsuccess=function(n){var r=D(n.target.result);g(r.rev_tree,function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")}),T(t,e,o);var i=r.winningRev,a=r.deleted;o.objectStore(S).put(j(r,i,a))},o.onerror=I(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=N(Y,[E],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore(E).get(e);i.onerror=I(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(c.error(c.MISSING_DOC))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var o,a=t.ctx;if(!a){var s=N(Y,[E],"readwrite");if(s.error)return n(s.error);a=s.txn,a.onerror=I(n),a.oncomplete=function(){o&&n(null,o)}}var u,l=a.objectStore(E);r?(u=l.get(i),u.onsuccess=function(i){var a=i.target.result;if(a&&a._rev===r){var s=l.put(e);s.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}}else n(c.error(c.REV_CONFLICT))}):(u=l.add(e),u.onerror=function(e){n(c.error(c.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var i=N(Y,[E],"readwrite");if(i.error)return n(i.error);r=i.txn,r.oncomplete=function(){o&&n(null,o)}}var o,a=e._id,s=r.objectStore(E),u=s.get(a);u.onerror=I(n),u.onsuccess=function(r){var i=r.target.result;i&&i._rev===e._rev?(s["delete"](a),o={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,o)):n(c.error(c.MISSING_DOC))}},e._destroy=function(e,t){r.Changes.removeAllListeners(B),r.openReqList[B]&&r.openReqList[B].result&&(r.openReqList[B].result.close(),delete L[B]);var n=indexedDB.deleteDatabase(B);n.onsuccess=function(){r.openReqList[B]&&(r.openReqList[B]=null),v()&&B in localStorage&&delete localStorage[B],t(null,{ok:!0})},n.onerror=I(t)};var H=L[B];if(H)return Y=H.idb,e._meta=H.global,void n.nextTick(function(){i(null,e)});var W=indexedDB.open(B,y);"openReqList"in r||(r.openReqList={}),r.openReqList[B]=W,W.onupgradeneeded=function(e){function t(){var e=i[o-1];o++,e&&e(r,t)}var n=e.target.result;if(e.oldVersion<1)return l(n);var r=e.currentTarget.transaction;e.oldVersion<3&&O(n),e.oldVersion<4&&P(n);var i=[f,q,F,U],o=e.oldVersion;t()},W.onsuccess=function(t){Y=t.target.result,Y.onversionchange=function(){Y.close(),delete L[B]},Y.onabort=function(){Y.close(),delete L[B]};var n=Y.transaction([k,x,S],"readwrite"),r=n.objectStore(k).get(k),s=null,u=null,c=null;r.onsuccess=function(t){var r=function(){null!==s&&null!==u&&null!==c&&(e._meta={name:B,instanceId:c,blobSupport:s,docCount:u},L[B]={idb:Y,global:e._meta},i(null,e))},l=t.target.result||{id:k};B+"_id"in l?(c=l[B+"_id"],r()):(c=a.uuid(),l[B+"_id"]=c,n.objectStore(k).put(l).onsuccess=function(){r()}),o||(o=p(n,Y)),o.then(function(e){s=e,r()});var f=n.objectStore(S).index("deletedOrLocal");f.count(IDBKeyRange.only("0")).onsuccess=function(e){u=e.target.result,r()}}},W.onerror=function(e){var t="Failed to open indexedDB, are you in private browsing mode?";console.error(t),i(c.error(c.IDB_ERROR,t))}}var o,a=e(84),s=e(38),u=e(39),c=e(48),l=e(9),f=e(7),d=e(6),h=e(4),p=e(5),v=e(46),m=e(57),g=e(56),y=f.ADAPTER_VERSION,_=f.ATTACH_AND_SEQ_STORE,b=f.ATTACH_STORE,w=f.BY_SEQ_STORE,x=f.DETECT_BLOB_SUPPORT_STORE,S=f.DOC_STORE,E=f.LOCAL_STORE,k=f.META_STORE,O=l.applyNext,T=l.compactRevs,A=l.decodeDoc,D=l.decodeMetadata,j=l.encodeMetadata,C=l.fetchAttachmentsIfNecessary,I=l.idbError,R=l.postProcessAttachments,M=l.readBlobData,q=l.taskQueue,N=l.openTransactionSafely,L={};
r.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange},r.Changes=new a.Changes,t.exports=r}).call(this,e(88))},{38:38,39:39,4:4,46:46,48:48,5:5,56:56,57:57,6:6,7:7,84:84,88:88,9:9}],9:[function(e,t,n){(function(t){"use strict";function r(e,t,n){try{e.apply(t,n)}catch(r){"undefined"!=typeof PouchDB&&PouchDB.emit("error",r)}}var i=e(48),o=e(84),a=e(28),s=a.btoa,u=e(7),c=e(36),l=e(29),f=e(32);n.taskQueue={running:!1,queue:[]},n.applyNext=function(){if(!n.taskQueue.running&&n.taskQueue.queue.length){n.taskQueue.running=!0;var e=n.taskQueue.queue.shift();e.action(function(i,o){r(e.callback,this,[i,o]),n.taskQueue.running=!1,t.nextTick(n.applyNext)})}},n.idbError=function(e){return function(t){var n=t.target&&t.target.error&&t.target.error.name||t.target;e(i.error(i.IDB_ERROR,n,t.type))}},n.encodeMetadata=function(e,t,n){return{data:o.safeJsonStringify(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}},n.decodeMetadata=function(e){if(!e)return null;var t=o.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t},n.decodeDoc=function(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e},n.readBlobData=function(e,t,n,r){n?r(e?"string"!=typeof e?e:l(e,t):f([""],{type:t})):e?"string"!=typeof e?c(e,function(e){r(s(e))}):r(e):r("")},n.fetchAttachmentsIfNecessary=function(e,t,n,r){function i(){++s===a.length&&r&&r()}function o(e,t){var r=e._attachments[t],o=r.digest,a=n.objectStore(u.ATTACH_STORE).get(o);a.onsuccess=function(e){r.body=e.target.result.body,i()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var s=0;a.forEach(function(n){t.attachments&&t.include_docs?o(e,n):(e._attachments[n].stub=!0,i())})},n.postProcessAttachments=function(e,t){return o.Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return o.Promise.all(r.map(function(r){var i=e.doc._attachments[r];if("body"in i){var a=i.body,s=i.content_type;return new o.Promise(function(u){n.readBlobData(a,s,t,function(t){e.doc._attachments[r]=o.extend(o.pick(i,["digest","content_type"]),{data:t}),u()})})}}))}}))},n.compactRevs=function(e,t,n){function r(){l--,l||i()}function i(){o.length&&o.forEach(function(e){var t=c.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||s["delete"](e)}})}var o=[],a=n.objectStore(u.BY_SEQ_STORE),s=n.objectStore(u.ATTACH_STORE),c=n.objectStore(u.ATTACH_AND_SEQ_STORE),l=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),i=t+"::"+e;n.getKey(i).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a["delete"](t);var n=c.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];o.push(n),c["delete"](t.primaryKey),t["continue"]()}else r()}}})},n.openTransactionSafely=function(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}}).call(this,e(88))},{28:28,29:29,32:32,36:36,48:48,7:7,84:84,88:88}],10:[function(e,t,n){"use strict";function r(e,t,n,r,l,_){function b(){return I?_(I):(l.notify(n._name),n._docCount=-1,void _(null,R))}function w(e,t){var n="SELECT count(*) as cnt FROM "+h+" WHERE digest=?";C.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var i=o.error(o.MISSING_STUB,"unknown stub attachment with digest "+e);t(i)}else t()})}function x(e){function t(){++i===n.length&&e(r)}var n=[];if(D.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){w(e,function(e){e&&!r&&(r=e),t()})})}function S(e,t,r,o,a,s,u,c){function l(){function t(e,t){function r(){return++o===a.length&&t(),!1}function i(t){var i="INSERT INTO "+p+" (digest, seq) VALUES (?,?)",o=[n._attachments[t].digest,e];C.executeSql(i,o,r,r)}var o=0,a=Object.keys(n._attachments||{});if(!a.length)return t();for(var s=0;s<a.length;s++)i(a[s])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,s=m(n),u="INSERT INTO "+d+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,s,r];C.executeSql(u,c,function(e,n){var r=n.insertId;t(r,function(){b(e,r)})},function(){var e=v("seq",d,null,"doc_id=? AND rev=?");return C.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,u="UPDATE "+d+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[s,r,i,a];e.executeSql(u,c,function(e){t(o,function(){b(e,o)})})}),!1})}function h(e){w||(e?(w=e,c(w)):x===S.length&&l())}function y(e){x++,h(e)}function _(){if(a&&n.auto_compaction){var t=e.metadata.id,r=i.compactTree(e.metadata);g(r,t,C)}}function b(n,r){_(),e.metadata.seq=r,delete e.metadata.rev;var o=a?"UPDATE "+f+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+d+" WHERE doc_id="+f+".id AND rev=?) WHERE id=?":"INSERT INTO "+f+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",s=i.safeJsonStringify(e.metadata),l=e.metadata.id,h=a?[s,r,t,l]:[l,r,r,s];n.executeSql(o,h,function(){R[u]={ok:!0,id:e.metadata.id,rev:t},M.set(l,e.metadata),c()})}var w=null,x=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var S=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),S.forEach(function(t){var n=e.data._attachments[t];if(n.stub)x++,h();else{var r=n.data;delete n.data;var i=n.digest;O(i,r,y)}}),S.length||l()}function E(){u(D,n,M,C,R,S,t)}function k(e){function t(){++n===D.length&&e()}if(!D.length)return e();var n=0;D.forEach(function(e){if(e._id&&s(e._id))return t();var n=e.metadata.id;C.executeSql("SELECT json FROM "+f+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=i.safeJsonParse(r.rows.item(0).json);M.set(n,o)}t()})})}function O(e,t,n){var r="SELECT digest FROM "+h+" WHERE digest=?";C.executeSql(r,[e],function(i,o){return o.rows.length?n():(r="INSERT INTO "+h+" (digest, body, escaped) VALUES (?,?,1)",void i.executeSql(r,[e,c.escapeBlob(t)],function(){n()},function(){return n(),!1}))})}var T=t.new_edits,A=e.docs,D=A.map(function(e){if(e._id&&s(e._id))return e;var t=i.parseDoc(e,T);return t}),j=D.filter(function(e){return e.error});if(j.length)return _(j[0]);var C,I,R=new Array(D.length),M=new i.Map;a(D,"binary",function(e){return e?_(e):void r.transaction(function(e){C=e,x(function(e){e?I=e:k(E)})},y(_),b)})}var i=e(84),o=e(48),a=e(43),s=e(39),u=e(44),c=e(13),l=e(11),f=l.DOC_STORE,d=l.BY_SEQ_STORE,h=l.ATTACH_STORE,p=l.ATTACH_AND_SEQ_STORE,v=c.select,m=c.stringifyDoc,g=c.compactRevs,y=c.unknownError;t.exports=r},{11:11,13:13,39:39,43:43,44:44,48:48,84:84}],11:[function(e,t,n){"use strict";function r(e){return"'"+e+"'"}n.ADAPTER_VERSION=7,n.DOC_STORE=r("document-store"),n.BY_SEQ_STORE=r("by-sequence"),n.ATTACH_STORE=r("attach-store"),n.LOCAL_STORE=r("local-store"),n.META_STORE=r("metadata-store"),n.ATTACH_AND_SEQ_STORE=r("attach-seq-store")},{}],12:[function(e,t,n){"use strict";function r(e,t,n,r,i){function a(){++c===u.length&&i&&i()}function s(e,i){var s=e._attachments[i],u={binary:t.binary,ctx:r};n._getAttachment(s,u,function(t,n){e._attachments[i]=o.extend(o.pick(s,["digest","content_type"]),{data:n}),a()})}var u=Object.keys(e._attachments||{});if(!u.length)return i&&i();var c=0;u.forEach(function(n){t.attachments&&t.include_docs?s(e,n):(e._attachments[n].stub=!0,a())})}function i(e,t){function n(){f()&&(window.localStorage["_pouch__websqldb_"+X._name]=!0),t(null,X)}function p(e,t){e.executeSql(q),e.executeSql("ALTER TABLE "+_+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(R),e.executeSql("ALTER TABLE "+y+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+y+" (local, id)");var n="SELECT "+y+".winningseq AS seq, "+y+".json AS metadata FROM "+_+" JOIN "+y+" ON "+_+".seq = "+y+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var u=n.rows.item(o),c=u.seq,l=JSON.parse(u.metadata);a(l)&&r.push(c),s(l.id)&&i.push(l.id)}e.executeSql("UPDATE "+y+"SET local = 1 WHERE id IN "+E(i.length),i,function(){e.executeSql("UPDATE "+_+" SET deleted = 1 WHERE seq IN "+E(r.length),r,t)})})})})}function U(e,t){var n="CREATE TABLE IF NOT EXISTS "+w+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+y+".id AS id, "+_+".json AS data FROM "+_+" JOIN "+y+" ON "+_+".seq = "+y+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!i.length)return t(e);var n=i.shift(),o=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+w+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(e){e.executeSql("DELETE FROM "+y+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+_+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function B(e,t){function n(n){function r(){if(!n.length)return t(e);var i=n.shift(),o=c(i.hex,K),a=o.lastIndexOf("::"),s=o.substring(0,a),u=o.substring(a+2),l="UPDATE "+_+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(l,[s,u,o],function(){r()})}r()}var r="ALTER TABLE "+_+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+_+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(M,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+_;e.executeSql(t,[],function(e,t){for(var r=[],i=0;i<t.rows.length;i++)r.push(t.rows.item(i));n(r)})})})})}function Y(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+b;e.executeSql(n,[],function(e,n){function r(){var n=T(F+", "+y+".id AS id",[y,_],P,null,y+".id ");n+=" LIMIT "+a+" OFFSET "+o,o+=a,e.executeSql(n,[],function(e,n){function i(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}if(!n.rows.length)return t(e);for(var o={},a=0;a<n.rows.length;a++)for(var s=n.rows.item(a),u=O(s.data,s.id,s.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var f=u._attachments[c[l]];i(f.digest,s.seq)}var d=[];if(Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(t){d.push([e,t])})}),!d.length)return r();var h=0;d.forEach(function(t){var n="INSERT INTO "+S+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++h===d.length&&r()})})})}var i=n.rows.item(0).cnt;if(!i)return t(e);var o=0,a=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+S+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(L,[],function(e){e.executeSql(N,[],n)})})}function H(e,t){var n="ALTER TABLE "+b+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function W(e,t){var n="ALTER TABLE "+y+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+y+" SET max_seq=(SELECT MAX(seq) FROM "+_+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+y+" (max_seq)";e.executeSql(n,[],t)})})}function G(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;K=2===r.length?"UTF-8":"UTF-16",t()})}function V(){for(;te.length>0;){var e=te.pop();e(null,Z)}}function $(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+x+" (dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+b+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+S+" (digest, seq INTEGER)",a="CREATE TABLE IF NOT EXISTS "+y+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",s="CREATE TABLE IF NOT EXISTS "+_+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",u="CREATE TABLE IF NOT EXISTS "+w+" (id UNIQUE, rev, json)";e.executeSql(r),e.executeSql(u),e.executeSql(i,[],function(){e.executeSql(N),e.executeSql(L)}),e.executeSql(a,[],function(){e.executeSql(q),e.executeSql(s,[],function(){e.executeSql(R),e.executeSql(M),e.executeSql(n,[],function(){var t="INSERT INTO "+x+" (db_version, dbid) VALUES (?,?)";Z=o.uuid();var n=[g,Z];e.executeSql(t,n,function(){V()})})})})}else{var c=function(){var n=g>t;n&&e.executeSql("UPDATE "+x+" SET db_version = "+g);var r="SELECT dbid FROM "+x;e.executeSql(r,[],function(e,t){Z=t.rows.item(0).dbid,V()})},l=[p,U,B,Y,H,W,c],f=t,d=function(e){l[f-1](e,d),f++};d(e)}}function z(){ne.transaction(function(e){G(e,function(){J(e)})},D(t),n)}function J(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+x;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+x,[],function(e,t){var n=t.rows.item(0).db_version;$(e,n)}):e.executeSql("ALTER TABLE "+x+" ADD COLUMN db_version INTEGER",[],function(){$(e,1)}):$(e,0)})}function Q(e,t){if(-1!==X._docCount)return t(X._docCount);var n=T("COUNT("+y+".id) AS 'num'",[y,_],P,_+".deleted=0");e.executeSql(n,[],function(e,n){X._docCount=n.rows.item(0).num,t(X._docCount)})}var K,X=this,Z=null,ee=j(e),te=[];X._docCount=-1,X._name=e.name;var ne=C({name:X._name,version:I,description:X._name,size:ee,location:e.location,createFromLocation:e.createFromLocation,androidDatabaseImplementation:e.androidDatabaseImplementation});return ne?("function"!=typeof ne.readTransaction&&(ne.readTransaction=ne.transaction),o.isCordova()?window.addEventListener(X._name+"_pouch",function re(){window.removeEventListener(X._name+"_pouch",re,!1),z()},!1):z(),X.type=function(){return"websql"},X._id=o.toPromise(function(e){e(null,Z)}),X._info=function(e){ne.readTransaction(function(t){Q(t,function(n){var r="SELECT MAX(seq) AS seq FROM "+_;t.executeSql(r,[],function(t,r){var i=r.rows.item(0).seq||0;e(null,{doc_count:n,update_seq:i,sqlite_plugin:ne._sqlitePlugin,websql_encoding:K})})})},D(e))},X._bulkDocs=function(e,t,n){m(e,t,X,ne,i.Changes,n)},X._get=function(e,t,n){function r(){n(s,{doc:i,metadata:a,ctx:c})}var i,a,s,c=t.ctx;if(!c)return ne.readTransaction(function(r){X._get(e,o.extend({ctx:r},t),n)});var l,f;t.rev?(l=T(F,[y,_],y+".id="+_+".doc_id",[_+".doc_id=?",_+".rev=?"]),f=[e,t.rev]):(l=T(F,[y,_],P,y+".id=?"),f=[e]),c.executeSql(l,f,function(e,n){if(!n.rows.length)return s=u.error(u.MISSING_DOC,"missing"),r();var c=n.rows.item(0);return a=o.safeJsonParse(c.metadata),c.deleted&&!t.rev?(s=u.error(u.MISSING_DOC,"deleted"),r()):(i=O(c.data,a.id,c.rev),void r())})},X._allDocs=function(e,t){var n,i=[],a="startkey"in e?e.startkey:!1,s="endkey"in e?e.endkey:!1,u="key"in e?e.key:!1,c="descending"in e?e.descending:!1,l="limit"in e?e.limit:-1,f="skip"in e?e.skip:0,h=e.inclusive_end!==!1,p=[],v=[];if(u!==!1)v.push(y+".id = ?"),p.push(u);else if(a!==!1||s!==!1){if(a!==!1&&(v.push(y+".id "+(c?"<=":">=")+" ?"),p.push(a)),s!==!1){var m=c?">":"<";h&&(m+="="),v.push(y+".id "+m+" ?"),p.push(s)}u!==!1&&(v.push(y+".id = ?"),p.push(u))}"ok"!==e.deleted&&v.push(_+".deleted = 0"),ne.readTransaction(function(t){Q(t,function(a){if(n=a,0!==l){var s=T(F,[y,_],P,v,y+".id "+(c?"DESC":"ASC"));s+=" LIMIT "+l+" OFFSET "+f,t.executeSql(s,p,function(t,n){for(var a=0,s=n.rows.length;s>a;a++){var u=n.rows.item(a),c=o.safeJsonParse(u.metadata),l=c.id,f=O(u.data,l,u.rev),h=f._rev,p={id:l,key:l,value:{rev:h}};if(e.include_docs&&(p.doc=f,p.doc._rev=h,e.conflicts&&(p.doc._conflicts=d(c)),r(p.doc,e,X,t)),u.deleted){if("ok"!==e.deleted)continue;p.value.deleted=!0,p.doc=null}i.push(p)}})}})},D(t),function(){t(null,{total_rows:n,offset:e.skip,rows:i})})},X._changes=function(e){function t(){var t=y+".json AS metadata, "+y+".max_seq AS maxSeq, "+_+".json AS winningDoc, "+_+".rev AS winningRev ",n=y+" JOIN "+_,i=y+".id="+_+".doc_id AND "+y+".winningseq="+_+".seq",f=["maxSeq > ?"],d=[e.since];e.doc_ids&&(f.push(y+".id IN "+E(e.doc_ids.length)),d=d.concat(e.doc_ids));var h="maxSeq "+(a?"DESC":"ASC"),p=T(t,n,i,f,h),v=o.filterChange(e);e.view||e.filter||(p+=" LIMIT "+s);var m=e.since||0;ne.readTransaction(function(t){t.executeSql(p,d,function(t,n){function i(t){return function(){e.onChange(t)}}for(var a=0,f=n.rows.length;f>a;a++){var d=n.rows.item(a),h=o.safeJsonParse(d.metadata);m=d.maxSeq;var p=O(d.winningDoc,h.id,d.winningRev),g=e.processChange(p,h,e);g.seq=d.maxSeq;var y=v(g);if("object"==typeof y)return e.complete(y);if(y&&(l++,u&&c.push(g),e.attachments&&e.include_docs?r(p,e,X,t,i(g)):i(g)()),l===s)break}})},D(e.complete),function(){e.continuous||e.complete(null,{results:c,last_seq:m})})}if(e=o.clone(e),e.continuous){var n=X._name+":"+o.uuid();return i.Changes.addListener(X._name,n,X,e),i.Changes.notify(X._name),{cancel:function(){i.Changes.removeListener(X._name,n)}}}var a=e.descending;e.since=e.since&&!a?e.since:0;var s="limit"in e?e.limit:-1;0===s&&(s=1);var u;u="returnDocs"in e?e.returnDocs:!0;var c=[],l=0;t()},X._close=function(e){e()},X._getAttachment=function(e,t,n){var r,i=t.ctx,a=e.digest,s=e.content_type,u="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+b+" WHERE digest=?";i.executeSql(u,[a],function(e,i){var a=i.rows.item(0),u=a.escaped?v.unescapeBlob(a.body):c(a.body,K);r=t.binary?l(u,s):o.btoa(u),n(null,r)})},X._getRevisionTree=function(e,t){ne.readTransaction(function(n){var r="SELECT json AS metadata FROM "+y+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=o.safeJsonParse(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(u.error(u.MISSING_DOC))})})},X._doCompaction=function(e,t,n){return t.length?void ne.transaction(function(n){var r="SELECT json AS metadata FROM "+y+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var i=o.safeJsonParse(r.rows.item(0).metadata);h(i.rev_tree,function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")});var a="UPDATE "+y+" SET json = ? WHERE id = ?";n.executeSql(a,[o.safeJsonStringify(i),e])}),A(t,e,n)},D(n),function(){n()}):n()},X._getLocal=function(e,t){ne.readTransaction(function(n){var r="SELECT json, rev FROM "+w+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=O(i.json,e,i.rev);t(null,o)}else t(u.error(u.MISSING_DOC))})})},X._putLocal=function(e,t,n){function r(e){var r,l;o?(r="UPDATE "+w+" SET rev=?, json=? WHERE id=? AND rev=?",l=[i,c,a,o]):(r="INSERT INTO "+w+" (id, rev, json) VALUES (?,?,?)",l=[a,i,c]),e.executeSql(r,l,function(e,r){r.rowsAffected?(s={ok:!0,id:a,rev:i},t.ctx&&n(null,s)):n(u.error(u.REV_CONFLICT))},function(){return n(u.error(u.REV_CONFLICT)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var i,o=e._rev,a=e._id;i=o?e._rev="0-"+(parseInt(o.split("-")[1],10)+1):e._rev="0-1";var s,c=k(e);t.ctx?r(t.ctx):ne.transaction(r,D(n),function(){s&&n(null,s)})},X._removeLocal=function(e,t,n){function r(r){var o="DELETE FROM "+w+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(o,a,function(r,o){return o.rowsAffected?(i={ok:!0,id:e._id,rev:"0-0"},void(t.ctx&&n(null,i))):n(u.error(u.MISSING_DOC))})}"function"==typeof t&&(n=t,t={});var i;t.ctx?r(t.ctx):ne.transaction(r,D(n),function(){i&&n(null,i)})},void(X._destroy=function(e,t){i.Changes.removeAllListeners(X._name),ne.transaction(function(e){var t=[y,_,b,x,w,S];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},D(t),function(){f()&&(delete window.localStorage["_pouch__websqldb_"+X._name],delete window.localStorage[X._name]),t(null,{ok:!0})})})):t(u.error(u.UNKNOWN_ERROR))}var o=e(84),a=e(38),s=e(39),u=e(48),c=e(59),l=e(31),f=e(46),d=e(51),h=e(56),p=e(11),v=e(13),m=e(10),g=p.ADAPTER_VERSION,y=p.DOC_STORE,_=p.BY_SEQ_STORE,b=p.ATTACH_STORE,w=p.LOCAL_STORE,x=p.META_STORE,S=p.ATTACH_AND_SEQ_STORE,E=v.qMarks,k=v.stringifyDoc,O=v.unstringifyDoc,T=v.select,A=v.compactRevs,D=v.unknownError,j=v.getSize,C=v.openDB,I=1,R="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+_+" (seq, deleted)",M="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+_+" (doc_id, rev)",q="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+y+" (winningseq)",N="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+S+" (seq)",L="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+S+" (digest, seq)",P=_+".seq = "+y+".winningseq",F=_+".seq AS seq, "+_+".deleted AS deleted, "+_+".json AS data, "+_+".rev AS rev, "+y+".json AS metadata";i.valid=v.valid,i.Changes=new o.Changes,t.exports=i},{10:10,11:11,13:13,31:31,38:38,39:39,46:46,48:48,51:51,56:56,59:59,84:84}],13:[function(e,t,n){"use strict";function r(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function i(e){return e.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function o(e){return delete e._id,delete e._rev,JSON.stringify(e)}function a(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function s(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function u(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function c(e,t,n){function r(){++o===e.length&&i()}function i(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+b+" WHERE seq IN "+s(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var i="DELETE FROM "+b+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(i,a,function(e){var t="SELECT digest FROM "+b+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new v.Set,i=0;i<t.rows.length;i++)r.add(t.rows.item(i).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+b+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+_+" WHERE digest=?",[t]))})})})}})}}if(e.length){var o=0,a=[];e.forEach(function(e){var i="SELECT seq FROM "+y+" WHERE doc_id=? AND rev=?";n.executeSql(i,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+y+" WHERE seq=?",[n],r)})})}}function l(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,i=t.target||t.message;e(m.error(m.WSQ_ERROR,i,r))}}function f(e){if("size"in e)return 1e6*e.size;var t=/Android/.test(window.navigator.userAgent);return t?5e6:1}function d(){return"undefined"!=typeof sqlitePlugin?sqlitePlugin.openDatabase.bind(sqlitePlugin):"undefined"!=typeof openDatabase?function(e){return openDatabase(e.name,e.version,e.description,e.size)}:void 0}function h(e){var t=d(),n=w[e.name];return n||(n=w[e.name]=t(e),n._sqlitePlugin="undefined"!=typeof sqlitePlugin),n}function p(){return"undefined"!=typeof openDatabase||"undefined"!=typeof SQLitePlugin}var v=e(84),m=e(48),g=e(11),y=g.BY_SEQ_STORE,_=g.ATTACH_STORE,b=g.ATTACH_AND_SEQ_STORE,w={};t.exports={escapeBlob:r,unescapeBlob:i,stringifyDoc:o,unstringifyDoc:a,qMarks:s,select:u,compactRevs:c,unknownError:l,getSize:f,openDB:h,valid:p}},{11:11,48:48,84:84}],14:[function(e,t,n){"use strict";function r(e,t,n){function r(){i.cancel()}u.call(this);var i=this;this.db=e,t=t?o.clone(t):{};var a=t.complete=o.once(function(t,n){t?i.emit("error",t):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",r)});n&&(i.on("complete",function(e){n(null,e)}),i.on("error",function(e){n(e)})),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||(i.emit("change",e),i.startSeq&&i.startSeq<=e.seq&&(i.startSeq=!1),e.deleted?i.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,2)?i.emit("create",e):i.emit("update",e))};var s=new o.Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});i.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this["catch"]=s["catch"].bind(s),this.then(function(e){a(null,e)},a),e.taskqueue.isReady?i.doChanges(t):e.taskqueue.addTask(function(){i.isCancelled?i.emit("cancel"):i.doChanges(t)})}function i(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=h(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:r,doc:e};return a(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=p(t),i.doc._conflicts.length||delete i.doc._conflicts),i}var o=e(84),a=e(38),s=e(48),u=e(87).EventEmitter,c=e(66),l=e(67),f=e(41),d=e(40),h=e(52),p=e(51);t.exports=r,o.inherits(r,u),r.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},r.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=o.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=i,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.continuous&&"now"!==e.since&&this.db.info().then(function(e){t.startSeq=e.update_seq},function(e){if("idbNull"!==e.id)throw e}),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=d(e.view):e.filter=d(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var a=t.cancel;t.cancel=o.getArguments(function(e){r.cancel(),a.apply(this,e)})}},r.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=s.error(s.BAD_REQUEST,"`view` filter parameter not found or invalid.");return n(r)}var i=f(e.view);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(s.generateErrorFromResponse(r));var a=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;return a?(e.filter=l(a),void t.doChanges(e)):n(s.error(s.MISSING_DOC,o.views?"missing json key: "+i[1]:"missing json key: views"))})}else{var o=f(e.filter);if(!o)return n(s.error(s.BAD_REQUEST,"`filter` filter parameter invalid."));this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(s.generateErrorFromResponse(r));var a=i&&i.filters&&i.filters[o[1]];return a?(e.filter=c(a),void t.doChanges(e)):n(s.error(s.MISSING_DOC,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"))})}}},{38:38,40:40,41:41,48:48,51:51,52:52,66:66,67:67,84:84,87:87}],15:[function(e,t,n){"use strict";function r(e){s()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):u()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function i(){o.call(this),this._listeners={},r(this)}var o=e(87).EventEmitter,a=e(92),s=e(47),u=e(46),c=e(61);a(i,o),i.prototype.addListener=function(e,t,n,r){function i(){if(o._listeners[t]){if(a)return void(a="waiting");a=!0;var e=c(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&setTimeout(function(){i()},0),a=!1}).on("error",function(){a=!1})}}if(!this._listeners[t]){var o=this,a=!1;this._listeners[t]=i,this.on(e,i)}},i.prototype.removeListener=function(e,t){t in this._listeners&&o.prototype.removeListener.call(this,e,this._listeners[t])},i.prototype.notifyLocalWindows=function(e){s()?chrome.storage.local.set({dbName:e}):u()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},i.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},t.exports=i},{46:46,47:47,61:61,87:87,92:92}],16:[function(e,t,n){(function(n){"use strict";function r(e){e&&n.debug&&console.error(e)}function i(e,t){function n(){o.emit("destroyed",i),o.emit(i,"destroyed")}function r(){e.removeListener("destroyed",n),e.emit("destroyed",e)}var i=t.originalName,o=e.constructor,a=o._destructionListeners;e.once("destroyed",n),a.has(i)||a.set(i,[]),a.get(i).push(r)}function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var f=this;("function"==typeof t||"undefined"==typeof t)&&(n=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof n&&(n=r),e=e||t.name,t=u.clone(t),delete t.name,this.__opts=t;var d=n;f.auto_compaction=t.auto_compaction,f.prefix=o.prefix,s.call(f),f.taskqueue=new c;var h=new l(function(r,s){n=function(e,t){return e?s(e):(delete t.then,void r(t))},t=u.clone(t);var c,l,d=t.name||e;return function(){try{if("string"!=typeof d)throw l=new Error("Missing/invalid DB name"),l.code=400,l;if(c=o.parseAdapter(d,t),t.originalName=d,t.name=c.name,t.prefix&&"http"!==c.adapter&&"https"!==c.adapter&&(t.name=t.prefix+t.name),t.adapter=t.adapter||c.adapter,f._adapter=t.adapter,a("pouchdb:adapter")("Picked adapter: "+t.adapter),f._db_name=d,!o.adapters[t.adapter])throw l=new Error("Adapter is missing"),l.code=404,l;if(!o.adapters[t.adapter].valid())throw l=new Error("Invalid Adapter"),l.code=404,l}catch(e){f.taskqueue.fail(e)}}(),l?s(l):(f.adapter=t.adapter,f.replicate={},f.replicate.from=function(e,t,n){return f.constructor.replicate(e,f,t,n)},f.replicate.to=function(e,t,n){return f.constructor.replicate(f,e,t,n)},f.sync=function(e,t,n){return f.constructor.sync(f,e,t,n)},f.replicate.sync=f.sync,o.adapters[t.adapter].call(f,t,function(e){return e?(f.taskqueue.fail(e),void n(e)):(i(f,t),f.emit("created",f),o.emit("created",t.originalName),f.taskqueue.ready(f),void n(null,f))}),void(u.isCordova()&&cordova.fireWindowEvent(t.name+"_pouch",{})))});h.then(function(e){d(null,e)},d),f.then=h.then.bind(h),f["catch"]=h["catch"].bind(h)}var a=e(89),s=e(1),u=e(84),c=e(83),l=u.Promise;u.inherits(o,s),o.debug=a,t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,83:83,84:84,89:89}],17:[function(e,t,n){"use strict";function r(e,t){function n(t,n,r){if(e.binary||e.json||!e.processData||"string"==typeof t){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(i){return r(i)}}else t=JSON.stringify(t);Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?o.generateErrorFromResponse(e):e})),e.binary&&s(t,n),r(null,t,n)}function r(e,t){var n,r;if(e.code&&e.status){var i=new Error(e.message||e.code);return i.status=e.status,t(i)}try{n=JSON.parse(e.responseText),r=o.generateErrorFromResponse(n)}catch(a){r=o.generateErrorFromResponse(e)}t(r)}e=a.clone(e);var l={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=a.extend(l,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),i(e,function(i,a,s){if(i){if(a){var l="undefined"!=typeof document&&document.location.origin,f=l&&0===e.url.indexOf(l);f&&0===a.statusCode&&c(),i.status=a.statusCode}else i.status=400;return r(i,t)}var d,h=a.headers&&a.headers["content-type"],p=s||u();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof p&&(/json/.test(h)||/^[\s]*\{/.test(p)&&/\}[\s]*$/.test(p)))try{p=JSON.parse(p.toString())}catch(v){}a.statusCode>=200&&a.statusCode<300?n(p,a,t):(d=o.generateErrorFromResponse(p),d.status=a.statusCode,t(d))})}var i=e(26),o=e(48),a=e(84),s=e(18),u=e(21),c=e(23);t.exports=r},{18:18,21:21,23:23,26:26,48:48,84:84}],18:[function(e,t,n){"use strict";t.exports=function(){}},{}],19:[function(e,t,n){"use strict";var r=e(32);t.exports=function(e,t){return r(e,{type:t})}},{32:32}],20:[function(e,t,n){"use strict";var r=e(30);t.exports=function(e){return r(e)}},{30:30}],21:[function(e,t,n){"use strict";t.exports=function(){return""}},{}],22:[function(e,t,n){(function(e){"use strict";t.exports=function(t){"console"in e&&"info"in console&&console.info("The above 404 is totally normal. "+t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(e){"use strict";t.exports=function(){"console"in e&&"warn"in console&&console.warn("PouchDB: the remote database may not have CORS enabled.If not please enable CORS: http://pouchdb.com/errors.html#no_access_control_allow_origin_header");
}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){"use strict";function r(e){e=u(e);var t=a(),n={};Object.keys(e._attachments).forEach(function(t){var r=e._attachments[t];if(!r.stub){var i=o(r.data);n[t]={type:r.content_type,data:i},r.length=i.length,r.follows=!0,delete r.digest,delete r.data}});var r="--"+t+"\r\nContent-Type: application/json\r\n\r\n",i=[r,JSON.stringify(e)];Object.keys(n).forEach(function(e){var r=n[e],o="\r\n--"+t+"\r\nContent-Disposition: attachment; filename="+JSON.stringify(e)+"\r\nContent-Type: "+r.type+"\r\nContent-Length: "+r.data.length+"\r\n\r\n";i.push(o),i.push(l(r.data))}),i.push("\r\n--"+t+"--");var s="multipart/related; boundary="+t,f=c(i,s);return{headers:{"Content-Type":s},body:f}}var i=e(28),o=i.atob,a=e(65),s=e(84),u=s.clone,c=e(19),l=e(20);t.exports=r},{19:19,20:20,28:28,65:65,84:84}],25:[function(e,t,n){"use strict";var r=e(17);t.exports=function(e,t){if(("POST"===e.method||"GET"===e.method)&&!e.cache){var n=-1!==e.url.indexOf("?");e.url+=(n?"&":"?")+"_nonce="+Date.now()}return r(e,t)}},{17:17}],26:[function(e,t,n){"use strict";function r(){for(var e={},t=new u.Promise(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,u.Promise.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)})["catch"](function(t){e.reject(t)}),e}function i(e,t){var n,i,o,a=new Headers,s={method:e.method,credentials:"include",headers:a};return e.json&&(a.set("Accept","application/json"),a.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?c(e.body,function(e){s.body=e}):e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):"body"in e?s.body=e.body:s.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&a.set(t,e.headers[t])}),n=r(e.url,s),e.timeout>0&&(i=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(i),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):t(e,o)})["catch"](function(e){t(e,o)}),{abort:n.reject}}function o(e,t){var n,r,i,o=function(){n.abort()};n=e.xhr?new e.xhr:new XMLHttpRequest,n.open(e.method,e.url),n.withCredentials=!0,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var a in e.headers)e.headers.hasOwnProperty(a)&&n.setRequestHeader(a,e.headers[a]);return e.timeout>0&&(r=setTimeout(o,e.timeout),n.onprogress=function(){clearTimeout(r),r=setTimeout(o,e.timeout)},"undefined"==typeof i&&(i=-1!==Object.keys(n).indexOf("upload")&&"undefined"!=typeof n.upload),i&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?s([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var o={};try{o=JSON.parse(n.response)}catch(a){}t(o,r)}}},e.body&&e.body instanceof Blob?c(e.body,function(e){n.send(e)}):n.send(e.body),{abort:o}}function a(){try{return new XMLHttpRequest,!0}catch(e){return!1}}var s=e(32),u=e(84),c=e(35),l=a();t.exports=function(e,t){return l||e.xhr?o(e,t):i(e,t)}},{32:32,35:35,84:84}],27:[function(e,t,n){"use strict";t.exports=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return t}},{}],28:[function(e,t,n){"use strict";var r=e(34);"function"==typeof atob?n.atob=function(e){return atob(e)}:n.atob=function(e){var t=new r(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},"function"==typeof btoa?n.btoa=function(e){return btoa(e)}:n.btoa=function(e){return new r(e,"binary").toString("base64")}},{34:34}],29:[function(e,t,n){"use strict";var r=e(28).atob,i=e(31);t.exports=function(e,t){return i(r(e),t)}},{28:28,31:31}],30:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;t>i;i++)r[i]=e.charCodeAt(i);return n}},{}],31:[function(e,t,n){"use strict";var r=e(32),i=e(30);t.exports=function(e,t){return r([i(e)],{type:t})}},{30:30,32:32}],32:[function(e,t,n){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new r,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}t.exports=r},{}],33:[function(e,t,n){"use strict";var r=e(62),i=e(36),o=e(28).btoa;t.exports=function(e){return new r(function(t){i(e,function(e){t(o(e))})})}},{28:28,36:36,62:62}],34:[function(e,t,n){t.exports={}},{}],35:[function(e,t,n){"use strict";t.exports=function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}},{}],36:[function(e,t,n){"use strict";var r=e(27);t.exports=function(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return i?t(n):void t(r(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}},{27:27}],37:[function(e,t,n){"use strict";function r(e){if("function"!=typeof e.hasOwnProperty)return!1;var t;for(t in e);return void 0===t||e.hasOwnProperty(t)}t.exports=function i(e){var t,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,o=e.length;o>n;n++)t[n]=i(e[n]);return t}if(e instanceof Date)return e.toISOString();if(!r(e))return e;t={};for(n in e)if(e.hasOwnProperty(n)){var a=i(e[n]);"undefined"!=typeof a&&(t[n]=a)}return t}},{}],38:[function(e,t,n){"use strict";function r(e){return e.ids}function i(e,t){t||(t=o(e));for(var n,i=t.substring(t.indexOf("-")+1),a=e.rev_tree.map(r);n=a.pop();){if(n[0]===i)return!!n[1].deleted;a=a.concat(n[2])}}var o=e(57);t.exports=i},{57:57}],39:[function(e,t,n){"use strict";function r(e){return/^_local/.test(e)}t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e(41);t.exports=function(e){var t=r(e);return t?t.join("/"):null}},{41:41}],41:[function(e,t,n){"use strict";t.exports=function(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}},{}],42:[function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function i(e){if(!/^\d+\-./.test(e))return a.error(a.INVALID_REV);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function o(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;a>o;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}var a=e(48),s=e(65),u=r(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),c=r(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);n.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=a.error(a.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=a.error(a.RESERVED_ID)):t=a.error(a.MISSING_ID),t)throw t},n.parseDoc=function(e,t){var r,l,f,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=s()),l=s(32,16).toLowerCase(),e._rev){if(f=i(e._rev),f.error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[l,d,[]]]]}],r=f.prefix+1}else e._rev_tree=[{pos:1,ids:[l,d,[]]}],r=1;else if(e._revisions&&(e._rev_tree=o(e._revisions,d),r=e._revisions.start,l=e._revisions.ids[0]),!e._rev_tree){if(f=i(e._rev),f.error)return f;r=f.prefix,l=f.id,e._rev_tree=[{pos:r,ids:[l,d,[]]}]}n.invalidIdError(e._id),e._rev=r+"-"+l;var h={metadata:{},data:{}};for(var p in e)if(Object.prototype.hasOwnProperty.call(e,p)){var v="_"===p[0];if(v&&!u[p]){var m=a.error(a.DOC_VALIDATION,p);throw m.message=a.DOC_VALIDATION.message+": "+p,m}v&&!c[p]?h.metadata[p.slice(1)]=e[p]:h.data[p]=e[p]}return h}},{48:48,65:65}],43:[function(e,t,n){"use strict";function r(e,t,n){function r(e){try{return i.atob(e)}catch(t){var n=u.error(u.BAD_ARG,"Attachments need to be base64 encoded");return{error:n}}}function l(e,n){if(e.stub)return n();if("string"==typeof e.data){var u=r(e.data);if(u.error)return n(u.error);e.length=u.length,"blob"===t?e.data=s(u,e.content_type):"base64"===t?e.data=i.btoa(u):e.data=u,c(u).then(function(t){e.digest="md5-"+t,n()})}else a(e.data,function(r){"binary"===t?e.data=o(r):"base64"===t&&(e.data=i.btoa(o(r))),c(r).then(function(t){e.digest="md5-"+t,e.length=r.byteLength,n()})})}function f(){h++,e.length===h&&(d?n(d):n())}if(!e.length)return n();var d,h=0;e.forEach(function(e){function t(e){d=e,r++,r===n.length&&f()}var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return f();for(var i in e.data._attachments)e.data._attachments.hasOwnProperty(i)&&l(e.data._attachments[i],t)})}var i=e(28),o=e(27),a=e(35),s=e(31),u=e(48),c=e(50);t.exports=r},{27:27,28:28,31:31,35:35,48:48,50:50}],44:[function(e,t,n){"use strict";function r(e,t,n,r,l,d,h,p){function v(e,t,n){var r=u(e.metadata),o=a(e.metadata,r);if("was_delete"in h&&o)return l[t]=i.error(i.MISSING_DOC,"deleted"),n();var s=o?0:1;d(e,r,o,o,!1,s,t,n)}function m(){++_===b&&p&&p()}var g=h.new_edits,y=new f,_=0,b=e.length;e.forEach(function(e,n){if(e._id&&s(e._id))return void t[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:r},function(e){e?l[n]=e:l[n]={ok:!0},m()});var i=e.metadata.id;y.has(i)?(b--,y.get(i).push([e,n])):y.set(i,[[e,n]])}),y.forEach(function(e,t){function r(){++a<e.length?i():m()}function i(){var i=e[a],s=i[0],u=i[1];if(n.has(t))o(n.get(t),s,l,u,r,d,g);else{var f=c([],s.metadata.rev_tree[0],1e3);s.metadata.rev_tree=f.tree,v(s,u,r)}}var a=0;i()})}var i=e(48),o=e(45),a=e(38),s=e(39),u=e(57),c=e(53),l=e(97),f=l.Map;t.exports=r},{38:38,39:39,45:45,48:48,53:53,57:57,97:97}],45:[function(e,t,n){"use strict";function r(e,t,n,r,l,f,d){if(c(e.rev_tree,t.metadata.rev))return n[r]=t,l();var h=e.winningRev||s(e),p="deleted"in e?e.deleted:o(e,h),v="deleted"in t.metadata?t.metadata.deleted:o(t.metadata),m=/^1-/.test(t.metadata.rev);if(p&&!v&&d&&m){var g=t.data;g._rev=h,g._id=t.metadata.id,t=a(g,d)}var y=u(e.rev_tree,t.metadata.rev_tree[0],1e3),_=d&&(p&&v||!p&&"new_leaf"!==y.conflicts||p&&!v&&"new_branch"===y.conflicts);if(_){var b=i.error(i.REV_CONFLICT);return n[r]=b,l()}var w=t.metadata.rev;t.metadata.rev_tree=y.tree,e.rev_map&&(t.metadata.rev_map=e.rev_map);var x,S=s(t.metadata),E=o(t.metadata,S),k=p===E?0:E>p?-1:1;x=w===S?E:o(t.metadata,w),f(t,S,E,x,!0,k,r,l)}var i=e(48),o=e(38),a=e(42).parseDoc,s=e(57),u=e(53),c=e(54);t.exports=r},{38:38,42:42,48:48,53:53,54:54,57:57}],46:[function(e,t,n){"use strict";var r,i=e(47);if(i())r=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),r=!!localStorage.getItem("_pouch_check_localstorage")}catch(o){r=!1}t.exports=function(){return r}},{47:47}],47:[function(e,t,n){"use strict";t.exports=function(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}},{}],48:[function(e,t,n){"use strict";function r(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}var i=e(92);i(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},n.UNAUTHORIZED=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),n.MISSING_BULK_DOCS=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),n.MISSING_DOC=new r({status:404,error:"not_found",reason:"missing"}),n.REV_CONFLICT=new r({status:409,error:"conflict",reason:"Document update conflict"}),n.INVALID_ID=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),n.MISSING_ID=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),n.RESERVED_ID=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),n.NOT_OPEN=new r({status:412,error:"precondition_failed",reason:"Database not open"}),n.UNKNOWN_ERROR=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),n.BAD_ARG=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),n.INVALID_REQUEST=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),n.QUERY_PARSE_ERROR=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),n.DOC_VALIDATION=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),n.BAD_REQUEST=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),n.NOT_AN_OBJECT=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),n.DB_MISSING=new r({status:404,error:"not_found",reason:"Database not found"}),n.IDB_ERROR=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),n.WSQ_ERROR=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),n.LDB_ERROR=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),n.FORBIDDEN=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),n.INVALID_REV=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),n.FILE_EXISTS=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),n.MISSING_STUB=new r({status:412,error:"missing_stub"}),n.error=function(e,t,n){function i(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return i.prototype=r.prototype,new i(t)},n.getErrorTypeByProp=function(e,t,r){var i=n,o=Object.keys(i).filter(function(n){var r=i[n];return"function"!=typeof r&&r[e]===t}),a=r&&o.filter(function(e){var t=i[e];return t.message===r})[0]||o[0];return a?i[a]:null},n.generateErrorFromResponse=function(e){var t,r,i,o,a,s=n;return r=e.error===!0&&"string"==typeof e.name?e.name:e.error,a=e.reason,i=s.getErrorTypeByProp("name",r,a),e.missing||"missing"===a||"deleted"===a||"not_found"===r?i=s.MISSING_DOC:"doc_validation"===r?(i=s.DOC_VALIDATION,o=a):"bad_request"===r&&i.message!==a&&(i=s.BAD_REQUEST),i||(i=s.getErrorTypeByProp("status",e.status,a)||s.UNKNOWN_ERROR),t=s.error(i,a,r),o&&(t.message=o),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.missing&&(t.missing=e.missing),t}},{92:92}],49:[function(e,t,n){"use strict";function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n]);"undefined"!=typeof r&&(e[n]=r)}}var i=e(37);t.exports=function(e,t,n){return r(e,t),n&&r(e,n),e}},{37:37}],50:[function(e,t,n){(function(n){"use strict";function r(e){return String.fromCharCode(255&e)+String.fromCharCode(e>>>8&255)+String.fromCharCode(e>>>16&255)+String.fromCharCode(e>>>24&255)}function i(e){for(var t="",n=0,i=e.length;i>n;n++)t+=r(e[n]);return u.btoa(t)}function o(e,t,n,r){(n>0||r<t.byteLength)&&(t=new Uint8Array(t,n,Math.min(r,t.byteLength)-n)),e.append(t)}function a(e,t,n,r){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t)}var s=e(63),u=e(28),c=e(98),l=n.setImmediate||n.setTimeout,f=32768;t.exports=s(function(e,t){function n(){var r=h*u,o=r+u;if(h++,d>h)v(p,e,r,o),l(n);else{v(p,e,r,o);var a=p.end(!0),s=i(a);t(null,s),p.destroy()}}var r="string"==typeof e,s=r?e.length:e.byteLength,u=Math.min(f,s),d=Math.ceil(s/u),h=0,p=r?new c:new c.ArrayBuffer,v=r?a:o;n()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{28:28,63:63,98:98}],51:[function(e,t,n){"use strict";var r=e(57),i=e(52);t.exports=function(e){for(var t=r(e),n=i(e.rev_tree),o=[],a=0,s=n.length;s>a;a++){var u=n[a];u.rev===t||u.opts.deleted||o.push(u.rev)}return o}},{52:52,57:57}],52:[function(e,t,n){"use strict";function r(e,t){return e.pos-t.pos}var i=e(56);t.exports=function(e){var t=[];i(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(r).reverse();for(var n=0,o=t.length;o>n;n++)delete t[n].pos;return t}},{56:56}],53:[function(e,t,n){"use strict";function r(e,t){return e.pos-t.pos}function i(e,t,n){for(var r,i=0,o=e.length;o>i;)r=i+o>>>1,n(e[r],t)<0?i=r+1:o=r;return i}function o(e,t,n){var r=i(e,t,n);e.splice(r,0,t)}function a(e,t){for(var n,r,i=t,o=e.length;o>i;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function s(e,t){return e[0]<t[0]?-1:1}function u(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),a=i.tree1,u=i.tree2;(a[1].status||u[1].status)&&(a[1].status="available"===a[1].status||"available"===u[1].status?"available":"missing");for(var c=0;c<u[2].length;c++)if(a[2][0]){for(var l=!1,f=0;f<a[2].length;f++)a[2][f][0]===u[2][c][0]&&(n.push({tree1:a[2][f],tree2:u[2][c]}),l=!0);l||(r="new_branch",o(a[2],u[2][c],s))}else r="new_leaf",a[2][0]=u[2][c]}return{conflicts:r,tree:e}}function c(e,t,n){var i,o=[],a=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var c=0,l=e.length;l>c;c++){var f=e[c];if(f.pos===t.pos&&f.ids[0]===t.ids[0])i=u(f.ids,t.ids),o.push({pos:f.pos,ids:i.tree}),a=a||i.conflicts,s=!0;else if(n!==!0){var d=f.pos<t.pos?f:t,h=f.pos<t.pos?t:f,p=h.pos-d.pos,v=[],m=[];for(m.push({ids:d.ids,diff:p,parent:null,parentIdx:null});m.length>0;){var g=m.pop();if(0!==g.diff)for(var y=g.ids[2],_=0,b=y.length;b>_;_++)m.push({ids:y[_],diff:g.diff-1,parent:g.ids,parentIdx:_});else g.ids[0]===h.ids[0]&&v.push(g)}var w=v[0];w?(i=u(w.ids,h.ids),w.parent[2][w.parentIdx]=i.tree,o.push({pos:d.pos,ids:d.ids}),a=a||i.conflicts,s=!0):o.push(f)}else o.push(f)}return s||o.push(t),o.sort(r),{tree:o,conflicts:a||"internal_node"}}function l(e,t){for(var n,r=f(e),i=0,o=r.length;o>i;i++){var s=r[i],u=s.ids,l=Math.max(0,u.length-t),d={pos:s.pos+l,ids:a(u,l)};n=n?c(n,d,!0).tree:[d]}return n}var f=e(55);t.exports=function(e,t,n){var r=c(e,t);return{tree:l(r.tree,n),conflicts:r.conflicts}}},{55:55}],54:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;c>u;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}},{}],55:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,d=u.length;d>f;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}},{}],56:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;c>u;u++)r.push({pos:i+1,ids:a[u],ctx:s})}},{}],57:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,l=s.length;l>c;c++)o.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,d=a[0];(!t||(r!==f?r:n!==u?u>n:d>t))&&(t=d,n=u,r=f)}}return n+"-"+t}},{}],58:[function(e,t,n){"use strict";function r(e){var t=!1;return i(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}var i=e(86);t.exports=r},{86:86}],59:[function(e,t,n){"use strict";function r(e){return decodeURIComponent(window.escape(e))}function i(e){return 65>e?e-48:e-55}function o(e,t,n){for(var r="";n>t;)r+=String.fromCharCode(i(e.charCodeAt(t++))<<4|i(e.charCodeAt(t++)));return r}function a(e,t,n){for(var r="";n>t;)r+=String.fromCharCode(i(e.charCodeAt(t+2))<<12|i(e.charCodeAt(t+3))<<8|i(e.charCodeAt(t))<<4|i(e.charCodeAt(t+1))),t+=4;return r}function s(e,t){return"UTF-8"===t?r(o(e,0,e.length)):a(e,0,e.length)}t.exports=s},{}],60:[function(e,t,n){"use strict";function r(e){for(var t=s.exec(e),n={},r=14;r--;){var u=i[r],c=t[r]||"",l=-1!==["user","password"].indexOf(u);n[u]=l?decodeURIComponent(c):c}return n[o]={},n[i[12]].replace(a,function(e,t,r){t&&(n[o][t]=r)}),n}var i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],o="queryKey",a=/(?:^|&)([^&=]*)=?([^&]*)/g,s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;t.exports=r},{}],61:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n={},r=0,i=t.length;i>r;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}},{}],62:[function(e,t,n){"use strict";t.exports="function"==typeof Promise?Promise:e(93)},{93:93}],63:[function(e,t,n){(function(n){"use strict";function r(e){return o(function(t){var r,o=this,s="function"==typeof t[t.length-1]?t.pop():!1;s&&(r=function(e,t){n.nextTick(function(){s(e,t)})});var u=new i(function(n,r){var i;try{var s=a(function(e,t){e?r(e):n(t)});t.push(s),i=e.apply(o,t),i&&"function"==typeof i.then&&n(i)}catch(u){r(u)}});return r&&u.then(function(e){r(null,e)},r),u})}var i=e(62),o=e(86),a=e(58);t.exports=r}).call(this,e(88))},{58:58,62:62,86:86,88:88}],64:[function(e,t,n){"use strict";function r(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return o(e,t._id,n)})}var i=e(62),o=t.exports=function(e,t,n){return new i(function(i,o){return"string"!=typeof t?o(new Error("doc id is required")):void e.get(t,function(a,s){if(a){if(404!==a.status)return o(a);s={}}var u=s._rev,c=n(s);return c?(c._id=t,c._rev=u,void i(r(e,c,n))):i({updated:!1,rev:u})})})}},{62:62}],65:[function(e,t,n){"use strict";function r(e){return 0|Math.random()*e}function i(e,t){t=t||o.length;var n="",i=-1;if(e){for(;++i<e;)n+=o[r(t)];return n}for(;++i<36;)switch(i){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=o[3&r(16)|8];break;default:n+=o[r(16)]}return n}var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=i},{}],66:[function(_dereq_,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],67:[function(_dereq_,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],68:[function(e,t,n){"use strict";var r=e(64),i=e(62),o=e(71);t.exports=function(e){var t=e.db,n=e.viewName,a=e.map,s=e.reduce,u=e.temporary,c=a.toString()+(s&&s.toString())+"undefined";if(!u&&t._cachedViews){var l=t._cachedViews[c];if(l)return i.resolve(l)}return t.info().then(function(e){function i(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[l])return r[l]=!0,e}var l=e.db_name+"-mrview-"+(u?"temp":o(c));return r(t,"_local/mrviews",i).then(function(){return t.registerDependentDatabase(l).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:l,db:n,sourceDB:t,adapter:t.adapter,mapFun:a,reduceFun:s};return r.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,u||(t._cachedViews=t._cachedViews||{},t._cachedViews[c]=r,r.db.once("destroyed",function(){delete t._cachedViews[c]})),r})})})})}},{62:62,64:64,71:71}],69:[function(_dereq_,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func.replace(/;\s*$/,"")+");")}},{}],70:[function(e,t,n){(function(t){"use strict";function r(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function i(e){return 1===e.length&&/^1-/.test(e[0].rev)}function o(e,t){try{e.emit("error",t)}catch(n){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function a(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return o(e,r),{error:r}}}function s(e,t){var n=N(e.key,t.key);return 0!==n?n:N(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function l(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=R(n.data,n.content_type)})})}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&l(t),t}}function d(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new C(t)}function h(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];if("number"!=typeof i){if(!Array.isArray(i))throw d("_sum");t="number"==typeof t?[t]:t;for(var o=0,a=i.length;a>o;o++){var s=i[o];if("number"!=typeof s)throw d("_sum");"undefined"==typeof t[o]?t.push(s):t[o]+=s}}else"number"==typeof t?t+=i:t[0]+=i}return t}function p(e,t,n,r){var i=t[e];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function v(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&N(e[n],e[r])>0)throw new D("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new D("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new D("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new D('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new D('Invalid value for positive integer: "'+e.group_level+'"')}}function m(e,t,n){var i,o=[],a="GET";if(p("reduce",n,o),p("include_docs",n,o),p("attachments",n,o),p("limit",n,o),p("descending",n,o),p("group",n,o),p("group_level",n,o),p("skip",n,o),p("stale",n,o),p("conflicts",n,o),p("startkey",n,o,!0),p("start_key",n,o,!0),p("endkey",n,o,!0),p("end_key",n,o,!0),p("inclusive_end",n,o),p("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var s=2e3,u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=s?o+=("?"===o[0]?"&":"?")+u:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var c=r(t);return e.request({method:a,url:"_design/"+c[0]+"/_view/"+c[1]+o,body:i}).then(f(n))}return i=i||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:i}).then(f(n))}function g(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){function r(){return i(f)?H.resolve(u):t.db.get(s)["catch"](g(u))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):H.resolve({rows:[]})}function a(e,t){for(var n=[],r={},i=0,o=t.rows.length;o>i;i++){var a=t.rows[i],s=a.doc;if(s&&(n.push(s),r[s._id]=!0,s._deleted=!l[s._id],!s._deleted)){var u=l[s._id];"value"in u&&(s.value=u.value)}}var c=Object.keys(l);return c.forEach(function(e){if(!r[e]){var t={_id:e},i=l[e];"value"in i&&(t.value=i.value),n.push(t)}}),e.keys=Y.uniq(c.concat(e.keys)),n.push(e),n}var s="_local/doc_"+e,u={_id:s,keys:[]},c=n[e],l=c.indexableKeysToKeyValues,f=c.changes;return r().then(function(e){return o(e).then(function(t){return a(e,t)})})}function _(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](g({_id:r,seq:0})).then(function(r){var i=Object.keys(t);return H.all(i.map(function(n){return y(n,e,t)})).then(function(t){var i=Y.flatten(t);return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})})})}function b(e){var t="string"==typeof e?e:e.name,n=G[t];return n||(n=G[t]=new q),n}function w(e){return Y.sequentialize(b(e),function(){return x(e)})()}function x(e){function t(e,t){var n={id:i._id,key:P(e)};"undefined"!=typeof t&&null!==t&&(n.value=P(t)),r.push(n)}function n(t,n){return function(){return _(e,t,n)}}var r,i,o;if("function"==typeof e.mapFun&&2===e.mapFun.length){var u=e.mapFun;o=function(e){return u(e,t)}}else o=B(e.mapFun.toString(),t,h,I,Array.isArray,JSON.parse);var c=e.seq||0,l=new q;return new H(function(t,u){function f(){l.finish().then(function(){e.seq=c,t()})}function d(){function t(e){u(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:$}).on("complete",function(t){var u=t.results;if(!u.length)return f();for(var h={},p=0,v=u.length;v>p;p++){var m=u[p];if("_"!==m.doc._id[0]){r=[],i=m.doc,i._deleted||a(e.sourceDB,o,[i]),r.sort(s);for(var g,y={},_=0,b=r.length;b>_;_++){var w=r[_],x=[w.key,w.id];0===N(w.key,g)&&x.push(_);var S=L(x);y[S]=w,g=w.key}h[m.doc._id]={indexableKeysToKeyValues:y,changes:m.changes}}c=m.seq}return l.add(n(h,c)),u.length<$?f():d()}).on("error",t)}d()})}function S(e,t,n){0===n.group_level&&delete n.group_level;var r,i=n.group||n.group_level;r=z[e.reduceFun]?z[e.reduceFun]:B(e.reduceFun.toString(),null,h,I,Array.isArray,JSON.parse);var o=[],s=n.group_level;t.forEach(function(e){var t=o[o.length-1],n=i?e.key:null;return i&&Array.isArray(n)&&"number"==typeof s&&(n=n.length>s?n.slice(0,s):n),t&&0===N(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void o.push({key:[[n,e.id]],value:[e.value]})});for(var c=0,l=o.length;l>c;c++){var f=o[c],d=a(e.sourceDB,r,[f.key,f.value,!1]);if(d.error&&d.error instanceof C)throw d.error;f.value=d.error?null:d.output,f.key=f.key[0][0]}return{rows:u(o,n.limit,n.skip)}}function E(e,t){return Y.sequentialize(b(e),function(){return k(e,t)})()}function k(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(n>t||t>n))return e.doc.value}var r=F(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=o?S(e,n,t):{total_rows:i,offset:a,rows:n},t.include_docs){var s=Y.uniq(n.map(c));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var i,o=e.reduceFun&&t.reduce!==!1,a=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var s=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var u=t.keys,l=u.map(function(e){var t={startkey:L([e]),endkey:L([e,{}])};return n(t)});return H.all(l).then(s).then(r)}var f={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(f.startkey=L(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),f.endkey=L(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var h=L([t.key]),p=L([t.key,{}]);f.descending?(f.endkey=h,f.startkey=p):(f.startkey=h,f.endkey=p)}return o||("number"==typeof t.limit&&(f.limit=t.limit),f.skip=a),n(f).then(r)}function O(e){return e.request({method:"POST",url:"_view_cleanup"})}function T(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=r(e),i="_design/"+t[0],o=t[1];n[i]=n[i]||{},n[i][o]=!0});var i={keys:Object.keys(n),
include_docs:!0};return e.allDocs(i).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var o=r+"/"+n;t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){i[e]=i[e]||s})})});var o=Object.keys(i).filter(function(e){return!i[e]}),a=o.map(function(t){return Y.sequentialize(b(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return H.all(a).then(function(){return{ok:!0}})})},g({ok:!0}))}function A(e,n,i){if("http"===e.type())return m(e,n,i);if("string"!=typeof n){v(i,n);var o={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0};return V.add(function(){return U(o).then(function(e){function t(){return e.db.destroy()}return Y.fin(w(e).then(function(){return E(e,i)}),t)})}),V.finish()}var a=n,s=r(a),u=s[0],c=s[1];return e.get("_design/"+u).then(function(n){var r=n.views&&n.views[c];if(!r||"string"!=typeof r.map)throw new j("ddoc "+u+" has no view named "+c);v(i,r);var o={db:e,viewName:a,map:r.map,reduce:r.reduce};return U(o).then(function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&t.nextTick(function(){w(e)}),E(e,i)):w(e).then(function(){return E(e,i)})})})}function D(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,D)}catch(t){}}function j(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,j)}catch(t){}}function C(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,C)}catch(t){}}var I,R=e(29),M=e(95),q=e(72),N=M.collate,L=M.toIndexableString,P=M.normalizeKey,F=M.parseIndexableString,U=e(68),B=e(69);I="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var Y=e(73),H=e(62),W=e(92),G={},V=new q,$=50,z={_sum:function(e,t){return h(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];t+=i*i}return t}return{sum:h(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}};n.viewCleanup=Y.callbackify(function(){var e=this;return"http"===e.type()?O(e):T(e)}),n.query=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t||{},"function"==typeof e&&(e={map:e});var r=this,i=H.resolve().then(function(){return A(r,e,t)});return Y.promisedCallback(i,n),i},W(D,Error),W(j,Error),W(C,Error)}).call(this,e(88))},{29:29,62:62,68:68,69:69,72:72,73:73,88:88,92:92,95:95}],71:[function(e,t,n){"use strict";var r=e(98);t.exports=function(e){return r.hash(e)}},{98:98}],72:[function(e,t,n){"use strict";function r(){this.promise=new i(function(e){e()})}var i=e(62);r.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},t.exports=r},{62:62}],73:[function(e,t,n){(function(t){"use strict";var r=e(86);n.promisedCallback=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},n.callbackify=function(e){return r(function(t){var r=t.pop(),i=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(i,r),i})},n.fin=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},n.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},n.flatten=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t},n.uniq=function(e){for(var t={},n=0,r=e.length;r>n;n++)t["$"+e[n]]=!0;var i=Object.keys(t),o=new Array(i.length);for(n=0,r=i.length;r>n;n++)o[n]=i[n].substring(1);return o}}).call(this,e(88))},{86:86,88:88}],74:[function(e,t,n){"use strict";function r(e,t){e=parseInt(e,10),t=parseInt(t,10),e!==e&&(e=0),t!==t||e>=t?t=(e||1)<<1:t+=1;var n=Math.random(),r=t-e;return~~(r*n+e)}function i(e){var t=0;return e||(t=2e3),r(e,t)}function o(e,t,n,r){return e.retry===!1?(t.emit("error",n),void t.removeAllListeners()):("function"!=typeof e.back_off_function&&(e.back_off_function=i),t.emit("requestError",n),"active"===t.state&&(t.emit("paused",n),t.state="stopped",t.once("active",function(){e.current_back_off=a})),e.current_back_off=e.current_back_off||a,e.current_back_off=e.back_off_function(e.current_back_off),void setTimeout(r,e.current_back_off))}var a=0;t.exports=o},{}],75:[function(e,t,n){"use strict";function r(e,t,n,i,o){return e.get(t)["catch"](function(n){if(404===n.status)return"http"===e.type()&&c("PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:h,version:d};throw n}).then(function(a){return o.cancelled?void 0:(a.history=(a.history||[]).filter(function(e){return e.session_id!==i}),a.history.unshift({last_seq:n,session_id:i}),a.history=a.history.slice(0,p),a.version=d,a.replicator=h,a.session_id=i,a.last_seq=n,e.put(a)["catch"](function(a){if(409===a.status)return r(e,t,n,i,o);throw a}))})}function i(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function o(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history||[]};var n=e.history||[],r=t.history||[];return a(n,r)}function a(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);if(!n||0===t.length)return{last_seq:v,history:[]};var u=n.session_id;if(s(u,t))return{last_seq:n.last_seq,history:e};var c=i.session_id;return s(c,r)?{last_seq:i.last_seq,history:o}:a(r,o)}function s(e,t){var n=t[0],r=t.slice(1);return e&&0!==t.length?e===n.session_id?!0:s(e,r):!1}var u=e(62),c=e(22),l=e(95),f=l.collate,d=1,h="pouchdb",p=5,v=0;i.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},i.prototype.updateTarget=function(e,t){return r(this.target,this.id,e,t,this.returnValue)},i.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?u.resolve(!0):r(this.src,this.id,e,t,this.returnValue)["catch"](function(e){var t="number"==typeof e.status&&4===Math.floor(e.status/100);if(t)return n.readOnlySource=!0,!0;throw e})};var m={undefined:function(e,t){return 0===f(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return o(t,e).last_seq}};i.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.src.get(e.id).then(function(e){if(t.version!==e.version)return v;var n;return n=t.version?t.version.toString():"undefined",n in m?m[n](t,e):v},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:v}).then(function(){return v},function(n){return 401===n.status?(e.readOnlySource=!0,t.last_seq):v});throw n})})["catch"](function(e){if(404!==e.status)throw e;return v})},t.exports=i},{22:22,62:62,95:95}],76:[function(e,t,n){"use strict";function r(e){return Object.keys(e).sort(s).reduce(function(t,n){return t[n]=e[n],t},{})}function i(e,t,n){var i=n.doc_ids?n.doc_ids.sort(s):"",u=n.filter?n.filter.toString():"",c="",l="";return n.filter&&n.query_params&&(c=JSON.stringify(r(n.query_params))),n.filter&&"_view"===n.filter&&(l=n.view.toString()),o.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+u+l+c+i;return a(t)}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}var o=e(62),a=e(50),s=e(95).collate;t.exports=i},{50:50,62:62,95:95}],77:[function(e,t,n){"use strict";function r(e){return/^1-/.test(e)}function i(e,t,n){function i(t,r){var i={revs:!0,open_revs:r,attachments:!0,binary:!0};return e.get(t,i).then(function(e){if(n.cancelled)throw new Error("cancelled");e.forEach(function(e){e.ok&&p.push(e.ok)})})}function o(e){for(var n=t[e].missing,r=[],o=0;o<n.length;o+=u){var a=n.slice(o,Math.min(n.length,o+u));r.push(a)}return s.all(r.map(function(t){return i(e,t)}))}function c(){var e=Object.keys(t);return s.all(e.map(o))}function l(e){return e._attachments&&Object.keys(e._attachments).length>0}function f(i){return e.allDocs({keys:i,include_docs:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){!e.deleted&&e.doc&&r(e.value.rev)&&!l(e.doc)&&(p.push(e.doc),delete t[e.id])})})}function d(){var e=Object.keys(t).filter(function(e){var n=t[e].missing;return 1===n.length&&r(n[0])});return e.length>0?f(e):void 0}function h(){return p}t=a(t);var p=[];return s.resolve().then(d).then(c).then(h)}var o=e(84),a=o.clone,s=o.Promise,u=50;t.exports=i},{84:84}],78:[function(e,t,n){"use strict";function r(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function i(e,t,n,i){if("function"==typeof n&&(i=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw u.error(u.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");n.complete=i,n=o.clone(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var c=new s(n),l=r(e,n),f=r(t,n);return a(l,f,n,c),c}var o=e(84),a=e(79),s=e(80),u=e(48);t.exports={replicate:i,toPouch:r}},{48:48,79:79,80:80,84:84}],79:[function(e,t,n){"use strict";function r(e,t,n,c,l){function f(){return T?i.Promise.resolve():s(e,t,n).then(function(n){O=n,T=new o(e,t,O,F)})}function d(){if(0!==k.docs.length){var e=k.docs;return t.bulkDocs({docs:e,new_edits:!1}).then(function(t){if(F.cancelled)throw _(),new Error("cancelled");var n=[],r={};t.forEach(function(e){e.error&&(l.doc_write_failures++,n.push(e),r[e.id]=e)}),U=U.concat(n),l.docs_written+=k.docs.length-n.length;var o=n.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(B=[],e.forEach(function(e){var t=r[e._id];t?c.emit("denied",i.clone(t)):B.push(e)}),o.length>0){var a=new Error("bulkDocs error");throw a.other_errors=n,y("target.bulkDocs failed to write docs",a),new Error("bulkWrite partial failure")}},function(t){throw l.doc_write_failures+=e.length,t})}}function h(){return j=!0,T.writeCheckpoint(k.seq,Y).then(function(){if(j=!1,F.cancelled)throw _(),new Error("cancelled");l.last_seq=R=k.seq;var e=i.clone(l);e.docs=B,c.emit("change",e),k=void 0,S()})["catch"](function(e){throw j=!1,y("writeCheckpoint completed with error",e),e})}function p(){var e={};return k.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(F.cancelled)throw _(),new Error("cancelled");k.diffs=e})}function v(){return u(e,k.diffs,F).then(function(e){e.forEach(function(e){delete k.diffs[e._id],l.docs_read++,k.docs.push(e)})})}function m(){if(!F.cancelled&&!k){if(0===A.length)return void g(!0);k=A.shift(),p().then(v).then(d).then(h).then(m)["catch"](function(e){y("batch processing terminated with error",e)})}}function g(e){return 0===D.changes.length?void(0!==A.length||k||((M&&H.live||C)&&(c.state="pending",c.emit("paused")),C&&_())):void((e||C||D.changes.length>=q)&&(A.push(D),D={seq:0,changes:[],docs:[]},("pending"===c.state||"stopped"===c.state)&&(c.state="active",c.emit("active")),m()))}function y(e,t){I||(t.message||(t.message=e),l.ok=!1,l.status="aborting",l.errors.push(t),U=U.concat(t),A=[],D={seq:0,changes:[],docs:[]},_())}function _(){if(!(I||F.cancelled&&(l.status="cancelled",j))){l.status=l.status||"complete",l.end_time=new Date,l.last_seq=R,I=F.cancelled=!0;var i=U.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(i.length>0){var o=U.pop();U.length>0&&(o.other_errors=U),o.result=l,a(n,c,o,function(){r(e,t,n,c)})}else l.errors=U,c.emit("complete",l),c.removeAllListeners()}}function b(e){if(F.cancelled)return _();var t=i.filterChange(n)(e);t&&(D.seq=e.seq,D.changes.push(e),g(0===A.length))}function w(e){return L=!1,F.cancelled?_():(e.results.length>0?(H.since=e.last_seq,S()):M?(H.live=!0,S()):C=!0,void g(!0))}function x(e){return L=!1,F.cancelled?_():void y("changes rejected",e)}function S(){function t(){i.cancel()}function r(){c.removeListener("cancel",t)}if(!L&&!C&&A.length<N){L=!0,c._changes&&(c.removeListener("cancel",c._abortChanges),c._changes.cancel()),c.once("cancel",t);var i=e.changes(H).on("change",b);i.then(r,r),i.then(w)["catch"](x),n.retry&&(c._changes=i,c._abortChanges=t)}}function E(){f().then(function(){return F.cancelled?void _():T.getCheckpoint().then(function(e){R=e,H={since:R,limit:q,batch_size:q,style:"all_docs",doc_ids:P,returnDocs:!0},n.filter&&("string"!=typeof n.filter?H.include_docs=!0:H.filter=n.filter),n.query_params&&(H.query_params=n.query_params),n.view&&(H.view=n.view),S()})})["catch"](function(e){y("getCheckpoint rejected with ",e)})}var k,O,T,A=[],D={seq:0,changes:[],docs:[]},j=!1,C=!1,I=!1,R=0,M=n.continuous||n.live||!1,q=n.batch_size||100,N=n.batches_limit||10,L=!1,P=n.doc_ids,F={cancelled:!1},U=[],B=[],Y=i.uuid();l=l||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var H={};return c.ready(e,t),c.cancelled?void _():(c._addedListeners||(c.once("cancel",_),"function"==typeof n.complete&&(c.once("error",n.complete),c.once("complete",function(e){n.complete(null,e)})),c._addedListeners=!0),void("undefined"==typeof n.since?E():f().then(function(){return j=!0,T.writeCheckpoint(n.since,Y)}).then(function(){return j=!1,F.cancelled?void _():(R=n.since,void E())})["catch"](function(e){throw j=!1,y("writeCheckpoint completed with error",e),e})))}var i=e(84),o=e(75),a=e(74),s=e(76),u=e(77);t.exports=r},{74:74,75:75,76:76,77:77,84:84}],80:[function(e,t,n){"use strict";function r(){o.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new a(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}var i=e(84),o=e(87).EventEmitter,a=i.Promise;i.inherits(r,o),r.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},r.prototype.ready=function(e,t){function n(){i.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var i=this;i._readyCalled||(i._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),i.once("complete",r))},t.exports=r},{84:84,87:87}],81:[function(e,t,n){"use strict";function r(e){Object.keys(a.prototype).forEach(function(t){"function"==typeof a.prototype[t]&&(e[t]=u[t].bind(u))});var t=e._destructionListeners=new o.Map;e.on("destroyed",function(e){t.has(e)&&(t.get(e).forEach(function(e){e()}),t["delete"](e))})}var i=e(16),o=e(84),a=e(87).EventEmitter,s=e(46);i.adapters={},i.preferredAdapters=[],i.prefix="_pouch_";var u=new a;r(i),i.parseAdapter=function(e,t){var n,r,o=e.match(/([a-z\-]*):\/\/(.*)/);if(o){if(e=/http(s?)/.test(o[1])?o[1]+"://"+o[2]:o[2],n=o[1],!i.adapters[n].valid())throw"Invalid adapter";return{name:e,adapter:o[1]}}var a="idb"in i.adapters&&"websql"in i.adapters&&s()&&localStorage["_pouch__websqldb_"+i.prefix+e];if(t.adapter)r=t.adapter;else if("undefined"!=typeof t&&t.db)r="leveldb";else for(var u=0;u<i.preferredAdapters.length;++u)if(r=i.preferredAdapters[u],r in i.adapters){if(a&&"idb"===r){console.log('PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}n=i.adapters[r];var c=n&&"use_prefix"in n?n.use_prefix:!0;return{name:c?i.prefix+e:e,adapter:r}},i.destroy=o.toPromise(function(e,t,n){console.log("PouchDB.destroy() is deprecated and will be removed. Please use db.destroy() instead."),("function"==typeof t||"undefined"==typeof t)&&(n=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),new i(e,t,function(e,t){return e?n(e):void t.destroy(n)})}),i.adapter=function(e,t,n){t.valid()&&(i.adapters[e]=t,n&&i.preferredAdapters.push(e))},i.plugin=function(e){return Object.keys(e).forEach(function(t){i.prototype[t]=e[t]}),i},i.defaults=function(e){function t(n,r,a){return this instanceof t?(("function"==typeof r||"undefined"==typeof r)&&(a=r,r={}),n&&"object"==typeof n&&(r=n,n=void 0),r=o.extend({},e,r),void i.call(this,n,r,a)):new t(n,r,a)}return o.inherits(t,i),t.destroy=o.toPromise(function(t,n,r){return("function"==typeof n||"undefined"==typeof n)&&(r=n,n={}),t&&"object"==typeof t&&(n=t,t=void 0),n=o.extend({},e,n),i.destroy(t,n,r)}),r(t),t.preferredAdapters=i.preferredAdapters.slice(),Object.keys(i).forEach(function(e){e in t||(t[e]=i[e])}),t},t.exports=i},{16:16,46:46,84:84,87:87}],82:[function(e,t,n){"use strict";function r(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=o.clone(n),n.PouchConstructor=n.PouchConstructor||this,e=a.toPouch(e,n),t=a.toPouch(t,n),new i(e,t,n,r)}function i(e,t,n,r){function i(e){f.emit("change",{direction:"pull",change:e})}function a(e){f.emit("change",{direction:"push",change:e})}function u(e){f.emit("denied",{direction:"push",doc:e})}function c(e){f.emit("denied",{direction:"pull",doc:e})}function l(e){return function(t,n){var r="change"===t&&(n===i||n===a),o=t in d;(r||o)&&(t in h||(h[t]={}),h[t][e]=!0,2===Object.keys(h[t]).length&&f.removeAllListeners(t))}}var f=this;this.canceled=!1,this.push=s(e,t,n),this.pull=s(t,e,n);var d={},h={};n.live&&(this.push.on("complete",f.pull.cancel.bind(f.pull)),this.pull.on("complete",f.push.cancel.bind(f.push))),this.on("newListener",function(e){"change"===e?(f.pull.on("change",i),f.push.on("change",a)):"denied"===e&&(f.pull.on("denied",c),f.push.on("denied",u))}),this.on("removeListener",function(e){"change"===e&&(f.pull.removeListener("change",i),f.push.removeListener("change",a))}),this.pull.on("removeListener",l("pull")),this.push.on("removeListener",l("push"));var p=o.Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return f.emit("complete",t),r&&r(null,t),f.removeAllListeners(),t},function(e){if(f.cancel(),r?r(e):f.emit("error",e),f.removeAllListeners(),r)throw e});this.then=function(e,t){return p.then(e,t)},this["catch"]=function(e){return p["catch"](e)}}var o=e(84),a=e(78),s=a.replicate,u=e(87).EventEmitter;o.inherits(i,u),t.exports=r,i.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{78:78,84:84,87:87}],83:[function(e,t,n){"use strict";function r(){this.isReady=!1,this.failed=!1,this.queue=[]}t.exports=r,r.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},r.prototype.fail=function(e){this.failed=e,this.execute()},r.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},r.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()}},{}],84:[function(e,t,n){function r(e,t,n){try{return!e(t,n)}catch(r){var i="Filter function threw: "+r.toString();return c.error(c.BAD_REQUEST,i)}}var i=e(56);n.ajax=e(25),n.uuid=e(65),n.getArguments=e(86);var o=e(97);n.Map=o.Map,n.Set=o.Set;var a=e(42),s=e(62);n.Promise=s;var u=e(28),c=e(48);n.atob=u.atob,n.btoa=u.btoa;var l=e(31);n.binaryStringToBlobOrBuffer=l,n.clone=e(37),n.extend=e(49),n.pick=e(61),n.inherits=e(92),n.filterChange=function(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var o=n&&r(e.filter,i.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var a in i.doc._attachments)i.doc._attachments.hasOwnProperty(a)&&(i.doc._attachments[a].stub=!0)}else delete i.doc;return!0}},n.parseDoc=a.parseDoc,n.invalidIdError=a.invalidIdError,n.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},n.Changes=e(15),n.once=e(58),n.toPromise=e(63),n.adapterFun=function(t,r){function i(e,t,n){if(o.enabled){for(var r=[e._db_name,t],i=0;i<n.length-1;i++)r.push(n[i]);o.apply(null,r);var a=n[n.length-1];n[n.length-1]=function(n,r){var i=[e._db_name,t];i=i.concat(n?["error",n]:["success",r]),o.apply(null,i),a(n,r)}}}var o=e(89)("pouchdb:api");return n.toPromise(n.getArguments(function(e){if(this._closed)return s.reject(new Error("database is closed"));var n=this;return i(n,t,e),this.taskqueue.isReady?r.apply(this,e):new s(function(r,i){n.taskqueue.addTask(function(o){o?i(o):r(n[t].apply(n,e))})})}))},n.explain404=e(22),n.parseUri=e(60),n.compare=function(e,t){return t>e?-1:e>t?1:0},n.compactTree=function(e){var t=[];return i(e.rev_tree,function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")}),t};var f=e(99);n.safeJsonParse=function(e){try{return JSON.parse(e)}catch(t){return f.parse(e)}},n.safeJsonStringify=function(e){try{return JSON.stringify(e)}catch(t){return f.stringify(e)}}},{15:15,22:22,25:25,28:28,31:31,37:37,42:42,48:48,49:49,56:56,58:58,60:60,61:61,62:62,63:63,65:65,86:86,89:89,92:92,97:97,99:99}],85:[function(e,t,n){t.exports="4.0.3"},{}],86:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],87:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],88:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],89:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e(90),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{90:90}],90:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var u=i.log||n.log||console.log.bind(console);u.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(91),n.names=[],n.skips=[],n.formatters={};var c,l=0},{91:91}],91:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],92:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],93:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(i){return v.reject(e,i)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){a[t]=e,++s!==i||o||(o=!0,v.resolve(c,a))}n.resolve(e).then(r,function(e){o||(o=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,c=new this(r);++u<i;)t(e[u],u);return c}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,v.resolve(s,e))},function(e){o||(o=!0,v.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)t(e[a]);return s}var p=e(94),v={},m=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=n=i,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===g?e:t;a(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=g,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t);
}return e},v.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=l,n.reject=f,n.all=d,n.race=h},{94:94}],94:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],95:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),i=-1,o=r.length,a="";if(t)for(;++i<o;)a+=n.toIndexableString(r[i]);else for(;++i<o;){var s=r[i];a+=n.toIndexableString(s)+n.toIndexableString(e[s])}return a}return""}function i(e,t){var n,r=t,i="1"===e[t];if(i)n=0,t++;else{var o="0"===e[t];t++;var a="",s=e.substring(t,t+d),u=parseInt(s,10)+f;for(o&&(u=-u),t+=d;;){var c=e[t];if("\x00"===c)break;a+=c,t++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function o(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var a=e.pop();i[a]=n}else e.push(n)}}function a(e,t){for(var r=Math.min(e.length,t.length),i=0;r>i;i++){var o=n.collate(e[i],t[i]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function u(e,t){for(var r=Object.keys(e),i=Object.keys(t),o=Math.min(r.length,i.length),a=0;o>a;a++){var s=n.collate(r[a],i[a]);if(0!==s)return s;if(s=n.collate(e[r[a]],t[i[a]]),0!==s)return s}return r.length===i.length?0:r.length>i.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:3>n?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=0>e,i=r?"0":"2",o=(r?-n:n)-f,a=p.padLeft(o.toString(),"0",d);i+=h+a;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var u=s.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=h+u}var f=-324,d=3,h="",p=e(96);n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=c(e),i=c(t);if(r-i!==0)return r-i;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:t>e?-1:1;case"string":return s(e,t)}return Array.isArray(e)?a(e,t):u(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;r>i;i++)e[i]=n.normalizeKey(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];"undefined"!=typeof a&&(e[o]=n.normalizeKey(a))}}}}return e},n.toIndexableString=function(e){var t="\x00";return e=n.normalizeKey(e),c(e)+h+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\x00"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=i(e,r);t.push(s.num),r+=s.length;break;case"4":for(var u="";;){var c=e[r];if("\x00"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();o(t,n)}}}},{96:96}],96:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}n.padLeft=function(e,t,n){var i=r(e,t,n);return i+e},n.padRight=function(e,t,n){var i=r(e,t,n);return e+i},n.stringLexCompare=function(e,t){var n,r=e.length,i=t.length;for(n=0;r>n;n++){if(n===i)return 1;var o=e.charAt(n),a=t.charAt(n);if(o!==a)return a>o?-1:1}return i>r?-1:0},n.intToDecimalForm=function(e){var t=0>e,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],97:[function(e,t,n){"use strict";function r(){this.store={}}function i(e){if(this.store=new r,e&&Array.isArray(e))for(var t=0,n=e.length;n>t;t++)this.add(e[t])}n.Map=r,n.Set=i,r.prototype.mangle=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e},r.prototype.unmangle=function(e){return e.substring(1)},r.prototype.get=function(e){var t=this.mangle(e);return t in this.store?this.store[t]:void 0},r.prototype.set=function(e,t){var n=this.mangle(e);return this.store[n]=t,!0},r.prototype.has=function(e){var t=this.mangle(e);return t in this.store},r.prototype["delete"]=function(e){var t=this.mangle(e);return t in this.store?(delete this.store[t],!0):!1},r.prototype.forEach=function(e){for(var t=Object.keys(this.store),n=0,r=t.length;r>n;n++){var i=t[n],o=this.store[i];i=this.unmangle(i),e(o,i)}},i.prototype.add=function(e){return this.store.set(e,!0)},i.prototype.has=function(e){return this.store.has(e)},i.prototype["delete"]=function(e){return this.store["delete"](e)}},{}],98:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(i){r=self}r.SparkMD5=e()}}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,i,o,a){return n=t(t(n,e),t(i,a)),t(n<<o|n>>>32-o,r)},r=function(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)},i=function(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)},o=function(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)},a=function(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)},s=function(e,n){var s=e[0],u=e[1],c=e[2],l=e[3];s=r(s,u,c,l,n[0],7,-680876936),l=r(l,s,u,c,n[1],12,-389564586),c=r(c,l,s,u,n[2],17,606105819),u=r(u,c,l,s,n[3],22,-1044525330),s=r(s,u,c,l,n[4],7,-176418897),l=r(l,s,u,c,n[5],12,1200080426),c=r(c,l,s,u,n[6],17,-1473231341),u=r(u,c,l,s,n[7],22,-45705983),s=r(s,u,c,l,n[8],7,1770035416),l=r(l,s,u,c,n[9],12,-1958414417),c=r(c,l,s,u,n[10],17,-42063),u=r(u,c,l,s,n[11],22,-1990404162),s=r(s,u,c,l,n[12],7,1804603682),l=r(l,s,u,c,n[13],12,-40341101),c=r(c,l,s,u,n[14],17,-1502002290),u=r(u,c,l,s,n[15],22,1236535329),s=i(s,u,c,l,n[1],5,-165796510),l=i(l,s,u,c,n[6],9,-1069501632),c=i(c,l,s,u,n[11],14,643717713),u=i(u,c,l,s,n[0],20,-373897302),s=i(s,u,c,l,n[5],5,-701558691),l=i(l,s,u,c,n[10],9,38016083),c=i(c,l,s,u,n[15],14,-660478335),u=i(u,c,l,s,n[4],20,-405537848),s=i(s,u,c,l,n[9],5,568446438),l=i(l,s,u,c,n[14],9,-1019803690),c=i(c,l,s,u,n[3],14,-187363961),u=i(u,c,l,s,n[8],20,1163531501),s=i(s,u,c,l,n[13],5,-1444681467),l=i(l,s,u,c,n[2],9,-51403784),c=i(c,l,s,u,n[7],14,1735328473),u=i(u,c,l,s,n[12],20,-1926607734),s=o(s,u,c,l,n[5],4,-378558),l=o(l,s,u,c,n[8],11,-2022574463),c=o(c,l,s,u,n[11],16,1839030562),u=o(u,c,l,s,n[14],23,-35309556),s=o(s,u,c,l,n[1],4,-1530992060),l=o(l,s,u,c,n[4],11,1272893353),c=o(c,l,s,u,n[7],16,-155497632),u=o(u,c,l,s,n[10],23,-1094730640),s=o(s,u,c,l,n[13],4,681279174),l=o(l,s,u,c,n[0],11,-358537222),c=o(c,l,s,u,n[3],16,-722521979),u=o(u,c,l,s,n[6],23,76029189),s=o(s,u,c,l,n[9],4,-640364487),l=o(l,s,u,c,n[12],11,-421815835),c=o(c,l,s,u,n[15],16,530742520),u=o(u,c,l,s,n[2],23,-995338651),s=a(s,u,c,l,n[0],6,-198630844),l=a(l,s,u,c,n[7],10,1126891415),c=a(c,l,s,u,n[14],15,-1416354905),u=a(u,c,l,s,n[5],21,-57434055),s=a(s,u,c,l,n[12],6,1700485571),l=a(l,s,u,c,n[3],10,-1894986606),c=a(c,l,s,u,n[10],15,-1051523),u=a(u,c,l,s,n[1],21,-2054922799),s=a(s,u,c,l,n[8],6,1873313359),l=a(l,s,u,c,n[15],10,-30611744),c=a(c,l,s,u,n[6],15,-1560198380),u=a(u,c,l,s,n[13],21,1309151649),s=a(s,u,c,l,n[4],6,-145523070),l=a(l,s,u,c,n[11],10,-1120210379),c=a(c,l,s,u,n[2],15,718787259),u=a(u,c,l,s,n[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(u,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},u=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,i,o,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)s(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l},f=function(e){var t,n,r,i,o,a,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;u>=t;t+=64)s(l,c(e.subarray(t-64,t)));for(e=u>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*u,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;4>t;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},v=function(e){return p(l(e))},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==v("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)s(this._state,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(s(this._state,e),o=0;16>o;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,s(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},m.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)s(this._state,c(n.subarray(t-64,t)));return this._buff=r>t-64?n.subarray(t-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},m.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},m})},{}],99:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var a=t.pop();i[a]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,c,l,f,d,h="";n=t.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",h+=i,o)h+=o;else if("object"!=typeof r)h+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)s=0===a?"":",",t.push({obj:r[a],prefix:s});t.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),a=u.length-1;a>=0;a--)l=u[a],f=r[l],d=a>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return h},n.parse=function(e){for(var t,n,i,o,a,s,u,c,l,f=[],d=[],h=0;;)if(t=e[h++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":h+=3,r(null,f,d);break;case"t":h+=3,r(!0,f,d);break;case"f":h+=4,r(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}n+=i}r(parseFloat(n),f,d);break;case'"':for(o="",a=void 0,s=0;;){if(u=e[h++],'"'===u&&("\\"!==a||s%2!==1))break;o+=u,a=u,"\\"===a?s++:s=0}r(JSON.parse('"'+o+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,d)}}},{}],100:[function(e,t,n){"use strict";var r=e(81);t.exports=r,r.ajax=e(25),r.utils=e(84),r.Errors=e(48),r.replicate=e(78).replicate,r.sync=e(82),r.version=e(85);var i=e(3);r.adapter("http",i),r.adapter("https",i),r.plugin(e(70));var o=e(2);Object.keys(o).forEach(function(e){r.adapter(e,o[e],!0)})},{2:2,25:25,3:3,48:48,70:70,78:78,81:81,82:82,84:84,85:85}]},{},[100])(100)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],100:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],101:[function(e,t,n){"use strict";t.exports=e("./lib")},{"./lib":106}],102:[function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return m=t,g}}function o(e,t){try{return e(t)}catch(n){return m=n,g}}function a(e,t,n){try{e(t,n)}catch(r){return m=r,g}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],e!==r&&p(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new h(t,n,a))})}function c(e,t){for(;3===e._37;)e=e._12;return 0===e._37?void e._59.push(t):void v(function(){var n=1===e._37?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._37?l(t.promise,e._12):f(t.promise,e._12));var r=o(n,e._12);r===g?f(t.promise,m):l(t.promise,r)})}function l(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===g)return f(e,m);if(n===e.then&&t instanceof s)return e._37=3,e._12=t,void d(e);if("function"==typeof n)return void p(n.bind(t),e)}e._37=1,e._12=t,d(e)}function f(e,t){e._37=2,e._12=t,d(e)}function d(e){for(var t=0;t<e._59.length;t++)c(e,e._59[t]);e._59=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1,r=a(e,function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==g||(n=!0,f(t,m))}var v=e("asap/raw"),m=null,g={};t.exports=s,s._99=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new h(e,t,n)),n}},{"asap/raw":30}],103:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},{"./core.js":102}],104:[function(e,t,n){"use strict";function r(e){var t=new i(i._99);return t._37=1,t._12=e,t}var i=e("./core.js");t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._37;)s=s._12;return 1===s._37?r(a,s._12):(2===s._37&&n(s._12),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":102}],105:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype["finally"]=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},{"./core.js":102}],106:[function(e,t,n){"use strict";t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js")},{"./core.js":102,"./done.js":103,"./es6-extensions.js":104,"./finally.js":105,"./node-extensions.js":107}],107:[function(e,t,n){"use strict";var r=e("./core.js"),i=e("asap");t.exports=r,r.denodeify=function(e,t){return t=t||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments,0,t>0?t:0);return new r(function(t,r){i.push(function(e,n){e?r(e):t(n)});var o=e.apply(n,i);!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then||t(o)})}},r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return e.apply(this,arguments).nodeify(n,o)}catch(a){if(null===n||"undefined"==typeof n)return new r(function(e,t){t(a)});i(function(){n.call(o,a)})}}},r.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){i(function(){e.call(t,null,n)})},function(n){i(function(){e.call(t,n)})})}},{"./core.js":102,asap:28}],108:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!A(n)&&b.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function r(e){return function(t,n,r){n=x(n,r);for(var i=T(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=T(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=R.length,r=e.constructor,i=b.isFunction(r)&&r.prototype||c,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)o=R[n],o in e&&e[o]!==i[o]&&!b.contains(t,o)&&t.push(o)}var a=this,s=a._,u=Array.prototype,c=Object.prototype,l=Function.prototype,f=u.push,d=u.slice,h=c.toString,p=c.hasOwnProperty,v=Array.isArray,m=Object.keys,g=l.bind,y=Object.create,_=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?b.identity:b.isFunction(e)?w(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return x(e,t,1/0)};var S=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}},E=function(e){if(!b.isObject(e))return{};if(y)return y(e);_.prototype=e;var t=new _;return _.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},O=Math.pow(2,53)-1,T=k("length"),A=function(e){var t=T(e);return"number"==typeof t&&t>=0&&O>=t};b.each=b.forEach=function(e,t,n){t=w(t,n);var r,i;if(A(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=b.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},b.map=b.collect=function(e,t,n){t=x(t,n);for(var r=!A(e)&&b.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var r;return r=A(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},b.filter=b.select=function(e,t,n){var r=[];return t=x(t,n),b.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},b.reject=function(e,t,n){return b.filter(e,b.negate(x(t)),n)},b.every=b.all=function(e,t,n){t=x(t,n);for(var r=!A(e)&&b.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=x(t,n);for(var r=!A(e)&&b.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,r){return A(e)||(e=b.values(e)),("number"!=typeof n||r)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=d.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=A(e)?e:b.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else t=x(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},b.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:b.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else t=x(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(a>i||i===1/0&&o===1/0)&&(o=e,a=i)});return o},b.shuffle=function(e){for(var t,n=A(e)?e:b.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=b.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},b.sample=function(e,t,n){return null==t||n?(A(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=x(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var i={};return n=x(n,r),b.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};b.groupBy=D(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=D(function(e,t,n){e[n]=t}),b.countBy=D(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?d.call(e):A(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:A(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return b.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},b.first=b.head=b.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var j=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=T(e);s>a;a++){var u=e[a];if(A(u)&&(b.isArray(u)||b.isArguments(u))){t||(u=j(u,t,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};b.flatten=function(e,t){return j(e,t,!1)},b.without=function(e){return b.difference(e,d.call(arguments,1))},b.uniq=b.unique=function(e,t,n,r){b.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=T(e);s>a;a++){var u=e[a],c=n?n(u,a,e):u;t?(a&&o===c||i.push(u),o=c):n?b.contains(o,c)||(o.push(c),i.push(u)):b.contains(i,u)||i.push(u)}return i},b.union=function(){return b.uniq(j(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=T(e);i>r;r++){var o=e[r];if(!b.contains(t,o)){for(var a=1;n>a&&b.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},b.difference=function(e){var t=j(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,T).length||0,n=Array(t),r=0;t>r;r++)n[r]=b.pluck(e,r);return n},b.object=function(e,t){for(var n={},r=0,i=T(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),o=0,a=T(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var C=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=E(e.prototype),a=e.apply(o,i);return b.isObject(a)?a:o};b.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,d.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return C(e,r,t,this,n.concat(d.call(arguments)))};return r},b.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===b?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return C(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return b.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=b.now();s||n.leading!==!1||(s=c);var l=t-(c-s);return r=this,i=arguments,0>=l||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},b.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var c=b.now()-a;t>c&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},b.once=b.partial(b.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return I&&o(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&o(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},b.mapObject=function(e,t,n){t=x(t,n);for(var r,i=b.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},b.invert=function(e){for(var t={},n=b.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=S(b.allKeys),b.extendOwn=b.assign=S(b.keys),b.findKey=function(e,t,n){t=x(t,n);for(var r,i=b.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},b.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;b.isFunction(t)?(i=b.allKeys(a),r=w(t,n)):(i=j(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(j(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,n)},b.defaults=S(b.allKeys,!0),b.create=function(e,t){var n=E(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;
}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!M(e[u],t[u],n,r))return!1}else{var c,l=b.keys(e);if(u=l.length,b.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!b.has(t,c)||!M(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(e,t){return M(e,t)},b.isEmpty=function(e){return null==e?!0:A(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=v||function(e){return"[object Array]"===h.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return a._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=k,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=b.invert(q),L=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};b.escape=L(q),b.unescape=L(N),b.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),b.isFunction(r)?r.call(e):r};var P=0;b.uniqueId=function(e){var t=++P+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+U[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(B,Y),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,b)},c=t.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},b.chain=function(e){var t=b(e);return t._chain=!0,t};var H=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),H(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),b.each(["concat","join","slice"],function(e){var t=u[e];b.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],109:[function(e,t,n){t.exports={name:"capot",version:"1.0.7",author:"Lupo Montero",license:"MIT",repository:"lupomontero/capot",bin:{capot:"./bin/cli.js"},scripts:{test:"gulp test:server && gulp test:client"},dependencies:{async:"^1.4.2",backbone:"^1.2.2",boom:"^2.9.0",follow:"^0.12.1",h2o2:"^4.0.1",handlebars:"^4.0.3",hapi:"^10.1.0",inert:"^3.0.1",joi:"^6.6.1",lodash:"^3.10.1",minimist:"^1.1.3",moment:"^2.10.6",multicouch:"^0.8.2",nodemailer:"^1.5.0",pouchdb:"^4.0.0",promise:"^7.0.4",read:"^1.0.6",request:"^2.64.0",which:"^1.1.2"},devDependencies:{browserify:"^11.2.0",favicons:"^3.1.3",gulp:"^3.9.0","gulp-concat":"^2.6.0","gulp-declare":"^0.3.0","gulp-handlebars":"^4.0.0","gulp-imagemin":"^2.3.0","gulp-jshint":"^1.11.2","gulp-manifest":"^0.0.10","gulp-mocha":"^2.1.3","gulp-rename":"^1.2.0","gulp-replace":"^0.5.4","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","gulp-wrap":"^0.11.0","jshint-stylish":"^2.0.1",karma:"^0.13.9","karma-browserify":"^4.3.0","karma-mocha":"^0.2.0","karma-mocha-reporter":"^1.1.1","karma-phantomjs-launcher":"^0.2.1",longjohn:"^0.2.8",lout:"^7.0.0","merge-stream":"^1.0.0",mkdirp:"^0.5.1",mocha:"^2.3.3",phantomjs:"^1.9.18",rimraf:"^2.4.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0",vision:"^3.0.0"},browser:{handlebars:"handlebars/runtime.js",pouchdb:"pouchdb/dist/pouchdb.js",extend:"lodash/object/extend.js",omit:"lodash/object/omit.js"}}},{}]},{},[3]);